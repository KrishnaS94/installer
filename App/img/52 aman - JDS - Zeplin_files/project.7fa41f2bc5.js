webpackJsonp([0],[,function(e,t,n){"use strict";n.d(t,"m",function(){return l}),n.d(t,"_1",function(){return c}),n.d(t,"E",function(){return d}),n.d(t,"t",function(){return u}),n.d(t,"V",function(){return h}),n.d(t,"T",function(){return p}),n.d(t,"i",function(){return m}),n.d(t,"I",function(){return f}),n.d(t,"y",function(){return b}),n.d(t,"Q",function(){return v}),n.d(t,"R",function(){return y}),n.d(t,"_0",function(){return C}),n.d(t,"S",function(){return w}),n.d(t,"C",function(){return E}),n.d(t,"U",function(){return j}),n.d(t,"W",function(){return D}),n.d(t,"_6",function(){return _}),n.d(t,"b",function(){return N}),n.d(t,"n",function(){return P}),n.d(t,"l",function(){return O}),n.d(t,"X",function(){return T}),n.d(t,"M",function(){return I}),n.d(t,"_4",function(){return A}),n.d(t,"a",function(){return M}),n.d(t,"_5",function(){return U}),n.d(t,"L",function(){return q}),n.d(t,"_2",function(){return H}),n.d(t,"O",function(){return W}),n.d(t,"J",function(){return $}),n.d(t,"c",function(){return G}),n.d(t,"F",function(){return Y}),n.d(t,"N",function(){return X}),n.d(t,"K",function(){return J}),n.d(t,"_3",function(){return ee}),n.d(t,"B",function(){return ne}),n.d(t,"Y",function(){return se}),n.d(t,"s",function(){return oe}),n.d(t,"w",function(){return ce}),n.d(t,"r",function(){return he}),n.d(t,"p",function(){return pe}),n.d(t,"P",function(){return me}),n.d(t,"D",function(){return ge}),n.d(t,"z",function(){return be}),n.d(t,"H",function(){return ve}),n.d(t,"q",function(){return Ce}),n.d(t,"v",function(){return we}),n.d(t,"h",function(){return Se}),n.d(t,"e",function(){return ke}),n.d(t,"f",function(){return Ee}),n.d(t,"u",function(){return Ie}),n.d(t,"j",function(){return ie}),n.d(t,"k",function(){return ae}),n.d(t,"x",function(){return Ae}),n.d(t,"Z",function(){return Ne}),n.d(t,"g",function(){return Pe}),n.d(t,"A",function(){return Me}),n.d(t,"G",function(){return Be}),n.d(t,"o",function(){return ue}),n.d(t,"d",function(){return Ze});var i=n(17),a=n.n(i),s=n(21),o=n.n(s),r=n(4);function l(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&apos;")}function c(e){return e.replace(/&apos;/gm,"'").replace(/&quot;/gm,'"').replace(/&gt;/gm,">").replace(/&lt;/gm,"<").replace(/&amp;/gm,"&")}function d(e){setTimeout(function(){e.focus(),e.select()},4)}function u(e){for(var t=e.parentElement;t&&t.scrollHeight<=t.clientHeight;)t=t.parentElement;return t}function h(e,t){var n=document.createElement("div"),i=document.createElement("div");n.appendChild(i),n.classList.add("toastContainer"),i.classList.add("toast"),i.textContent=e,(t=t||document.body).appendChild(n),setTimeout(function(){n.classList.add("show"),setTimeout(function(){n.addEventListener("transitionend",function(){n.remove()}),n.classList.remove("show")},3e3)},50)}function p(e){getSelection().removeAllRanges();var t=document.createRange();t.selectNodeContents(e),getSelection().addRange(t)}function m(e){var t=document.createElement("div");t.classList.add("copyContainer"),t.textContent=e.content,e.container?e.container.appendChild(t):document.body.appendChild(t),p(t);try{document.execCommand("copy")&&e.toastContainer&&h("Copied to clipboard!",e.toastContainer)}catch(e){}getSelection().removeAllRanges(),t.remove()}function f(e,t){if(!(t=t||u(e)))return!0;var n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return i.top<=n.top&&i.bottom>=n.bottom&&i.left<=n.left&&i.right>=n.right}function g(e,t){return new Promise(function(n){var i=document.createElement("canvas");i.width=t.width,i.height=t.height;var a=i.getContext("2d");a.webkitImageSmoothingEnabled=!0,a.mozImageSmoothingEnabled=!0,a.msImageSmoothingEnabled=!0,a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="medium";var s=document.createElement("img");s.crossOrigin="anonymous";var o,r,l,c=1,d=0,u=0;s.addEventListener("load",function(e){s.width<=i.width?(o=s.width,d=(i.width-s.width)/2):(c=i.width/s.width,o=i.width),t.height||(i.height=i.width*s.height/s.width),(l=c*s.height)<=i.height?(r=s.height,u=(i.height-l)/2):(r=i.height/c,l=i.height),a.drawImage(s,0,0,s.width,r,d,u,o,l),i.toBlob(function(e){n(URL.createObjectURL(e))})}),s.addEventListener("error",function(t){n(e)}),s.src=e})}function b(e,{width:t,height:n}){const i=`${Zeplin.urls.imgURL}/${encodeURIComponent(e)}`;let a=`?w=${t}`,s=`?w=${2*t}`;return n&&(a+=`&cropTop=0&cropLeft=0&cropWidth=${t}&cropHeight=${n}`,s+=`&cropTop=0&cropLeft=0&cropWidth=${2*t}&cropHeight=${2*n}`),{src:`${i}${a}`,srcset:`${i}${s} 2x`}}function v(e,t){const n=b(t,{width:e.width,height:e.height});e.addEventListener("error",function n(){e.removeEventListener("error",n),function(e,t){Promise.all([g(t,{width:e.width,height:e.height}),g(t,{width:2*e.width,height:2*e.height})]).then(function(t){Object.assign(e,{src:t[0],srcset:t[1]})})}(e,t)}),Object.assign(e,n)}function y(e,t){var n=Number(e).toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:t});return Number(n)}function C(e,t){return`${100*e/t}%`}function w(e,t){if(t=t||u(e)){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect();setTimeout(function(){n.top<i.top?t.scrollTop-=i.top-n.top:n.bottom>i.bottom&&(t.scrollTop+=n.bottom-i.bottom)},4)}}var S=["alien","bear","grapes","meat_on_bone","bread","lollipop","chicken","cookie","dark_sunglasses","dart","dog","eyes","frog","ghost","gift","jack_o_lantern","hamburger","koala","four_leaf_clover","lemon","lion_face","tophat","monkey_face","new_moon_with_face","hamster","mushroom","chestnut","octopus","panda_face","penguin","pig_nose","rabbit","mouse","robot_face","space_invader","full_moon_with_face","tennis","tomato","tv"],k={};function E(e,t){if(!e||!e.email)return{src:Zeplin.urls.appURL+"/img/emotars/emotarAnonymous.png"};var n,i=!1;if("ignoreRandomEmotar"in(t=t||{})&&(i=t.ignoreRandomEmotar),!i&&e.emotar){var s=e.emotar.replace(/_\w/g,function(e){return e.charAt(1).toUpperCase()});return s=H(s),{src:Zeplin.urls.appURL+"/img/emotars/emotar"+s+".png"}}if(e.avatar)return{src:e.avatar};if(i)return{src:Zeplin.urls.appURL+"/img/emotars/icRandom.svg"};var o=k[e._id];o||(o=Array.from(a()(e._id)).reduce(function(e,t){return e+t.charCodeAt()},0),k[e._id]=o),n=H(n=S[o%S.length].replace(/_\w/g,function(e){return e.charAt(1).toUpperCase()})),n=Zeplin.urls.appURL+"/img/emotars/emotar"+n+".png";var r="https://secure.gravatar.com/avatar/"+a()(e.email);return{src:r+"?"+(t.size?"s="+t.size+"&":"")+"d="+n,srcset:r+"?"+(t.size?"s="+2*t.size+"&":"")+"d="+n+" 2x"}}function j(e,t,n){var i=e.parentElement;i.classList.add("loading"),e.removeAttribute("src"),e.removeAttribute("srcset"),e.addEventListener("load",function t(){e.removeEventListener("load",t),i.classList.remove("loading")});var a=E(t,{ignoreRandomEmotar:!!n,size:e.width});a&&Object.assign(e,a)}var x={king:4,queen:3,rook:2,knight:1,pawn:0,owner:2,admin:1,user:0},D={role:(e,t)=>"invited"===e.user.status?"invited"===t.user.status&&e.user.email<t.user.email?-1:1:"invited"===t.user.status?-1:e.role===t.role?e.user.username<t.user.username?-1:1:x[t.role]-x[e.role],date(e,t,n){let i=t,a=n;for(let s=0;s<e.length;s++)i=i[e[s]],a=a[e[s]];return new Date(a)-new Date(i)},_property(e,t,n){let i=t,a=n;e&&(i=t[e],a=n[e]);const s=i.toLowerCase().match(/\D+|\d+/g),o=a.toLowerCase().match(/\D+|\d+/g),r=Math.min(s.length,o.length);for(var l=0;l<r;l++)if(s[l]!==o[l]){var c=parseInt(s[l],10),d=parseInt(o[l],10);return isNaN(c)||isNaN(d)?s[l]<o[l]?-1:s[l]>o[l]?1:0:c-d}return s.length-o.length}};function _(e){e.addEventListener("animationend",function(){e.classList.remove("wiggle")}),e.classList.add("wiggle")}D.created=D.date.bind(null,["created"]),D.updated=D.date.bind(null,["updated"]),D.lastUpdated=D.updated,D.naturally=D._property.bind(null,null),D.name=D._property.bind(null,"name");const O=o()();var L=/\ud83c[\udffb-\udfff]/g;function T(e){return e.replace(O,function(e){return L.test(e)?'<span class="emoji skinType">'+e+"</span>":'<span class="emoji">'+e+"</span>"}).replace(/<\/span><span class="emoji skinType">/g,"")}const R=["everyone","all","tutti","channel"];function I(e){const t=[...R,e].join("|");return new RegExp(`(?:${t})\\b`)}function A(e){const t=e.filter(({user:{username:e}})=>e).map(({user:{username:e}})=>e),n=[...R,...t].join("|");return new RegExp(`@(?:${n})\\b`,"gi")}function N(e,t){var n=e.findIndex(t);if(-1!==n)return e.splice(n,1)[0]}function P(e,t){return e.fontSize>t.fontSize?-1:e.fontSize<t.fontSize?1:e.fontWeight>t.fontWeight?-1:e.fontWeight<t.fontWeight?1:e.color&&!t.color?-1:t.color&&!e.color?1:e.fontFace<t.fontFace?-1:e.fontFace>t.fontFace?1:e.name<t.name?-1:1}function M(e,t,n){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function U(e,t){return!(!e||!/^[0-9a-f]{24}$/i.test(e))||("Raven"in window&&Raven.captureException(new Error("Invalid "+(t||"object")+" id"),{extra:{id:e}}),!1)}var B=["user","admin","owner","pawn","knight","rook","queen","king"],z={canTransferOwnership:["king","queen","rook","owner"],canLeaveProject:["king","queen","rook","knight","pawn","user","admin"],canCreateProject:["king","queen","rook"],canUpdateProject:["king","queen","rook","owner","admin","user"],canChangeProjectAccesibility:["king","queen","rook","owner","admin"],canChangeProjectStatus:["king","queen","rook","owner","admin"],canDeleteProject:["king","queen","rook","owner"],canManageScreens:["king","queen","rook","owner","admin","user"],canMoveScreens:["king","queen","rook","owner","admin"],canManageColors:["king","queen","rook","owner","admin","user"],canManageTextStyles:["king","queen","rook","owner","admin","user"],canRemoveNotes:["king","queen","owner","admin"],canRemoveExtensions:["king","queen","rook","knight","owner","admin","user"]};function F(e){return function(t){return z[e].indexOf(t.role)>=0}}function q(e){return e.charAt(0).toLowerCase()+e.substring(1)}function H(e){return e.charAt(0).toUpperCase()+e.substring(1)}var W={isSuperior:function(e,t,n){var i=B.indexOf(e.role),a=B.indexOf(t.role);return n&&i===a||i>a}};for(var Z in z)W[Z]=F(Z);var V=["king","queen","rook","knight","pawn"];function $(e){return!e.users.length||V.includes(e.users[0].role)}function G(e,t,n){const i=t.toLowerCase();if(e===i)return 1;let a=0,s=e,o=0;const r=n&&n.toLowerCase(),l=new RegExp(`\\s*\\b${r}\\b\\s*`,"ig");if(r&&l.test(s)&&(o=.3,!(s=s.replace(l," ").trim())))return o;const c=i.indexOf(s);c>-1&&(a+=.3,i.startsWith(s)?a+=.3:" "===i.charAt(c-1)&&(a+=.2),a+=(i.length-c)/i.length/200);let d=i.indexOf(s.charAt(0)),u=0,h=0;for(var p=d;p<i.length&&-1!==d;p++){u+=(i.length-d)/i.length/200," "===i.charAt(d>0?d-1:d)&&(u+=(i.length-d)/i.length/200);const e=s[++h];d=e?i.indexOf(e,d+1):-1}return h===s.length&&(a+=.05+u),a?a+o:0}function Y(e,t){const n=e.toLowerCase();let i=0,a="";for(const s of t){const t=n.indexOf(s,i);a+=l(e.substring(i,t)),a+=`<span class="highlight">${l(e.substr(t,s.length))}</span>`,i=t+s.length}return a+l(e.substring(i))}var K={downloads:"/downloads",forgotPassword:"/forgot-password",hodor:"/hodor",huggingSlack:"/hugging-slack",login:"/login",preview:"/project/:pid/preview",profile:"/profile","profile-account":"/profile/account","profile-password":"/profile/password","profile-billing":"/profile/billing",project:"/project/:pid","project-dashboard":"/project/:pid/dashboard","project-styleguide":"/project/:pid/styleguide","project-colors-textstyles":"/project/:pid/styleguide/colors-textstyles","project-styleguide-colors":"/project/:pid/styleguide/colors","project-styleguide-textstyles":"/project/:pid/styleguide/textstyles","project-styleguide-components":"/project/:pid/styleguide/components","project-screen":"/project/:pid/screen/:sid",projects:"/projects",register:"/register",resetPassword:"/reset-password",thanks:"/thanks",verify:"/verify",welcome:"/welcome","organization-create":"/organization/create","organization-dashboard":"/organization/:oid/dashboard","organization-profile":"/organization/:oid/profile","organization-profile-billing":"/organization/:oid/profile/billing","organization-projects":"/organization/:oid/projects"};function X(e){var t=(e="?"===e[0]?e.substring(1):e).split("&").map(function(e){return e.split("=").map(function(e){return e.replace(/\+/g,"%20")}).map(decodeURIComponent)}),n=Array.from(new Set(t.map(function(e){return e[0]}))).reduce(function(e,t){return e[t]=[],e},{});return t.forEach(function(e){var t=n[e[0]];t&&e[1]&&t.push(e[1])}),n}function J(e){if(!Object.keys(e))return"";var t=[];return Object.keys(e).forEach(function(n){e[n]&&("string"==typeof e[n]?t.push([n,e[n]]):e[n].forEach(function(e){t.push([n,e])}))}),t.map(function(e){return e.map(encodeURIComponent).join("=")}).join("&")}function Q(e){return 0===Object.keys(e).length}function ee(e,t){t=t||{};var n=new URL(t.origin||r.b);return n.pathname=t.url?function(e,t){return Object.keys(t).reduce(function(e,n){return e.replace(new RegExp(":"+n),t[n])},e)}(K[e],t.url):K[e],t.query&&!Q(t.query)&&(n.search=J(t.query)),t.hash&&!Q(t.hash)&&(n.hash=J(t.hash)),n.toString()}function te(e){return(e.getDay()+6)%7}function ne(e){var t=function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=t.getTime(),i=new Date(n-864e5),a=new Date(n-864e5*te(e)),s=new Date(n-864e5*(te(e)+7)),o=new Date(n-864e5*(e.getDate()-1)),r=new Date(n-864e5*(e.getDate()+1));return r.setDate(1),[["today",t],["yesterday",i],["this week",a],["last week",s],["this month",o],["last month",r]]}().find(function(t){return e>=t[1]});if(t)return t[0];var n={month:"long"};return(new Date).getFullYear()!==e.getFullYear()&&(n.year="numeric"),pe(e,n)}function ie(e,t){let n;return function(...i){const a=this;n?cancelAnimationFrame(n):t&&e.apply(a,i),n=requestAnimationFrame(function(){t||e.apply(a,i),n=null})}}function ae(e,t=1e3){let n=null,i=null;return function(...a){return clearTimeout(n),n=setTimeout(()=>{let t=e(...a);i(t),i=null},t),new Promise(e=>{i=e})}}function se(e,t){return e.split(/[\W_]/).some(function(e){return e.startsWith(t)})}function oe(e,t){return t?e.length-e.split("").reverse().join("").search(/\W/)-1:e.search(/\W/)}var re=["broccoli","car","cook","elephant","mariachi","paw","pear","rocket"],le=re.map(function(){return.95/(re.length-1)});function ce(){for(var e=Math.random(),t=0,n=0;t<re.length;t++)if(e<=(n+=le[t]))return re[t];return re[re.length-1]}le[re.indexOf("mariachi")]=.05;new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2});const de=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function ue(e){return de.format(e)}function he(e){return e?`${r.e}/${e.id}`:r.e}function pe(e,t){var n=new Intl.DateTimeFormat("en",t),i=n.resolvedOptions().timeZone;return i&&"etc/unknown"!==i.toLowerCase()||(t.timeZone="UTC",n=new Intl.DateTimeFormat("en",t)),n.format(new Date(e))}function me(e,t){const n=e.x+e.width,i=e.y+e.height,a=t.x+t.width,s=t.y+t.height;return e.x<=t.x&&e.y<=t.y&&n>=a&&i>=s}var fe={king:"Owner",queen:"Admin",rook:"Editor",knight:"Member",pawn:"",owner:"Owner",admin:"Admin",user:""};function ge(e){return fe[e]||""}function be(e){return`ic${H(e)}`}function ve(e){return["input","textarea"].includes(e.tagName.toLowerCase())||e.isContentEditable}const ye=Object.freeze({mdpi:1,"1x":1,web:1,unknown:1,undefined:1,hdpi:1.5,xhdpi:2,"2x":2,xxhdpi:3,"3x":3,xxxhdpi:4,"4x":4});function Ce(e){return ye[e]}function we(e,t){return e.reduce(function(e,n){if(!t.conforms(n))return e;const i=Object.keys(n).filter(e=>void 0!==n[e]).length;return i>e.score?{textStyle:n,score:i}:e},{textStyle:null,score:0}).textStyle}const Se=Object.freeze({ios:/[^\da-z]/gi,osx:/[^\da-z]/gi,web:/[^\w-]/g,android:/\W/g});function ke(){return document.queryCommandSupported("copy")}function Ee(){return"download"in document.createElement("a")}const je=210,xe=4,De=255,_e=0,Oe=1,Le=2,Te=3;const Re={};function Ie(e){return new Promise((t,n)=>{const i="string"==typeof e?e:e.src;if(i in Re)t(Re[i]);else{const a="string"==typeof e?document.createElement("img"):e;a.crossOrigin="anonymous",a.addEventListener("load",function e(){a.removeEventListener("load",e);const n=document.createElement("canvas"),s=n.getContext("2d");n.width=a.width,n.height=a.height,s.drawImage(a,0,0);const o=function(e){for(let t=0;t<e.length;t+=xe){const n=e[t+_e],i=e[t+Oe],a=e[t+Le];if(e[t+Te]>=De-je&&(n<je||i<je||a<je))return!1}return!0}(s.getImageData(0,0,n.width,n.height).data)?"light":"dark",r={size:{width:a.width,height:a.height},lightness:o};Re[i]=r,t(r)}),a.addEventListener("error",function e(t){a.removeEventListener("error",e),n(t)}),"string"==typeof e&&(a.src=e)}})}function Ae(e=1/0){return Math.random().toString(36).substr(2,e)}function Ne(e){e.stopPropagation()}function Pe(e=[]){return[].concat(...e.map(e=>e.components.concat(Pe(e.componentSections))))}const Me=function(){let e;return function(t,n){e||(e=document.createElement("canvas"));const i=e.getContext("2d");return i.font=n,i.measureText(t).width}}(),Ue=1e-4;function Be(e,t,n=Ue){return Math.abs(e-t)<n}const ze=16,Fe=13,qe=2,He=document.createElement("canvas");function We(e){return e/2*window.devicePixelRatio}function Ze(){He.width=ze*window.devicePixelRatio,He.height=He.width;const e=He.getContext("2d");return e.beginPath(),e.fillStyle="#ee6723",e.arc(We(ze),We(ze),We(Fe),0,6.28,!1),e.fill(),e.beginPath(),e.fillStyle="#fff",e.arc(We(ze),We(ze),We(qe),0,6.28,!1),e.fill(),He.toDataURL()}},,function(e,t,n){"use strict";t.a=function(){var e=[];return Array.from(arguments).forEach(function(t){t&&(Array.isArray(t)?e=e.concat(t):"string"==typeof t?e.push(t):"object"==typeof t&&(e=e.concat(Object.keys(t).filter(function(e){return!0===t[e]}))))}),e.join(" ")}},function(e,t,n){"use strict";t.A="https://zeplin.io";t.b="https://app.zeplin.io";t.c="https://api.zeplin.io";t.k="https://img.zeplin.io";t.d="https://cdn.zeplin.io";t.r="https://scene.zeplin.io";t.e="https://extensions.zeplin.io";t.x="59dfedff7c722575736b3e8d";t.B="zpl:";t.l="41ycdg94";t.n="8e2050dc40d37740b8825eebb37415a9";t.m="26bd4a3dcc47c8a293c60fa00656fb81";t.i="UA-51352708-4";t.j="UA-51352708-8";t.f="1654544691505740";t.w="pk_live_XfHC5uYDKaZYEOC1m9FlXwtq";t.t="https://005c26d193b24ce099639f75fb5fbc85@app.getsentry.com/83039";t.u="production";t.v="8.10.2";t.q="12ddd9afec9f9b421244";t.y="private-user@";t.p="private-project@";t.o="private-organization@";t.a="announcement";t.s="secure";t.z="8.10.2";t.g="true";t.h="false"},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return r});var i=n(4),a=n(1);const s=i.b;function o(e){const t=new URL(s);return t.pathname=e,t.href}function r(e,t=["2x","3x"]){const n=e.match(/(.*)\.([^.]+)/);if(n&&3===n.length)return t.map(e=>`${n[1]}@${e}.${n[2]} ${e}`).join(", ")}function l(e){if("random"===e)return o("img/emotars/icRandom.svg");return o(`img/emotars/emotar${Object(a._2)(e.replace(/_\w/g,e=>e.charAt(1).toUpperCase()))}.png`)}},function(e,t,n){"use strict";t.a={ADD:"add",DELETE:"delete",UPDATE:"update",PERSON:"person",NOTE:"note",TRANSFER:"transfer",ARCHIVE:"archive",ACTIVATE:"activate",SLACK:"slack",ADMIN:"admin",MENTION:"mention",GROUP_MEMBERS:"groupMembers",GROUP_COLORS:"groupColors",TEXT_STYLES:"textStyles",STAR:"star"}},function(e,t,n){"use strict";var i=n(212);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(219);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(36),a=n.n(i),s=n(4);function o(e){var t=document.createElement("dialog"),n=document.createElement("h1"),i=document.createElement("div"),a=document.createElement("form"),o=document.createElement("button"),r=document.createElement("div"),l=document.createElement("div");if(e&&e.img){var c=document.createElement("div");c.classList.add("iconContainer"),r.appendChild(c),function(e,t){var n=t.querySelector("img");n?(n.src=e.src,n.srcset=e.srcset||""):((n=document.createElement("img")).src=e.src,n.srcset=e.srcset||"",t.querySelector(".iconContainer").appendChild(n))}(e.img,t)}if(!s.g&&e&&e.testid&&(t.dataset.testid=e.testid),n.classList.add("title"),r.appendChild(n),i.classList.add("message"),r.appendChild(i),e&&e.input){r.classList.add("inputDialogContainer");var d=document.createElement("div"),u=document.createElement("span"),h=document.createElement("input");d.classList.add("inputContainer"),u.classList.add("subtitle"),u.textContent=e.input.title,h.type=e.input.type,d.appendChild(u),d.appendChild(h),a.appendChild(d)}if(e&&e.cancel){var p=document.createElement("button");p.classList.add("cancel"),p.type="submit",p.textContent=e.cancel.name||"CANCEL",p.appendChild(document.createElement("paper-ripple")),e.cancel.cb&&p.addEventListener("click",e.cancel.cb),l.appendChild(p)}return o.classList.add("done"),o.type="submit",o.autofocus=!0,o.textContent=e&&e.done&&e.done.name||"OK",o.appendChild(document.createElement("paper-ripple")),e&&e.done&&e.done.cb&&o.addEventListener("click",e.done.cb),l.appendChild(o),l.classList.add("buttonContainer"),a.appendChild(l),a.setAttribute("method","dialog"),r.appendChild(a),t.appendChild(r),document.querySelector("body").appendChild(t),t}function r(e,t){if(!document.querySelector("dialog.generic")||e){var n=e&&e.title||"",i=e&&e.message||"We're experiencing a problem here, our developers are on the case. Please try it later.",s=!1;if(t&&"defer"in t&&(s=t.defer),s)sessionStorage.setItem("deferredDialog",JSON.stringify({title:n,message:i}));else{var r=o(e);a.a.registerDialog(r),r.querySelector(".title").textContent=n,r.querySelector(".message").textContent=i,r.addEventListener("click",function(e){e.stopPropagation()}),r.addEventListener("close",function(){r.remove()}),e||r.classList.add("generic"),r.showModal()}}}n.d(t,"b",function(){return a.a});var l=JSON.parse(sessionStorage.getItem("deferredDialog"));l&&(sessionStorage.removeItem("deferredDialog"),r(l))},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return d});var i=n(18),a=n.n(i),s=n(22),o=n(28),r=n(9),l=n(4);function c(e,t){return t=t||{},e>=400&&e<500?new s.a(e,t.title,t.message):e>=500&&e<600?new o.a(e):new Error("We're experiencing a problem here, our developers are on the case. Please try it later.")}function d(e,t){var n={title:e.title,message:e.message};if(l.h&&console.error(e),e instanceof o.a)t?"serverErrorHandler"in t?t.serverErrorHandler(e):("serverErrorDialogCallback"in t?n.done={cb:t.serverErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),r.a(n)):r.a(n);else if(e instanceof s.a)if(401===e.status){if(t&&"clientErrorHandler"in t&&"object"==typeof t.clientErrorHandler)if("function"==typeof(c=t.clientErrorHandler[401]))return void c();a.a.expire("userToken"),localStorage.removeItem("user"),Raven.setUserContext(),r.a({title:e.title,message:e.message},{defer:!0}),Zeplin.requireLogin()}else if(400===e.status&&Raven.captureException(e),t)if("clientErrorHandler"in t){var i=t.clientErrorHandler;if("function"==typeof i)i(e);else if("object"==typeof i){var c;"function"==typeof(c=i[e.status])?c(e):"default"in i&&i.default(e)}}else"clientErrorDialogCallback"in t?n.done={cb:t.clientErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),r.a(n);else r.a(n);else if(Raven.captureException(e),t&&"fallbackHandler"in t)t.fallbackHandler();else{let e=l.g?null:{testid:"genericErrorDialog"};r.a(e)}}},function(e,t,n){"use strict";t.a=function(e,t,n="nodeRefs"){n in e||(e[n]={});"refHandlers"in e||(e.refHandlers={});const{[n]:i,refHandlers:a}=e;"function"!=typeof a[t]&&(a[t]=(e=>{i[t]=e}));return a[t]}},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(138),r=n(35);function l(e){const{avatarUrl:t,subIconType:n}=e;return i.default.h(o.a,{subIconType:n},i.default.h(r.a,{width:"36",height:"36",src:t}))}l.propTypes={avatarUrl:s.a.string.isRequired,subIconType:s.a.string},t.a=l},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){"use strict";var i=n(60);t.a=i.a},function(e,t,n){"use strict";var i=n(217);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(100);n.d(t,"a",function(){return i.a})},function(e,t,n){!function(){var t=n(19),i=n(13).utf8,a=n(20),s=n(13).bin,o=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?s.stringToBytes(e):i.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var r=t.bytesToWords(e),l=8*e.length,c=1732584193,d=-271733879,u=-1732584194,h=271733878,p=0;p<r.length;p++)r[p]=16711935&(r[p]<<8|r[p]>>>24)|4278255360&(r[p]<<24|r[p]>>>8);r[l>>>5]|=128<<l%32,r[14+(l+64>>>9<<4)]=l;var m=o._ff,f=o._gg,g=o._hh,b=o._ii;for(p=0;p<r.length;p+=16){var v=c,y=d,C=u,w=h;d=b(d=b(d=b(d=b(d=g(d=g(d=g(d=g(d=f(d=f(d=f(d=f(d=m(d=m(d=m(d=m(d,u=m(u,h=m(h,c=m(c,d,u,h,r[p+0],7,-680876936),d,u,r[p+1],12,-389564586),c,d,r[p+2],17,606105819),h,c,r[p+3],22,-1044525330),u=m(u,h=m(h,c=m(c,d,u,h,r[p+4],7,-176418897),d,u,r[p+5],12,1200080426),c,d,r[p+6],17,-1473231341),h,c,r[p+7],22,-45705983),u=m(u,h=m(h,c=m(c,d,u,h,r[p+8],7,1770035416),d,u,r[p+9],12,-1958414417),c,d,r[p+10],17,-42063),h,c,r[p+11],22,-1990404162),u=m(u,h=m(h,c=m(c,d,u,h,r[p+12],7,1804603682),d,u,r[p+13],12,-40341101),c,d,r[p+14],17,-1502002290),h,c,r[p+15],22,1236535329),u=f(u,h=f(h,c=f(c,d,u,h,r[p+1],5,-165796510),d,u,r[p+6],9,-1069501632),c,d,r[p+11],14,643717713),h,c,r[p+0],20,-373897302),u=f(u,h=f(h,c=f(c,d,u,h,r[p+5],5,-701558691),d,u,r[p+10],9,38016083),c,d,r[p+15],14,-660478335),h,c,r[p+4],20,-405537848),u=f(u,h=f(h,c=f(c,d,u,h,r[p+9],5,568446438),d,u,r[p+14],9,-1019803690),c,d,r[p+3],14,-187363961),h,c,r[p+8],20,1163531501),u=f(u,h=f(h,c=f(c,d,u,h,r[p+13],5,-1444681467),d,u,r[p+2],9,-51403784),c,d,r[p+7],14,1735328473),h,c,r[p+12],20,-1926607734),u=g(u,h=g(h,c=g(c,d,u,h,r[p+5],4,-378558),d,u,r[p+8],11,-2022574463),c,d,r[p+11],16,1839030562),h,c,r[p+14],23,-35309556),u=g(u,h=g(h,c=g(c,d,u,h,r[p+1],4,-1530992060),d,u,r[p+4],11,1272893353),c,d,r[p+7],16,-155497632),h,c,r[p+10],23,-1094730640),u=g(u,h=g(h,c=g(c,d,u,h,r[p+13],4,681279174),d,u,r[p+0],11,-358537222),c,d,r[p+3],16,-722521979),h,c,r[p+6],23,76029189),u=g(u,h=g(h,c=g(c,d,u,h,r[p+9],4,-640364487),d,u,r[p+12],11,-421815835),c,d,r[p+15],16,530742520),h,c,r[p+2],23,-995338651),u=b(u,h=b(h,c=b(c,d,u,h,r[p+0],6,-198630844),d,u,r[p+7],10,1126891415),c,d,r[p+14],15,-1416354905),h,c,r[p+5],21,-57434055),u=b(u,h=b(h,c=b(c,d,u,h,r[p+12],6,1700485571),d,u,r[p+3],10,-1894986606),c,d,r[p+10],15,-1051523),h,c,r[p+1],21,-2054922799),u=b(u,h=b(h,c=b(c,d,u,h,r[p+8],6,1873313359),d,u,r[p+15],10,-30611744),c,d,r[p+6],15,-1560198380),h,c,r[p+13],21,1309151649),u=b(u,h=b(h,c=b(c,d,u,h,r[p+4],6,-145523070),d,u,r[p+11],10,-1120210379),c,d,r[p+2],15,718787259),h,c,r[p+9],21,-343485551),c=c+v>>>0,d=d+y>>>0,u=u+C>>>0,h=h+w>>>0}return t.endian([c,d,u,h])};o._ff=function(e,t,n,i,a,s,o){var r=e+(t&n|~t&i)+(a>>>0)+o;return(r<<s|r>>>32-s)+t},o._gg=function(e,t,n,i,a,s,o){var r=e+(t&i|n&~i)+(a>>>0)+o;return(r<<s|r>>>32-s)+t},o._hh=function(e,t,n,i,a,s,o){var r=e+(t^n^i)+(a>>>0)+o;return(r<<s|r>>>32-s)+t},o._ii=function(e,t,n,i,a,s,o){var r=e+(n^(t|~i))+(a>>>0)+o;return(r<<s|r>>>32-s)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var i=t.wordsToBytes(o(e,n));return n&&n.asBytes?i:n&&n.asString?s.bytesToString(i):t.bytesToHex(i)}}()},,function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,i=0;n<e.length;n++,i+=8)t[i>>>5]|=e[n]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],i=0;i<e.length;i+=3)for(var a=e[i]<<16|e[i+1]<<8|e[i+2],s=0;s<4;s++)8*i+6*s<=8*e.length?n.push(t.charAt(a>>>6*(3-s)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],i=0,a=0;i<e.length;a=++i%4)0!=a&&n.push((t.indexOf(e.charAt(i-1))&Math.pow(2,-2*a+8)-1)<<2*a|t.indexOf(e.charAt(i))>>>6-2*a);return n}};e.exports=n}()},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";e.exports=function(){return/\uD83C\uDFF4(?:\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74)\uDB40\uDC7F|\u200D\u2620\uFE0F)|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|\uD83D\uDC69\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83D\uDC69\u200D[\u2695\u2696\u2708])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC68(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDD1-\uDDDD])/g}},function(e,t,n){"use strict";function i(e,t,n){this.stack=(new Error).stack,this.status=e||400,this.title=t||"Ooops!",this.message=n||"We're experiencing a problem here, our developers are on the case. Please try it later."}i.prototype=Object.create(Error.prototype),i.prototype.name="ClientError",i.prototype.toString=function(){return"("+this.status+") "+this.title+"\n"+this.message},t.a=i},function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return p});var i,a,s,o=n(69),r=n.n(o),l={notificationStatus:!1,notificationBannerStatus:!0,projectSortType:"created",tabTutorialSeen:!1,versionsTutorialSeen:!1,hideNoVectorAssetInfo:!1,lastOrganization:"user",dashboardMemberSortKey:{field:"role",reverse:!0},resolvedDotsTutorialSeen:!1,noScreensDesignToolSelection:"photoshop",flowLinkInfoDismissed:!1,windowsAppsNewReleasePointReminderOpen:!1,hideDensityMismatchWarning:!1},c={assetNamingConvention:"default",dotListingsStatusFilter:"open",dotListingsColorFilter:null,projectInfoWidth:280,screenSidebarWidth:280,styleguideLeftSidebarWidth:200,styleguideSidebarWidth:280,lastNoteColorUsed:"yellow",layoutGridEnabled:!1,noResourceInfoDismissed:!1,noteVisibility:!0,sectionsCollapseState:{},showOptimizedSVG:!0,versionsLastSeen:{},versionsSidebarWrapperWidth:280,zoomLevel:1,fixedThumbnailSize:!1,extensions:[],androidResFolderReminderSeen:!1,extensionsMigrated:!1,assetNames:{}};function d(){i=r.a.createInstance({driver:[r.a.INDEXEDDB,r.a.LOCALSTORAGE],name:"userPrefs",version:1}),a=r.a.createInstance({driver:[r.a.INDEXEDDB,r.a.LOCALSTORAGE],name:"projectPrefs",version:1}),s=r.a.createInstance({driver:[r.a.INDEXEDDB,r.a.LOCALSTORAGE],name:"extensionPrefs",version:1})}d();var u={getAll:function(){var e={};return i.iterate(function(t,n){e[n]=t}).then(function(){return e})},get:function(e){return i.getItem(e).then(function(t){return null===t?l[e]:t})},set:function(e,t){return i.setItem(e,t)}},h={get:function(e,t,n){return a.getItem(e).then(function(e){return e&&t in e&&(!n||n in e[t])?n?e[t][n]:e[t]:n?c[n]:c[t]})},set:function(e,t,n,i){return a.getItem(e).then(function(s){return s||(s={}),i?(s[t]||(s[t]={}),s[t][n]=i,a.setItem(e,s)):(s[t]=n,a.setItem(e,s))})}},p={get:function(e,t,n){return s.getItem(e).then(function(e){return e&&t in e?n?e[t][n]:e[t]:null})},set:function(e,t,n,i){return s.getItem(e).then(function(a){return a||(a={}),a[t]||(a[t]={}),a[t][n]=i,s.setItem(e,a)})},remove:function(e){return s.removeItem(e)}};function m(e){return function(...t){return e(...t).catch(()=>(d(),e(...t)))}}h.get=m(h.get),h.set=m(h.set),u.get=m(u.get),u.set=m(u.set),p.get=m(p.get),p.set=m(p.set),a.iterate(function(e,t){var n=!1;"webStyleColorFormat"in e&&(e.styleColorFormat=e.webStyleColorFormat,delete e.webStyleColorFormat,n=!0),"webDefaultValues"in e&&(e.showDefaultValues=e.webDefaultValues,delete e.webDefaultValues,n=!0),"webShowDimensions"in e&&(e.showDimensions=e.webShowDimensions,delete e.webShowDimensions,n=!0),e.extensionsMigrated&&(n=n||["iosStyleExportType","androidStyleExportType","webStyleExportType","osxStyleExportType","styleColorFormat","showDefaultValues","showDimensions","webUnitlessLineHeight","webMixin","androidLineSpacingType","attributedStringShowDefaultAttributes","iosDeploymentTarget","osxDeploymentTarget","extensionPrefsMigrated","selectedExtension"].map(function(t){return function(e,t){if(t in e){var n=e[t];return delete e[t],n}return null}(e,t)}).some(Boolean)),n&&a.setItem(t,e)})},function(e,t,n){"use strict";var i=n(98);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.c="Project ended";t.a="Moved to team plan";t.e="Switched to another tool";t.d="Ran into issue";t.f="Too expensive";t.b="Other"},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(138),r=n(165);function l(e){const{iconType:t,subIconType:n}=e;return i.default.h(o.a,{subIconType:n},i.default.h(r.a,{type:t}))}l.propTypes={iconType:s.a.string.isRequired,subIconType:s.a.string},t.a=l},function(e,t,n){"use strict";n.d(t,"b",function(){return b}),n.d(t,"c",function(){return a}),n.d(t,"g",function(){return s}),n.d(t,"a",function(){return y}),n.d(t,"d",function(){return j}),n.d(t,"e",function(){return x}),n.d(t,"f",function(){return S});var i,a,s,o,r=n(18),l=n.n(r),c=n(151),d=n.n(c),u=n(10),h=n(42),p=n(1),m=n(4),f=n(65),g=n(37),b=Object.freeze({android:"Android",ios:"iOS",osx:"macOS",web:"Web"}),v=3e4;function y(){return i?Promise.resolve(i):fetch(`${Zeplin.urls.baseURL}/api/config/plans`).then(function(e){return e.json().then(function(t){if(e.ok)return i=Object.freeze(t);throw u.a(e.status,t)})})}function C(){o||"dismissed"===sessionStorage.getItem("socketErrorBannerStatus")||(o=setTimeout(function(){h.b({contentType:"text",group:"socket",content:"Real-time updates are disabled due to socket connectivity problem.",closeCallback:function(){sessionStorage.setItem("socketErrorBannerStatus","dismissed")}})},v))}window.addEventListener("storage",function(e){if(e.storageArea===localStorage&&"user"===e.key){var t=JSON.parse(e.oldValue),n=JSON.parse(e.newValue);if(!n)return;if(Zeplin.user=n,t._id!==n._id)return location.reload()}}),function(){var e=window,t=e.Intercom;function n(){var e=i.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://widget.intercom.io/widget/"+m.l;var t=i.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}if("function"==typeof t)t("reattach_activator"),t("update",intercomSettings);else{var i=document,a=function(){a.c(arguments)};a.q=[],a.c=function(e){a.q.push(e)},e.Intercom=a,e.attachEvent?e.attachEvent("onload",n):e.addEventListener("load",n,!1)}}();const w=new g.a(f.a,document.body);function S(e){w.update({page:e})}w.render(),l.a.get("userToken")&&(Intercom("boot",{app_id:m.l,user_id:Zeplin.user._id,email:Zeplin.user.email,last_seen_user_agent:navigator.userAgent,"last seen at web":Math.floor(Date.now()/1e3),username:Zeplin.user.username,verified:"verified"===Zeplin.user.status,plan:Zeplin.user.paymentPlan}),(a=new d.a(m.q,{cluster:"zeplin",encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:`${Zeplin.urls.baseURL}/v2/pusher/auth`,auth:{headers:{"Zeplin-Token":l.a.get("userToken")}}})).connection.bind("failed",C),a.connection.bind("unavailable",C),a.connection.bind("connected",function(){Zeplin.headers.set("Zeplin-Socket-Id",a.connection.socket_id),clearTimeout(o),h.a("socket")}),(s=a.subscribe(`${m.y}${Zeplin.user._id}`)).bind("UpdateUsername",function(e){Zeplin.updateUser({username:e.body.username})}),s.bind("UpdateEmail",function(e){Zeplin.updateUser({email:e.body.email})}),s.bind("VerifyUser",function(){Zeplin.updateUser({status:"verified"})}),s.bind("UpdateEmailNotifications",function(e){Zeplin.updateUser({emailNotifications:e.body.emailNotifications})}),s.bind("UpdateUserBilling",function(e){Zeplin.updateUser({billing:{email:e.body.email,extraInfo:e.body.extraInfo}})}),s.bind("DeleteUser",Zeplin.logout));const k=document.querySelector("#billingTab");function E(e,t){if(h.a("payment"),k){e.preventDefault();const n=`Billing - ${"organization"===t?"Organization ":""}Profile - Zeplin`;history.replaceState({},n,e.target.href),document.querySelector("title").textContent=n,document.querySelector("header.tabs").dataset.selection="billing",k.checked=!0}}function j(e){let t,n;e.oid?"queen"!==e.currentRole&&"king"!==e.currentRole||(t=`Payment failed: Please <a href="${Object(p._3)("organization-profile-billing",{url:{oid:e.oid}})}">update</a> organization payment information to keep ${e.isGeneric?"projects":"this project"} active.`,n={a(e){E(e,"organization")}}):"owner"===e.currentRole?(t=`Payment failed: Please <a href="${Object(p._3)("profile-billing")}">update</a> your payment information to keep ${e.isGeneric?"your projects":"this project"} active.`,n={a(e){E(e,"user")}}):t=`Payment failed: Please contact the owner (<a href="mailto:${e.ownerEmail}" target="_blank">${e.ownerEmail}</a>) of this project and ask them to update their payment information, to keep this project active.`,t&&h.b({contentType:"html",group:"payment",content:t,bodyCallbacks:n})}function x(e){return fetch(`${Zeplin.urls.baseURL}/users/emotar`,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({emotar:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw u.a(e.status,t)})})}},function(e,t,n){"use strict";function i(e){switch(this.stack=(new Error).stack,this.status=e||500,this.status){case 503:this.message="Under maintenance, please try again in a little while.";break;default:this.message="We're experiencing a problem here, our developers are on the case. Please try it later."}}i.prototype=Object.create(Error.prototype),i.prototype.name="ServerError",i.prototype.toString=function(){return"("+this.status+") "+this.message},t.a=i},function(e,t,n){"use strict";var i;"function"==typeof window.require&&(i=window.require("electron")),t.a=i},function(e,t,n){"use strict";var i=n(0),a=n(5);t.a=function(e){const{asset:t,descriptors:n}=e,s=Object(a.b)(t);return delete e.asset,delete e.descriptors,i.default.h("img",Object.assign({src:s,srcset:Object(a.c)(s,n)},e))}},function(e,t,n){"use strict";var i=n(96);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(72),a=n(416),s=n(187),o=n(537),r=n(174);function l(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}t.newBlob=function(e,n){t.checkSupport("blob");try{return new Blob([e],{type:n})}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(e,t,n){var i=[],a=0,s=e.length;if(s<=n)return String.fromCharCode.apply(null,e);for(;a<s;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(a,Math.min(a+n,s)))):i.push(String.fromCharCode.apply(null,e.subarray(a,Math.min(a+n,s)))),a+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,s.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var n=65536,i=t.getTypeOf(e),a=!0;if("uint8array"===i?a=d.applyCanBeUsed.uint8array:"nodebuffer"===i&&(a=d.applyCanBeUsed.nodebuffer),a)for(;n>1;)try{return d.stringifyByChunk(e,i,n)}catch(e){n=Math.floor(n/2)}return d.stringifyByChar(e)}function h(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}t.applyFromCharCode=u;var p={};p.string={string:l,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,s.allocBuffer(e.length))}},p.array={string:u,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(e)}},p.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return s.newBufferFrom(e)}},p.nodebuffer={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:l},t.transformTo=function(e,n){if(n||(n=""),!e)return n;t.checkSupport(e);var i=t.getTypeOf(n);return p[i][e](n)},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&s.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)i+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return i},t.delay=function(e,t,n){o(function(){e.apply(n||null,t||[])})},t.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},t.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},t.prepareContent=function(e,n,s,o,l){return r.Promise.resolve(n).then(function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new r.Promise(function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)}):e}).then(function(n){var d=t.getTypeOf(n);return d?("arraybuffer"===d?n=t.transformTo("uint8array",n):"string"===d&&(l?n=a.decode(n):s&&!0!==o&&(n=function(e){return c(e,i.uint8array?new Uint8Array(e.length):new Array(e.length))}(n))),n):r.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},function(e,t,n){"use strict";var i=n(163),a=n(209),s=n(50);const o=Object.freeze({android:"snakeCase",ios:"camelCase",osx:"camelCase",web:"kebabCase"}),r=new Intl.NumberFormat("en-US",{useGrouping:!1,maximumFractionDigits:2});function l(e){const t=Math.trunc(e+e/255);return Math.max(0,Math.min(t,255))}function c(e,t,n,i){return t||i?(e*t+n*i*(1-t))/(t+i*(1-t)):0}function d(e){const t=Math.max(0,Math.min(e,255));return(t<16?"0":"")+t.toString(16)}class Color extends s.a{constructor(e){if(e instanceof Color)return e;super();const{_id:t,id:n,name:i,r:a,g:s,b:o,a:r=1}=e;this.id=t||n,this.r=l(a),this.g=l(s),this.b=l(o),this.a=function(e){return Math.max(0,Math.min(e,1))}(r),this.name=i}static get NAMED_COLORS(){return a.a}static fromHex(e){const t=parseInt(e.replace("#",""),16);return new Color({r:t>>16&255,g:t>>8&255,b:255&t})}toObject(){return{r:this.r,g:this.g,b:this.b,a:this.a,name:this.name}}equals(e){const t=new Color(e);return this.r===t.r&&this.g===t.g&&this.b===t.b&&r.format(this.a)===r.format(t.a)}blend(e){const t=new Color(e);return new Color({r:c(this.r,this.a,t.r,t.a),g:c(this.g,this.a,t.g,t.a),b:c(this.b,this.a,t.b,t.a),a:this.a+t.a*(1-this.a)})}static blendAll(e){let t=new Color(Color.NAMED_COLORS.transparent);for(const n of e)if(n.a&&1===(t=t.blend(n)).a)break;return t}hexBase(){return d(this.r)+d(this.g)+d(this.b)}toHexString(e){let t=this.hexBase();if(this.a<1){const n=255*this.a,i=d(Math.trunc(n+n/255));t=e?i+t:t+i}return`#${t}`}toRGBABase(){const e=`${this.r} ${this.g} ${this.b}`;return this.a<1?`rgba ${e} ${r.format(this.a)}`:`rgb ${e}`}toRGBString(){return`rgb ${this.r} ${this.g} ${this.b}`}toRGBAString(){const e=`${this.r}, ${this.g}, ${this.b}`;return this.a<1?`rgba(${e}, ${r.format(this.a)})`:`rgb(${e})`}_toHSL(){const e=this.r/255,t=this.g/255,n=this.b/255,i=Math.max(e,t,n),a=Math.min(e,t,n),s=(i+a)/2;let o,r;if(i===a)o=0,r=0;else{const l=i-a;switch(r=s>.5?l/(2-i-a):l/(i+a),i){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4}o/=6}return{h:o,s:r,l:s}}toHSLAString(){const e=this._toHSL(),t=`${Math.round(360*e.h)}, ${Math.round(100*e.s)}%, ${Math.round(100*e.l)}%`;return this.a<1?`hsla(${t}, ${r.format(this.a)})`:`hsl(${t})`}toPlatformString(e,t){switch(e){case"android":return this.toHexString(!0);case"ios":case"osx":return this.toRGBABase();case"web":return this.toCSS(t);default:return this.toHexString()}}toCSS(e){switch(e){case"hex":return this.toHexString();case"rgb":return this.toRGBAString();case"hsl":return this.toHSLAString();case"default":default:return this.a<1?this.toRGBAString():this.toHexString()}}generateName(e){let t=0,n=-1,s=-1;for(let r=0;r<a.b.length;r++){const l=new Color(a.b[r]);if(this.r===l.r&&this.g===l.g&&this.b===l.b)return Object(i.a)(l.name,o[e]);const c=this._toHSL();Object.keys(c).forEach(e=>c[e]*=255);const d=l._toHSL();Object.keys(d).forEach(e=>d[e]*=255),t=Math.pow(this.r-l.r,2)+Math.pow(this.g-l.g,2)+Math.pow(this.b-l.b,2)+2*(Math.pow(c.h-d.h,2)+Math.pow(c.s-d.s,2)+Math.pow(c.l-d.l,2)),(s<0||t<s)&&(s=t,n=r)}return Object(i.a)(a.b[n].name,o[e])}}t.a=Color},function(e,t,n){"use strict";var i=n(0),a=n(153);class s extends i.default.Component{shouldComponentUpdate(e,t){return Object(a.a)(this.props,e)||Object(a.a)(this.state,t)}}s.isPureReactComponent=!0,t.a=s},function(e,t,n){"use strict";var i=n(160);t.a=i.a},,function(e,t,n){"use strict";var i=n(0);t.a=class{constructor(e,t){this.domNode=null,this.domContainer=t,this.preactComponent=e,this.props={}}isRendered(){return null!==this.domNode}render(e){this.props=e||{},this.domNode=i.default.render(i.default.h(this.preactComponent,this.props),this.domContainer,this.domNode)}update(e){Object.assign(this.props,e),this.domNode=i.default.render(i.default.h(this.preactComponent,this.props),this.domContainer,this.domNode)}remove(){i.default.render(null,this.domContainer,this.domNode),this.domNode=null,this.props=null}}},function(e,t,n){"use strict";var i=n(223);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(77);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return i.b}),n.d(t,"c",function(){return i.c}),n.d(t,"d",function(){return i.d}),n.d(t,"e",function(){return i.e}),n.d(t,"f",function(){return i.f}),n.d(t,"g",function(){return i.g}),n.d(t,"h",function(){return i.h}),n.d(t,"i",function(){return i.i}),n.d(t,"j",function(){return i.j}),n.d(t,"k",function(){return i.k}),n.d(t,"l",function(){return i.l}),n.d(t,"m",function(){return i.m}),n.d(t,"n",function(){return i.n}),n.d(t,"o",function(){return i.o}),n.d(t,"p",function(){return i.p}),n.d(t,"q",function(){return i.q}),n.d(t,"r",function(){return i.r}),n.d(t,"s",function(){return i.s}),n.d(t,"t",function(){return i.t}),n.d(t,"u",function(){return i.u}),n.d(t,"v",function(){return i.v}),n.d(t,"w",function(){return i.w}),n.d(t,"x",function(){return i.x}),n.d(t,"y",function(){return i.y}),n.d(t,"z",function(){return i.z}),n.d(t,"A",function(){return i.A}),n.d(t,"B",function(){return i.B}),n.d(t,"C",function(){return i.C}),n.d(t,"D",function(){return i.D}),n.d(t,"E",function(){return i.E}),n.d(t,"F",function(){return i.F}),n.d(t,"G",function(){return i.G}),n.d(t,"H",function(){return i.H}),n.d(t,"I",function(){return i.I}),n.d(t,"J",function(){return i.J}),n.d(t,"K",function(){return i.K})},,function(e,t,n){"use strict";var i=n(229);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.b=function(e){e=e||{};var t=document.importNode(i.content,!0).querySelector(".banner"),n=t.querySelector(".bannerContent");if(e.group){if(document.querySelector("."+e.group+"Banner"))return;t.classList.add(e.group+"Banner")}switch(e.contentType){case"html":n.innerHTML=e.content;break;case"text":default:n.textContent=e.content}t.classList.add(e.type||"warn"),t.addEventListener("click",function(e){e.stopPropagation()}),e.bannerCloseText&&(t.querySelector(".bannerCloseButton span").textContent=e.bannerCloseText);e.style&&e.style.zIndex&&(t.style.zIndex=e.style.zIndex);if(t.querySelector(".bannerCloseButton").addEventListener("click",function(n){n.stopPropagation(),n.preventDefault(),e.closeCallback&&e.closeCallback(),t.remove()}),e.bodyCallbacks)for(var a in e.bodyCallbacks)t.querySelector(a).addEventListener("click",e.bodyCallbacks[a]);e.container?e.container.appendChild(t):document.body.appendChild(t)},t.a=function(e){var t=document.querySelector("."+e+"Banner");t&&t.remove()};var i=document.getElementById("bannerTemplate")},function(e,t,n){"use strict";var i=n(93);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(106);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(197);n.n(i);t.a=new i.Dispatcher},function(e,t,n){"use strict";var i=n(61);t.a=i.a},,function(e,t,n){"use strict";var i=n(129),a=n(52);n.d(t,"b",function(){return a.a}),n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(131);t.a=i.a},function(e,t,n){"use strict";function i(){}i.prototype.toObject=function(){return{}},i.prototype.serialize=function(){return{model:this.constructor.name,data:this.toObject()}},t.a=i},function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=i},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(49),r=n(1),l=n(11),c=n(3),d=n(36),u=n.n(d),h=n(132);n.n(h);class p extends i.default.Component{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.stopPropagation()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,!0),u.a.registerDialog(this.nodeRefs.dialog),this.nodeRefs.dialog.showModal()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{positiveButtonText:e,negativeButtonText:t,onPositiveButtonClick:n,onNegativeButtonClick:a,hideNegativeButton:s,onClose:d,width:u,class:h}=this.props;return i.default.h(o.a,null,i.default.h("dialog",{onClick:r.Z,onClose:d,style:{width:u},class:Object(c.a)(h,"dialog"),ref:Object(l.a)(this,"dialog")},this.props.children,i.default.h("form",{method:"dialog",class:"buttonsContainer"},!s&&i.default.h("button",{class:"cancel",onClick:a,type:"submit"},t),i.default.h("button",{class:"done",onClick:n,type:"submit"},e))))}}p.defaultProps={positiveButtonText:"DONE",negativeButtonText:"CANCEL",hideNegativeButton:!0},p.propTypes={positiveButtonText:s.a.string.isRequired,negativeButtonText:s.a.string,onPositiveButtonClick:s.a.func,onNegativeButtonClick:s.a.func,hideNegativeButton:s.a.bool,width:s.a.number,onClose:s.a.func,children:s.a.arrayOf(s.a.element)},t.a=p},function(e,t,n){"use strict";var i,a,s=n(29),o=n(23),r=n(1),l=["assetNamingConvention","showOptimizedSVG"];!function(){if(s.a){var e=!!s.a&&!!s.a.features&&!!s.a.features.webviews;i=Object.defineProperties({},{addRecentProject:{value:function(e){s.a.ipcRenderer.send("add-recent-project",{id:e.id,name:e.name})}},updateProjectPreferences:{value:function(e){s.a.ipcRenderer.send("project-preferences-changed",e)}},bindProjectPreferences:{value:function(e){s.a.ipcRenderer.removeAllListeners("project:"+a+":preferenceMenuItemClicked"),a=e.id,s.a.ipcRenderer.on("project:"+a+":preferenceMenuItemClicked",function(e,t,n){var i;l.includes(t)&&("string"==typeof n?(i=document.querySelector("input[type='radio'][name='"+t+"'][value='"+n+"']")).checked=!0:(i=document.querySelector("input[type='checkbox'][name='"+t+"']")).checked=n,i.dispatchEvent(new Event("change")))}),Promise.all(l.map(function(t){return o.b.get(e.id,t)})).then(function(t){var n=l.reduce(function(e,n,i){return e[n]=t[i],e},{});s.a.ipcRenderer.send("project-preferences",{id:e.id,type:e.type},n)})}},updateEditCapabilities:{value:function(e){s.a.ipcRenderer.send("edit-capabilities",e)}},setViewMenuContext:{value:function(e,t){s.a.ipcRenderer.send("view-menu-context",e,t)}}}),s.a.ipcRenderer.on("open-recent-project",function(e,t){i.onOpenRecentProject?i.onOpenRecentProject(t):location.assign(r._3("project",{url:{pid:t}}))}),e||s.a.ipcRenderer.on("projects",function(){i.onProjects?i.onProjects():location.assign(r._3("projects"))})}}(),t.a=i},,function(e,t,n){"use strict";var i=n(202),a=n.n(i),s=n(153);const o={pure:!0,withProps:!1,withContext:!1};t.a=((e,t)=>{const n=class extends e{constructor(e,n){super(e,n),this.options=Object.assign({},o,t||{}),this._getState=this._getState.bind(this),this._getStores=this._getStores.bind(this),this._fluxContainerSubscriptions=new a.a,this._fluxContainerSubscriptions.setStores(this._getStores(e)),this._fluxContainerSubscriptions.addListener(()=>{this.setState((e,t)=>this._getState(e,t,n))});const i=this._getState(void 0,e,n);this.state=Object.assign({},this.state||{},i)}_getState(t,n,i){const a=this.options.withProps?n:void 0,s=this.options.withContext?i:void 0;return e.calculateState(t,a,s)}_getStores(t,n){const i=this.options.withProps?t:void 0,a=this.options.withContext?n:void 0;return e.getStores(i,a)}componentWillReceiveProps(e,t){super.componentWillReceiveProps&&super.componentWillReceiveProps(e,t),(this.options.withProps||this.options.withContext)&&(this._fluxContainerSubscriptions.setStores(this._getStores(e,t)),this.setState(n=>this._getState(n,e,t)))}shouldComponentUpdate(e,t){return this.options.pure?Object(s.a)(this.props,e)||Object(s.a)(this.state,t):super.shouldComponentUpdate?super.shouldComponentUpdate(e,t):void 0}componentWillUnmount(){super.componentWillUnmount&&super.componentWillUnmount(),this._fluxContainerSubscriptions.reset()}};return n.displayName=`FluxContainer(${e.displayName||e.name})`,n})},function(e,t,n){"use strict";var i=n(629);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(158),a=n(441),s=n(442);n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return a.a}),n.d(t,"c",function(){return s.a})},function(e,t,n){"use strict";var i=n(742);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(e,t){if("pawn"===e)return`Only organization members can ${t}.`;return[i.default.h("p",null,"Your organization role is ",s.D(e)," ",function(e){const t=s.z(e);return i.default.h("img",{src:Object(a.b)(`img/${t}.png`),srcSet:`${Object(a.b)(`img/${t}@2x.png`)} 2x, ${Object(a.b)(`img/${t}@3x.png`)} 3x`})}(e)," , only ",s.D("rook"),"s or higher can ",t,"."),i.default.h("p",null,i.default.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more")," about roles or contact organization Admins to update your role!")]};var i=n(0),a=n(5),s=n(1)},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(3),r=n(46),l=n(63);n.n(l);function c(e){const t=!!e.primary||!!e.secondary,n=Object(o.a)("button",e.class,{ripple:!t&&!!e.ripple,primary:!!e.primary,secondary:!!e.secondary}),a="string"==typeof e.ripple&&e.ripple;return i.default.h("button",{type:e.type||"button",disabled:e.disabled,onClick:e.onClick,onMouseLeave:e.onMouseLeave,class:n},e.children,!t&&e.ripple&&i.default.h(r.a,{class:a}))}c.propTypes={class:s.a.string,disabled:s.a.bool,ripple:s.a.oneOfType([s.a.bool,s.a.string]),children:s.a.oneOfType([s.a.node,s.a.element]),onClick:s.a.func,primary:s.a.bool,secondary:s.a.bool},t.a=c},function(e,t,n){"use strict";var i=n(0),a=n(62);n.n(a);t.a=class extends i.default.Component{componentDidMount(){this.rippleElement=document.createElement("paper-ripple"),this.props.class&&this.rippleElement.classList.add(this.props.class),this.base.appendChild(this.rippleElement)}componentWillReceiveProps(e){e.class!==this.props.class&&(this.rippleElement.classList.remove(this.props.class),this.rippleElement.classList.add(e.class))}shouldComponentUpdate(){return!1}render(){return i.default.h("div",{class:"rippleContainer"})}}},function(e,t){},function(e,t){},,function(e,t,n){"use strict";var i=n(66);t.a=i.a},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(5),o=n(67);n.n(o);const r={default:[{text:"Downloading Mac and Windows apps",url:"https://support.zeplin.io/quick-start/downloading-mac-and-windows-apps"},{text:"Creating a project",url:"https://support.zeplin.io/quick-start/creating-a-project"},{text:"Exporting assets from Sketch",url:"https://support.zeplin.io/sketch-integration/exporting-assets-from-sketch"},{text:"Exporting designs from Photoshop",url:"https://support.zeplin.io/quick-start/exporting-designs-from-photoshop"},{text:"Updating plans, billing information",url:"https://support.zeplin.io/pricing-and-plans"}],projects:[{text:"Inviting users",url:"https://support.zeplin.io/zeplin-101/adding-a-teammate-to-a-project"},{text:"Exporting designs",url:"https://support.zeplin.io/quick-start/exporting-designs-from-sketch"},{text:"Managing profile",url:"https://support.zeplin.io/profile"},{text:"Creating a project",url:"https://support.zeplin.io/quick-start/creating-a-project"},{text:"Transferring a project",url:"https://support.zeplin.io/faq/transferring-a-project"}],"project-dashboard":[{text:"Adding a project to Slack",url:"https://support.zeplin.io/faq/adding-a-project-to-slack"},{text:"Moving screens between projects",url:"https://support.zeplin.io/zeplin-101/moving-screens-between-projects"},{text:"Downloading screens as images",url:"https://support.zeplin.io/zeplin-101/downloading-screens-as-images"},{text:"Organizing screens with Sections",url:"https://support.zeplin.io/zeplin-101/organizing-screens-with-sections"},{text:"Collaborating with the team",url:"https://support.zeplin.io/quick-start/collaborating-with-your-team"}],"project-styleguide":[{text:"Organizing Styleguide colors",url:"https://support.zeplin.io/zeplin-101/organizing-styleguide-colors"},{text:"Changing color formats",url:"https://support.zeplin.io/zeplin-101/changing-color-formats"},{text:"Exporting React Native code snippets",url:"https://support.zeplin.io/zeplin-101/exporting-react-native-code-snippets"}],"project-screen":[{text:"Updating a screen",url:"https://support.zeplin.io/zeplin-101/updating-a-screen"},{text:"Exporting grids (layouts) from Sketch or Photoshop",url:"https://support.zeplin.io/zeplin-101/exporting-grids-layouts-from-sketch-or-photoshop"},{text:"Changing units",url:"https://support.zeplin.io/faq/changing-units"},{text:"Comparing app/website with designs using Pop Out",url:"https://support.zeplin.io/zeplin-101/comparing-appwebsite-with-designs-using-pop-out"},{text:"Exporting assets",url:"https://support.zeplin.io/quick-start/exporting-designs-from-sketch"}],"organization-dashboard":[{text:"Assigning roles to organization members",url:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members"},{text:"Restricting organization members",url:"https://support.zeplin.io/pricing-and-plans/organization/restricting-organization-members"},{text:"Grouping organization members by tags",url:"https://support.zeplin.io/pricing-and-plans/organization/grouping-organization-members-by-tags"},{text:"Updating organization profile and billing information",url:"https://support.zeplin.io/pricing-and-plans/organization/updating-organization-profile-and-billing-information"},{text:"Transfer organization ownership",url:"https://support.zeplin.io/pricing-and-plans/organization/transferring-an-organization"}],"organization-projects":[{text:"Transferring personal projects to org",url:"https://support.zeplin.io/faq/transferring-a-project"},{text:"Exporting designs",url:"https://support.zeplin.io/quick-start/exporting-designs-from-sketch"},{text:"Assigning roles to organization members",url:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members"},{text:"Updating organization profile and billing information",url:"https://support.zeplin.io/pricing-and-plans/organization/updating-organization-profile-and-billing-information"},{text:"Archiving a project",url:"https://support.zeplin.io/zeplin-101/archiving-a-project"}],"organization-profile":[{text:"Updating organization profile and billing information",url:"https://support.zeplin.io/pricing-and-plans/organization/updating-organization-profile-and-billing-information"},{text:"Updating invoice and billing information",url:"https://support.zeplin.io/pricing-and-plans/updating-invoice-and-billing-information"},{text:"Setting a billing email",url:"https://support.zeplin.io/pricing-and-plans/setting-a-billing-email"},{text:"Updating credit card",url:"https://support.zeplin.io/profile/updating-credit-card"},{text:"Sending Invoices",url:"https://support.zeplin.io/faq/sending-invoices"}],"profile-account":[{text:"Setting your profile picture",url:"https://support.zeplin.io/profile/setting-your-profile-picture"},{text:"Updating invoice and billing information",url:"https://support.zeplin.io/pricing-and-plans/updating-invoice-and-billing-information"},{text:"Setting a billing email",url:"https://support.zeplin.io/pricing-and-plans/setting-a-billing-email"},{text:"Changing your plan",url:"https://support.zeplin.io/pricing-and-plans/changing-your-plan"},{text:"Transferring subscription",url:"https://support.zeplin.io/pricing-and-plans/transferring-subscription"}]};t.a=class extends i.default.Component{constructor(){super(),this.closePopup=this.closePopup.bind(this),this.escHandler=this.escHandler.bind(this),this.buttonClickHandler=this.buttonClickHandler.bind(this),this.popupClickHandler=this.popupClickHandler.bind(this),this.showMessages=this.showMessages.bind(this),this.handleLinkClick=this.handleLinkClick.bind(this),this.state={popupOpen:!1,unreadCount:0}}closePopup(e){this.state.popupOpen&&this.setState({popupOpen:!1})}showMessages(){Intercom("showMessages")}handleLinkClick(e){mixpanel.webapp.track("Clicked support link",{article:e.target.textContent})}buttonClickHandler(e){e.stopPropagation(),this.setState({popupOpen:!this.state.popupOpen})}escHandler(e){this.state.popupOpen&&e.keyCode===Zeplin.KEY_CODE.ESC&&this.closePopup()}popupClickHandler(e){e.stopPropagation(),this.closePopup()}componentDidMount(){document.addEventListener("click",this.closePopup),document.addEventListener("keydown",this.escHandler),Intercom("onShow",()=>{this.setState({intercomOpen:!0})}),Intercom("onHide",()=>{this.setState({intercomOpen:!1})}),Intercom("onUnreadCountChange",e=>{this.setState({unreadCount:e})})}componentWillUnmount(){document.removeEventListener("click",this.closePopup),document.removeEventListener("keydown",this.escHandler)}renderPopup(){if(!this.state.popupOpen)return null;const{page:e="default"}=this.props,t=r[e].map(e=>i.default.h("li",{key:e.url},i.default.h("a",{href:e.url,target:"_blank",onclick:this.handleLinkClick},i.default.h("span",null,e.text))));return i.default.h("div",{class:"supportPopup",onClick:this.popupClickHandler},i.default.h("h3",null,"Handy articles:"),i.default.h("ul",null,t),i.default.h("hr",null),i.default.h("a",{href:"https://support.zeplin.io",target:"_blank"},"Got another question?",i.default.h("img",{src:s.b("img/emjPointUp@12w.png"),srcSet:s.b("img/emjPointUp@24w.png")+" 2x, "+s.b("img/emjPointUp@36w.png")+" 3x"})),i.default.h("hr",null),i.default.h("button",{type:"button",onClick:this.showMessages},i.default.h("span",null,"Contact us",this.renderUnreadBadge())))}renderUnreadBadge(){return this.state.unreadCount?i.default.h("div",{class:"unreadBadge"}):null}render(e,t){const n=Object(a.a)("supportButton",{popupOpen:t.popupOpen,intercomOpen:t.intercomOpen});return i.default.h("div",{class:n,onClick:this.buttonClickHandler},i.default.h("img",{src:s.b("img/icLifeBuoy.svg")}),this.renderPopup(),this.renderUnreadBadge())}}},function(e,t){},,,,function(e,t,n){"use strict";var i=n(1),a=n(33),s=n(50),o=["start","left","right","end","center","justify"];function Font(e){var t=Object.assign({},e);"_id"in t||(t._id=t.id),t.color=e.color&&new a.a(e.color),t.fontFace&&function(e){var t=e.fontFace,n=t.match(r);n?(n=n[n.length-1],t=d(t,n),n=n.toLowerCase()):n="regular";var i=t.match(l);i?(i=i[i.length-1],t=d(t,i),i=i.toLowerCase()):i="normal";var a=t.match(c);a?(a=a[a.length-1],t=d(t,a),a=a.toLowerCase()):a="normal";t=t.replace(/--/,"-").replace(/-$/,"").trim(),e.fontFamily=t.match(/^Arial-?MT$/)?"Arial":t,e.fontStyle=i,e.weightText=n,e.fontStretch=function(e){if(/(ultra(\s|-)?)+condensed/i.test(e))return"ultra-condensed";if(/(extra(\s|-)?)+condensed/i.test(e))return"extra-condensed";if(/(semi(\s|-)?)+condensed/i.test(e))return"semi-condensed";if(/condensed/i.test(e))return"condensed";if(/(ultra(\s|-)?)+expanded/i.test(e))return"ultra-expanded";if(/(extra(\s|-)?)+expanded/i.test(e))return"extra-expanded";if(/(semi(\s|-)?)+expanded/i.test(e))return"semi-expanded";if(/expanded/i.test(e))return"expanded";return"normal"}(a)}(t),Object.defineProperties(this,{id:{value:t._id,enumerable:!0},name:{get:function(){return t.name},set:function(e){t.name=e},enumerable:!0},fontFace:{get:function(){return t.fontFace},set:function(e){t.fontFace=e},enumerable:!0},fontSize:{get:function(){return t.fontSize},set:function(e){t.fontSize=e},enumerable:!0},fontWeight:{get:function(){return function(e){if(/black|heavy|900/gi.test(e))return 900;if(/((ex|ul)tra)\s?bold|800/gi.test(e))return 800;if(/([ds]emi)\s?bold|600/gi.test(e))return 600;if(/bold|700/gi.test(e))return 700;if(/medium|500/gi.test(e))return 500;if(/((ex|ul)tra)\s?light|200/gi.test(e))return 200;if(/light|300/gi.test(e))return 300;if(/thin|hairline|100/gi.test(e))return 100;return 400}(t.weightText)},set:function(e){t.fontWeight=e},enumerable:!0},fontStyle:{get:function(){return t.fontStyle},set:function(e){t.fontStyle=e},enumerable:!0},fontFamily:{get:function(){return t.fontFamily},set:function(e){t.fontFamily=e},enumerable:!0},fontStretch:{get:function(){return t.fontStretch},set:function(e){t.fontStretch=e},enumerable:!0},lineHeight:{get:function(){return t.lineHeight},set:function(e){t.lineHeight=e},enumerable:!0},textAlign:{get:function(){return t.textAlign},set:function(e){if(-1===o.indexOf(e))throw new TypeError("Unknown alignment: '"+e+"'. Possible values: "+JSON.stringify(o));t.textAlign=e},enumerable:!0},letterSpacing:{get:function(){return t.letterSpacing},set:function(e){t.letterSpacing=e},enumerable:!0},color:{get:function(){return t.color},set:function(e){t.color=e&&new a.a(e)},enumerable:!0},weightText:{get:function(){return t.weightText},set:function(e){t.weightText=e},enumerable:!0},scaledFontSize:{get:function(){return t.scaledFontSize},set:function(e){t.scaledFontSize=e},enumerable:!0}})}Font.prototype=Object.create(s.a.prototype),Font.prototype.constructor=Font,Font.prototype.toObject=function(){var e={name:this.name,fontFace:this.fontFace,fontSize:this.fontSize,fontWeight:this.fontWeight,fontStyle:this.fontStyle,fontFamily:this.fontFamily,fontStretch:this.fontStretch,lineHeight:this.lineHeight,textAlign:this.textAlign,letterSpacing:this.letterSpacing,weightText:this.weightText};return this.color&&(e.color=this.color.toObject()),e},Font.prototype.equals=function(e){return this.fontFamily===e.fontFamily&&this.fontStyle===e.fontStyle&&this.fontStretch===e.fontStretch&&this.fontWeight===e.fontWeight&&Object(i.G)(this.fontSize,e.fontSize)&&Object(i.G)(this.lineHeight,e.lineHeight)&&this.textAlign===e.textAlign&&Object(i.G)(this.letterSpacing,e.letterSpacing)&&(!this.color||!e.color||this.color.equals(e.color))},Font.prototype.conforms=function(e){return this.fontFamily===e.fontFamily&&this.fontStyle===e.fontStyle&&this.fontStretch===e.fontStretch&&this.fontWeight===e.fontWeight&&Object(i.G)(this.fontSize,e.fontSize)&&(this.textAlign===e.textAlign||!e.textAlign)&&(Object(i.G)(this.lineHeight,e.lineHeight)||!e.lineHeight)&&(Object(i.G)(this.letterSpacing,e.letterSpacing)||!e.letterSpacing)&&(!this.color||!e.color||this.color.equals(e.color))};var r=/(thin|hairline|([ds]emi|(ex|ul)tra)?(light|bold)|normal|regular|book|medium|heavy|black|[1-9]00$)/gi,l=/(italic|oblique)/gi,c=/((?:(ultra|extra|semi)[\s-]?)?(?:condensed|expanded))/gi;function d(e,t){var n=e.lastIndexOf(t);return e.substring(0,n)+e.substr(n+t.length)}t.a=Font},function(e,t,n){"use strict";(function(e){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer=void 0!==e,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var i=new ArrayBuffer(0);try{t.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),t.blob=0===a.getBlob("application/zip").size}catch(e){t.blob=!1}}}try{t.nodestream=!!n(410).Readable}catch(e){t.nodestream=!1}}).call(t,n(172).Buffer)},function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)a(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var s={arraySet:function(e,t,n,i,a){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),a);else for(var s=0;s<i;s++)e[a+s]=t[n+s]},flattenChunks:function(e){var t,n,i,a,s,o;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(o=new Uint8Array(i),a=0,t=0,n=e.length;t<n;t++)s=e[t],o.set(s,a),a+=s.length;return o}},o={arraySet:function(e,t,n,i,a){for(var s=0;s<i;s++)e[a+s]=t[n+s]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,s)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(i)},function(e,t,n){"use strict";var i=n(27),a=n(9),s=n(10),o=n(1),r=n(5),l=n(4),c=n(37),d=n(75);const u=new c.a(d.a,document.body),h=document.getElementById("loading"),p=document.getElementById("planChooserOverlay"),m=document.getElementById("planChooserContent"),f=document.getElementById("discountNotice"),g=document.getElementById("couponForm"),b=document.getElementById("couponCode"),v=document.getElementById("plans"),y=document.getElementById("applyCouponButton"),C=document.getElementById("friendlyReminderDialog"),w=document.getElementById("cancelFriendlyReminderButton"),S=document.getElementById("continueToPaymentButton");let k,E,j,x,D,_,O,L,T;a.b.registerDialog(C);const R={},I=Object.freeze({monthly:{bff:"bff",banker_bilo:"banker_bilo",free:"free",starter:"starter_monthly_v2",growing:"growing_monthly_v2",organization:"organization_monthly"},annual:{bff:"bff",banker_bilo:"banker_bilo",free:"free",starter:"starter_annual_v2",growing:"growing_annual_v2",organization:"organization_annual_v2"}}),A=Object.freeze(["starter_monthly_v2","starter_annual_v2","growing_monthly_v2","growing_annual_v2","organization_monthly","organization_annual_v2"]);function N(){p.classList.remove("hidden"),mixpanel.webapp.track("Opened pricing popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-pricing-popup"),ga("send","pageview","/pricing-popup")}const P=document.getElementById("updatePlanButton");function M(e){i.a().then(t=>{const n=t.find(t=>t.id===e);k=e,(x=n.price)?([E,j="monthly"]=e.split("_"),D=E,_=j):(D=E=e,_=j="annual",P&&("banker_bilo"===e?P.querySelector("button").textContent="💰".repeat(3):"bff"===e&&(P.querySelector("button").textContent="💝"))),m.dataset.currentPlanId=e,"period"in R?(B(R.period),document.getElementById(`${R.period}Payment`).checked=!0,delete R.period,N()):(B(j),document.getElementById(`${j}Payment`).checked=!0),"coupon"in R&&(b.value=R.coupon,b.parentElement.classList.toggle("typed",!!b.value),F(R.coupon),delete R.coupon,N())}).catch(s.b)}function U(e,t,n,i){const a=t.price/("monthly"===n?1:12),s=e.querySelector(".planPrice"),o=e.querySelector(".planProjectCount");let r=a*("organization"===e.dataset.planId?t.quantity:1);e.classList.toggle("annual","annual"===n),function(e,t){if(!t||"annual"===e)return!1;if(t.redeem_by&&Date.now()/1e3>t.redeem_by)return!1;if(t.max_redemptions&&t.times_redeemed>=t.max_redemptions)return!1;return!0}(_,i)&&(r-=i.percent_off?r*i.percent_off/100:i.amount_off,r=Math.max(r,0)),s.dataset.value=r;const l=(r/=100)%1;s.textContent=Math.trunc(r),s.dataset.fr=l>0?l.toFixed(2).substring(1,4):"",o.textContent=function(e){switch(e.projectLimit){case 1:return"1 active project";case 999:case-1:return e.multi?`Unlimited projects\nfor up to ${e.quantity} members`:"Unlimited projects";default:return`${e.projectLimit} Active Projects`}}(t),"organization"===e.dataset.planId&&(e.querySelector(".perMember").textContent=`$${a/100}/mo per additional member`)}function B(e="monthly",t){const n=document.querySelector(".plan.growing"),a=document.querySelector(".plan.organization");let r=document.querySelector(".plan.current");_=e,g.classList.toggle("invisible","annual"===e),f.textContent=z(_,L),i.a().then(i=>{if(Array.from(document.querySelectorAll(".plan")).forEach(n=>{const a=i.find(t=>I[e][n.dataset.planId]===t.id);U(n,a,e,t)}),r&&(r.classList.remove("current"),r.querySelector("button").disabled=!1),n.classList.toggle("recommended","growing"!==E||"monthly"===j&&"annual"===e),a.querySelector(".createLink").href=Object(o._3)("organization-create",{query:{period:e}}),x&&e===j&&"company"!==E&&A.includes(k)){(r=document.querySelector(`.plan.${E}`)).classList.add("current"),r.querySelector("button").disabled=!0;const t=i.find(e=>k===e.id);U(r,t,e)}}).catch(s.b)}function z(e,t){if(!t||"annual"===e)return"";if(t.redeem_by&&Date.now()/1e3>t.redeem_by)return"This coupon is expired.";if(t.max_redemptions&&t.times_redeemed>=t.max_redemptions)return"This coupon is maxed out.";return`${t.percent_off?`${t.percent_off}% off`:`${Object(o.o)(t.amount_off/100)} off`} ${function(e,t){switch(t.duration){case"once":return`for the first ${"monthly"===e?"month":"year"}`;case"repeating":return`for ${t.duration_in_months} months`;case"forever":return"forever";default:return""}}(e,t)}.`}function F(e,t="auto"){(function(e){return e?fetch(Zeplin.urls.baseURL+"/stripe/coupons/"+encodeURIComponent(e),{headers:Zeplin.headers}).then(e=>e.json().then(t=>{if(!e.ok)throw s.a(e.status,t);return t})):Promise.resolve(null)})(e).then(e=>{L=e,y.disabled=!0;const n=e.metadata&&e.metadata.source;mixpanel.webapp.track("Applied coupon",{type:t,source:n}),ga("legacyTracker.send","event","PAYMENT_EVENTS","applied-coupon","type:"+t+(n?";source:"+n:""))}).catch(e=>{L=null,y.disabled=!1,s.b(e)}).then(()=>{f.textContent=z(_,L),B(_,L)})}function q(e){e.preventDefault(),p.classList.add("hidden"),u.render({oid:T&&T._id,organizationPlan:T&&T.paymentPlan,onClose(){u.remove()},onBackClick(){p.classList.remove("hidden"),u.remove()}})}Array.from(m.querySelectorAll("[name='paymentPeriod']")).forEach(e=>{e.addEventListener("change",e=>{B(e.target.value,L)})}),b.parentElement.classList.toggle("typed",!!b.value),b.addEventListener("keyup",()=>{b.parentElement.classList.toggle("typed",!!b.value),b.value||(L=null,B(_))}),b.addEventListener("blur",()=>{b.parentElement.classList.toggle("typed",!!b.value),b.value||(L=null,B(_))}),b.addEventListener("input",()=>{y.disabled=L&&L.id===b.value}),g.addEventListener("submit",e=>{e.preventDefault(),F(b.value,"manual")});const H=StripeCheckout.configure({name:"Zeplin, Inc.",key:l.w,image:Object(r.b)("img/favicon/128x128.png"),zipCode:!0,allowRememberMe:!1,token(e){h.classList.remove("hidden"),function(e,t,n,i){h.classList.remove("hidden");const a={plan:I[n][t],stripeToken:e};"monthly"===n&&i&&(a.coupon=i.id),fetch(Zeplin.urls.baseURL+"/stripe/users/subscriptions",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(a)}).then(e=>{if(!e.ok)return e.json().then(t=>{throw s.a(e.status,t)})}).then(()=>{fbq("track","Purchase",{value:O/100,currency:"USD",content_type:"product",content_ids:[I[n][t]]}),ga("legacyTracker.send","event","PAYMENT_EVENTS","subscribed","to:"+I[n][t]),mixpanel.webapp.track("Subscribed",{to:I[n][t]}),Zeplin.updateUser({paymentPlan:I[n][t]}),location.replace(Object(o._3)("thanks",{query:{at:"ns"}}))}).catch(e=>{h.classList.add("hidden"),s.b(e)})}(e.id,D,_,L)}});function W(e,t){H.open({email:Zeplin.user.email,description:e,panelLabel:t,amount:O}),mixpanel.webapp.track("Opened Stripe popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-stripe-popup"),ga("send","pageview","/stripe-popup")}w.addEventListener("click",()=>{C.close()}),S.addEventListener("click",()=>{W(C.dataset.planName,"Pay 0/mo")}),v.addEventListener("click",e=>{if(e.target.classList.contains("choosePlan")){const t=e.target.closest(".plan");if(D=t.dataset.planId,x)"organization"===D?p.classList.add("hidden"):T?function(e,t,n,i){a.a({title:"Downgrade subscription?",message:"You can upgrade again at anytime.",done:{name:"UPDATE",cb(){h.classList.remove("hidden");const a={plan:I[n][t]};"monthly"===n&&i&&(a.coupon=i.id),fetch(Zeplin.urls.baseURL+"/stripe/organizations/"+e+"/subscriptions/downgrade",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(a)}).then(e=>{if(!e.ok)return e.json().then(t=>{throw s.a(e.status,t)});Zeplin.updateUser({paymentPlan:I[n][t]}),location.replace(Object(o._3)("projects"))}).catch(e=>{h.classList.add("hidden"),s.b(e)})}},cancel:{name:"CANCEL"}})}(T._id,D,_,L):function(e,t,n){a.a({title:"Update subscription?",message:"You can update it again, anytime!",done:{name:"UPDATE",cb(){h.classList.remove("hidden");const i={plan:I[t][e]};"monthly"===t&&n&&(i.coupon=n.id),fetch(Zeplin.urls.baseURL+"/stripe/users/subscriptions",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(i)}).then(n=>{if(!n.ok)return n.json().then(e=>{throw s.a(n.status,e)});mixpanel.webapp.track("Changed plan",{from:Zeplin.user.paymentPlan,to:I[t][e]}),ga("legacyTracker.send","event","PAYMENT_EVENTS","changed-plan","from:"+Zeplin.user.paymentPlan+";to:"+I[t][e]),Zeplin.updateUser({paymentPlan:I[t][e]}),location.replace(Object(o._3)("thanks",{query:{at:"us"}}))}).catch(e=>{h.classList.add("hidden"),s.b(e)})}},cancel:{name:"CANCEL"}}),mixpanel.webapp.track("Opened change plan dialog",{currentPlan:Zeplin.user.paymentPlan}),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-change-plan-dialog","currentPlan:"+Zeplin.user.paymentPlan)}(D,_,L);else if((O=parseInt(t.querySelector(".planPrice").dataset.value,10))||"forever"===L.duration){let e;"monthly"===_?e="Pay {{amount}}/mo":(e="Pay {{amount}}/year",O*=12),W(t.querySelector(".planName").textContent,e)}else!function(e,t,n){let a;switch(n.duration){case"once":a="30 days";break;case"repeating":a=`${n.duration_in_months} months`}Array.from(C.querySelectorAll(".friendlyReminderDuration")).forEach(e=>{e.textContent=a}),C.dataset.planName=e.querySelector(".planName").textContent,i.a().then(n=>{const i=n.find(n=>I[t][e.dataset.planId]===n.id);C.querySelector(".friendlyReminderPrice").textContent=i.price/100,C.showModal(),mixpanel.webapp.track("Opened trial credit card explanation popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-trial-credit-card-explanation-popup")})}(t,_,L)}else e.target.classList.contains("cancelPlan")&&q(e)}),Array.from(m.querySelectorAll(".warning .cancelPlanLink")).forEach(e=>{e.addEventListener("click",q)}),m.addEventListener("click",e=>{e.stopPropagation()}),p.addEventListener("click",()=>{p.classList.add("hidden")}),p.addEventListener("keydown",e=>{e.stopPropagation()}),document.addEventListener("keydown",e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&p.classList.add("hidden")}),location.search&&location.search.substr(1).split("&").forEach(e=>{const[t,n]=e.split("=");R[decodeURIComponent(t)]=decodeURIComponent(n)});const[,Z]=location.pathname.match(/\/organization\/([\da-f]{24})\/profile/i)||[];Z?function(e){return fetch(Zeplin.urls.baseURL+"/organizations/"+e,{headers:Zeplin.headers}).then(e=>e.json().then(t=>{if(e.ok)return t;throw s.a(e.status,t)}))}(Z).then(e=>{T=e,"organization_free"!==e.paymentPlan&&M(e.paymentPlan),function(e){const t=i.c.subscribe(l.o+e);t.bind("CreateOrganizationSubscription",({body:{plan:e}})=>{T.paymentPlan=e,M(e),B(j),document.getElementById(`${j}Payment`).checked=!0}),t.bind("UpdateOrganizationSubscription",({body:{plan:e}})=>{T.paymentPlan=e,M(e),B(j),document.getElementById(`${j}Payment`).checked=!0})}(e._id)}).catch(s.b):(M(Zeplin.user.paymentPlan),function(e){e.bind("CreateUserSubscription",({body:{plan:e}})=>{M(e),B(j),document.getElementById(`${j}Payment`).checked=!0,Zeplin.updateUser({paymentPlan:e})}),e.bind("UpdateUserSubscription",({body:{plan:e}})=>{M(e),B(j),document.getElementById(`${j}Payment`).checked=!0,Zeplin.updateUser({paymentPlan:e})}),e.bind("CancelUserSubscription",()=>{M("free"),B(j),document.getElementById(`${j}Payment`).checked=!0,Zeplin.updateUser({paymentPlan:"free"})})}(i.g))},function(e,t,n){"use strict";var i=n(76);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(10),s=n(39),o=n(1),r=n(79),l=n(82),c=n(127),d=n(48);const u=255;function h(e,t,n){const i={Reason:e,Plan:n};if(t)for(let a=0;a*u<t.length;a++){const e=a*u;i[`Description${a?` ${a}`:""}`]=t.substring(e,e+u)}mixpanel.master.track("Cancelled plan",i),Intercom("trackEvent","cancelled plan",{reason:e,description:t,plan:n}),t&&Object(s.e)(`Cancelled plan ${n}: ${e}\n\n${t}`)}function p(){location.replace(Object(o._3)("projects"))}function m(){location.replace(Object(o._3)("profile-account"))}function f(){Intercom("showNewMessage")}t.a=class extends i.default.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this),this.handleTransferPlanClick=this.handleTransferPlanClick.bind(this),this.handleTransferPlanFormSubmit=this.handleTransferPlanFormSubmit.bind(this),this.handleQuestionChange=this.handleQuestionChange.bind(this),this.performTransferUserPlan=this.performTransferUserPlan.bind(this),this.performCancelUserPlan=this.performCancelUserPlan.bind(this),this.performCancelOrgPlan=this.performCancelOrgPlan.bind(this),this.hideTransferPlanWarningDialog=this.hideTransferPlanWarningDialog.bind(this),this.hideTransferOrgOwnershipDialog=this.hideTransferOrgOwnershipDialog.bind(this),this.hideSubscriptionCancelledDialog=this.hideSubscriptionCancelledDialog.bind(this),this.hideCancelUserPlanDialog=this.hideCancelUserPlanDialog.bind(this),this.hideCancelOrgPlanDialog=this.hideCancelOrgPlanDialog.bind(this),this.handleGoToOrgDashboardClick=this.handleGoToOrgDashboardClick.bind(this),this.state={loading:!1,transferEmail:"",transferPlanFormShown:!1,transferPlanFormError:"",cancelReason:"",cancelDescription:"",transferPlanWarningDialogShown:!1,transferOrgOwnershipDialogShown:!1,subscriptionCancelledDialogShown:!1,cancelUserPlanDialogShown:!1,cancelOrgPlanDialogShown:!1}}hideTransferPlanWarningDialog(){this.setState({transferPlanWarningDialogShown:!1})}hideTransferOrgOwnershipDialog(){this.setState({transferOrgOwnershipDialogShown:!1})}hideCancelUserPlanDialog(){this.setState({cancelUserPlanDialogShown:!1})}hideCancelOrgPlanDialog(){this.setState({cancelOrgPlanDialogShown:!1})}hideSubscriptionCancelledDialog(){this.setState({subscriptionCancelledDialogShown:!1})}performTransferUserPlan(){const{transferEmail:e}=this.state;this.setState({loading:!0}),Object(s.C)(e).then(()=>{this.setState({loading:!1}),Zeplin.user.paymentPlan="free",delete Zeplin.user.subscriptionStatus,location.replace(Object(o._3)("profile-billing"))}).catch(e=>{this.setState({loading:!1}),Object(a.b)(e)})}performCancelUserPlan(){const{cancelReason:e,cancelDescription:t}=this.state;this.setState({loading:!0}),Object(s.c)().then(()=>{h(e,t,Zeplin.user.paymentPlan),Zeplin.updateUser({paymentPlan:"free"}),this.setState({loading:!1,subscriptionCancelledDialogShown:!0})}).catch(e=>{this.setState({loading:!1}),Object(a.b)(e)})}performCancelOrgPlan(){const{oid:e,organizationPlan:t}=this.props,{cancelReason:n,cancelDescription:i}=this.state;this.setState({loading:!0}),Object(s.b)(e).then(()=>{h(n,i,t),this.setState({loading:!1,subscriptionCancelledDialogShown:!0})}).catch(e=>{this.setState({loading:!1}),Object(a.b)(e)})}handleQuestionChange(){this.state.transferPlanFormShown&&this.setState({transferPlanFormShown:!1})}handleGoToOrgDashboardClick(){const{oid:e}=this.props;location.replace(Object(o._3)("organization-dashboard",{url:{oid:e}}))}handleCancelPlanClick(e,t){this.props.oid?this.setState({cancelReason:e,cancelDescription:t,cancelOrgPlanDialogShown:!0}):this.setState({cancelReason:e,cancelDescription:t,cancelUserPlanDialogShown:!0})}handleTransferPlanFormSubmit(e){this.setState({transferPlanFormError:""}),function(e){return e===Zeplin.user.email?Promise.reject(new Error("C'mon, that's you")):new Promise((t,n)=>{Object(s.v)(e).then(e=>{"invited"!==e.status?t():n(new Error("No registered user with this email"))}).catch(e=>{Object(a.b)(e,{serverErrorHandler:()=>n(new Error("Something is wrong :(")),clientErrorHandler:{404:()=>{n(new Error("No registered user with this email"))}},fallbackHandler:()=>{n(new Error("Something is wrong :("))}})})})}(e).then(()=>{this.setState({transferEmail:e,transferPlanWarningDialogShown:!0})}).catch(e=>{this.setState({transferPlanFormError:e.message})})}handleTransferPlanClick(){const{oid:e}=this.props;e?this.setState({transferOrgOwnershipDialogShown:!0}):this.setState({transferPlanFormShown:!0})}render(){const{onClose:e,onBackClick:t}=this.props,{loading:n,transferEmail:a,transferPlanFormError:s,transferPlanFormShown:o,subscriptionCancelledDialogShown:u,cancelUserPlanDialogShown:h,cancelOrgPlanDialogShown:g,transferPlanWarningDialogShown:b,transferOrgOwnershipDialogShown:v}=this.state;return i.default.h("div",null,i.default.h(l.a,{onClose:e,onBackClick:t,onCancelPlanClick:this.handleCancelPlanClick,onTransferPlanClick:this.handleTransferPlanClick,onTransferPlanFormSubmit:this.handleTransferPlanFormSubmit,onQuestionChange:this.handleQuestionChange,onChangeEmailClick:m,onContactSupportClick:f,transferPlanFormError:s,transferPlanFormShown:o}),n&&i.default.h(r.a,null),b&&i.default.h(c.a,{email:a,onClose:this.hideTransferPlanWarningDialog,onTransfer:this.performTransferUserPlan}),v&&i.default.h(d.a,{title:"Transfer ownership?",message:'To transfer the ownership of the organization, select the user in the organization dashboard and click "Transfer Ownership"',positiveButtonText:"GO TO DASHBOARD",onPositiveButtonClick:this.handleGoToOrgDashboardClick,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.hideTransferOrgOwnershipDialog}),h&&i.default.h(d.a,{title:"Cancel plan?",message:"Your projects will be archived, except the last updated one.",positiveButtonText:"CANCEL AND ARCHIVE",onPositiveButtonClick:this.performCancelUserPlan,negativeButtonText:"KEEP",hideNegativeButton:!1,onClose:this.hideCancelUserPlanDialog}),g&&i.default.h(d.a,{title:"Cancel plan?",message:"Your organization projects will be archived.",positiveButtonText:"CANCEL AND ARCHIVE",onPositiveButtonClick:this.performCancelOrgPlan,negativeButtonText:"KEEP",hideNegativeButton:!1,onClose:this.hideCancelOrgPlanDialog}),u&&i.default.h(d.a,{title:"Subscription cancelled successfully",message:"Let us know if there's anything bothering you: support@zeplin.io",positiveButtonText:"OK",onPositiveButtonClick:p,onClose:this.hideSubscriptionCancelledDialog}))}}},function(e,t,n){"use strict";t.r=function(){return a.a.get(`${Zeplin.urls.baseURL}/organizations`).then(s).then(e=>e.organizations)},t.p=function(e,t){return a.a.get(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/profile`).then(s)},t.u=function(e){return a.a.get(`${Zeplin.urls.baseURL}${e?"/organizations/"+e:"/v2"}/projects`).then(s).then(e=>e.projects)},t.s=function(e){return a.a.get(`${Zeplin.urls.baseURL}/v2/projects/${e}`).then(s)},t.x=function(e){return a.a.post(`${Zeplin.urls.baseURL}/projects/${e}/users`).then(s)},t.g=function(e,t,n,i,o){return a.a.post(`${Zeplin.urls.baseURL}${e&&"user"!==e?"/organizations/"+e:""}/projects`,{name:o||"Untitled",type:t,density:i,icon:{type:n}}).then(s)},t.F=function(e,t){return a.a.put(`${Zeplin.urls.baseURL}/projects/${e}/density`,{density:t}).then(o)},t.A=function(e,t,n){return a.a.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/projects/${t}`,{screens:n}).then(o)},t.h=function(e,t){var n={name:t.name};"description"in t&&(n.description=t.description);"index"in t&&(n.index=t.index);return a.a.post(`${Zeplin.urls.baseURL}/projects/${e}/sections`,n).then(s).then(t=>({seid:t._id,pid:e}))},t.J=function(e,t,n,i){return a.a.put(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}/screens`,{index:n,screens:i}).then(o)},t.l=function(e,t){return a.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}`).then(o)},t.k=function(e,t,n){return a.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/integrations/${t}/${n}`).then(o)},t.t=function(e){return a.a.get(`${Zeplin.urls.baseURL}/projects/${e}/extensions`).then(s)},t.B=function(e,t){return a.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/extensions/${t}`).then(o)},t.a=function(e,t){return a.a.post(`${Zeplin.urls.baseURL}/projects/${e}/extensions`,{eid:t}).then(s)},t.n=function(e){return a.a.get(`${Zeplin.urls.baseURL}/projects/${e}/componentsections`).then(s)},t.D=function(e,t,n,i){return a.a.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}/components/${n}`,i).then(o)},t.d=function(e,t){return a.a.post(`${Zeplin.urls.baseURL}/projects/${e}/colors`,t).then(s)},t.j=function(e,t){return a.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/colors/${t}`).then(o)},t.i=function(e,t){return a.a.post(`${Zeplin.urls.baseURL}/projects/${e}/textStyles`,t).then(s)},t.m=function(e,t){return a.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/textStyles/${t}`).then(o)},t.I=function(e,t,n){return a.a.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}`,n).then(o)},t.E=function(e,t,n){return a.a.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}`,n).then(o)},t.z=function(e,t,n,i){const s={componentSections:[{csid:t.join("/"),tcsid:n.join("/"),flatten:i}]};return a.a.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/merge`,s).then(o)},t.o=function(e,t){let n=`${Zeplin.urls.baseURL}/notifications?count=${t}`;e&&(n+=`&date_before=${e}`);return a.a.get(n).then(s)},t.H=function(){const e=`${Zeplin.urls.baseURL}/users/notificationLastReadTime`;return a.a.put(e).then(s)},t.y=function(){const e=`${Zeplin.urls.baseURL}/users/logout`;return a.a.post(e)},t.G=function(e){const t=`${Zeplin.urls.baseURL}/users/emailNotifications`,n={emailNotifications:e};return a.a.put(t,n).then(o)},t.K=function(e){const t=`${Zeplin.urls.baseURL}/users/emotar`,n={emotar:e};return a.a.put(t,n).then(o)},t.c=function(){return a.a.delete(`${Zeplin.urls.baseURL}/stripe/users/subscriptions`).then(o)},t.b=function(e){return a.a.delete(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`).then(o)},t.v=function(e){return a.a.get(`${Zeplin.urls.baseURL}/users/${e}/status`).then(s)},t.C=function(e){return a.a.post(`${Zeplin.urls.baseURL}/users/subscriptions/${e}/ownership`).then(s)},t.e=function(e){return a.a.post(`${Zeplin.urls.baseURL}/intercom/messages`,{message:e}).then(o)},t.w=function(){return a.a.get(`${Zeplin.urls.baseURL}/stripe/users/invoices/next`).then(s).then(e=>e.invoice)},t.q=function(e){return a.a.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/invoices/next`).then(s).then(e=>e.invoice)},t.f=function(e){return a.a.post(`${Zeplin.urls.baseURL}/intercom/users/tags`,{name:e}).then(o)};var i=n(10),a=n(78);function s(e){return e.json().then(t=>{if(e.ok)return t;throw Object(i.a)(e.status,t)})}function o(e){if(!e.ok)return e.json().then(t=>{throw Object(i.a)(e.status,t)})}},function(e,t,n){"use strict";const i={get:e=>fetch(e,{headers:Zeplin.headers}),post(e,t){const n={headers:Zeplin.headers,method:"POST"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)},put(e,t){const n={headers:Zeplin.headers,method:"PUT"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)},delete:e=>fetch(e,{headers:Zeplin.headers,method:"DELETE"})};t.a=i},function(e,t,n){"use strict";var i=n(80);t.a=i.a},function(e,t,n){"use strict";t.a=function(){return i.default.h("div",{class:"loadingOverlay"},i.default.h("div",{class:"ripple ripple1"}),i.default.h("div",{class:"ripple ripple2"}),i.default.h("div",{class:"ripple ripple3"}),i.default.h("div",{class:"ripple ripple4"}))};var i=n(0),a=n(81);n.n(a)},function(e,t){},function(e,t,n){"use strict";var i=n(83);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(5),s=n(84),o=n(87),r=n(126);n.n(r);t.a=function(e){const{onClose:t,onBackClick:n,onCancelPlanClick:r,onTransferPlanFormSubmit:l,onTransferPlanClick:c,onChangeEmailClick:d,onContactSupportClick:u,onQuestionChange:h,transferPlanFormError:p,transferPlanFormShown:m}=e;return i.default.h(s.a,{onClose:t},i.default.h("div",{class:"cancelPlanModal"},i.default.h("div",{class:"cancelPlanHeader"},i.default.h("button",{class:"cancelPlanHeaderButton",onClick:n},i.default.h("img",{src:Object(a.b)("img/icNavUp.svg"),alt:"<"}),i.default.h("span",{class:"cancelPlanHeaderButtonText"},"Plans"))),i.default.h("div",{class:"cancelPlanHero"},i.default.h("h2",{class:"title"},"Why are you cancelling?"),i.default.h("p",{class:"text"},"It's sad to see you go. Tell us why you're cancelling, maybe we can help!")),i.default.h(o.a,{onBackClick:n,onQuestionChange:h,onCancelPlanClick:r,onTransferPlanFormSubmit:l,onTransferPlanClick:c,onChangeEmailClick:d,onContactSupportClick:u,transferPlanFormShown:m,transferPlanFormError:p})))}},function(e,t,n){"use strict";var i=n(85);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(1),r=n(86);n.n(r);class l extends i.default.Component{constructor(e){super(e),this.handleClose=this.handleClose.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this)}handleClose(e){this.props.onClose&&(e.stopPropagation(),this.props.onClose(e))}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.props.onClose&&this.props.onClose(e)}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeydown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeydown)}render(){return i.default.h("div",{class:"overlay",onClick:this.handleClose},this.props.children.map(e=>i.default.cloneElement(e,{onClick:o.Z})))}}l.propTypes={onClose:s.a.func},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(88);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(89),s=n(91),o=n(125);n.n(o);t.a=function(e){const{onBackClick:t,onCancelPlanClick:n,onTransferPlanFormSubmit:o,onTransferPlanClick:r,onChangeEmailClick:l,onContactSupportClick:c,transferPlanFormError:d,transferPlanFormShown:u,onQuestionChange:h}=e;return i.default.h(a.a,{class:"cancelPlanSurvey",onChange:h},i.default.h(s.h,{onTransferPlanClick:r,onTransferPlanFormSubmit:o,onChangeEmailClick:l,transferPlanFormShown:u,transferPlanFormError:d}),i.default.h(s.e,{onBackClick:t}),i.default.h(s.c,{onCancelPlanClick:n}),i.default.h(s.a,{onCancelPlanClick:n}),i.default.h(s.f,{onCancelPlanClick:n}),i.default.h(s.d,{onContactSupportClick:c,onCancelPlanClick:n}),i.default.h(s.g,{onContactSupportClick:c,onCancelPlanClick:n}),i.default.h(s.b,{onCancelPlanClick:n}))}},function(e,t,n){"use strict";var i=n(90);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0);t.a=class extends i.default.Component{constructor(e){super(e),this.state={index:-1},this.handleSelectQuestion=this.handleSelectQuestion.bind(this)}handleSelectQuestion(e){this.props.onChange&&this.props.onChange(e.target.value),this.setState({index:Number(e.target.value)})}render(){const{index:e}=this.state,{class:t}=this.props;return i.default.h("div",{class:t},this.props.children.map((t,n)=>i.default.cloneElement(t,{value:n,selected:e===n,onSelect:this.handleSelectQuestion})))}}},function(e,t,n){"use strict";var i=n(92),a=n(105),s=n(114),o=n(115),r=n(116),l=n(120),c=n(121),d=n(122);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return a.a}),n.d(t,"c",function(){return s.a}),n.d(t,"d",function(){return o.a}),n.d(t,"e",function(){return r.a}),n.d(t,"f",function(){return l.a}),n.d(t,"g",function(){return c.a}),n.d(t,"h",function(){return d.a})},function(e,t,n){"use strict";var i=n(0),a=n(43),s=n(31),o=n(24),r=n(16),l=n(25);t.a=class extends i.default.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(l.a)}render(){const{onSelect:e,selected:t,value:n}=this.props,l=[i.default.h("p",null,"Glad to hear that you'll be getting more out of Zeplin together! ",i.default.h(a.a,{asset:"img/emjFamily.png",width:"20",height:"20"})),i.default.h(s.a,null,i.default.h(o.a,{onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.default.h(r.a,{onSelect:e,selected:t,value:n,content:l,mainText:"Moved to a team plan"})}}},function(e,t,n){"use strict";var i=n(30),a=n(94),s=n(95);n.n(s);const o=Object(a.a)("questionEmojiImage")(i.a);t.a=o},function(e,t,n){"use strict";var i=n(0),a=n(3);t.a=function(e){return t=>n=>i.default.h(t,Object.assign({},n,{class:Object(a.a)(e,n.class)}))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(97);n.n(a);t.a=function(e){return i.default.h("div",{class:"questionButtons"},e.children)}},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(14),s=n(3),o=n(99);n.n(o);t.a=function(e){const{secondary:t,class:n}=e,o=Object.assign({},e,{class:Object(s.a)("questionButton",n,{secondary:t})});return delete o.secondary,i.default.h(a.a,o)}},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(101),s=n(3),o=n(104);n.n(o);t.a=function(e){const{content:t,mainText:n,subText:o,onSelect:r,selected:l,value:c}=e;return i.default.h("div",{class:"cancelPlanSurveyQuestion"},i.default.h("label",{class:Object(s.a)("selectWithText",{hasSubText:!!o})},i.default.h(a.a,{onClick:r,checked:l,value:c}),i.default.h("div",{class:"textContainer"},i.default.h("p",{class:"mainText"},n),o&&i.default.h("p",{class:"subText"},o))),l&&i.default.h("div",{class:"questionContent"},t))}},function(e,t,n){"use strict";var i=n(102);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(103);n.n(s);t.a=function(e){const t=Object.assign({},e);return delete t.class,i.default.h("span",null,i.default.h("input",Object.assign(t,{type:"radio",class:"radioButtonRadio"})),i.default.h("div",{class:Object(a.a)("radioButton",e.class)},i.default.h("div",{class:"radioButtonInner"})))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(44),s=n(16),o=n(25);t.a=class extends i.default.Component{constructor(e){super(e),this.handleFormSubmit=this.handleFormSubmit.bind(this)}handleFormSubmit(e){this.props.onCancelPlanClick(o.b,e)}render(){const{onSelect:e,selected:t,value:n}=this.props,o=[i.default.h("p",null,"Mind sharing why? This'll help us improve Zeplin."),i.default.h(a.a,{onSubmit:this.handleFormSubmit,placeholder:"Notes on why you're cancelling",buttonText:"Cancel plan"})];return i.default.h(s.a,{onSelect:e,selected:t,value:n,content:o,mainText:"Other"})}}},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(11),o=n(24),r=n(107),l=n(110),c=n(113);n.n(c);class d extends i.default.Component{constructor(e){super(e),this.state={value:"",dirty:!1,isInputValid:!0},this.handleInput=this.handleInput.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}isSubmitEnabled(){const{maxLength:e}=this.props,{value:t,isInputValid:n}=this.state;return t&&t.length<e&&t.trim()&&n}handleInput(e){this.setState({value:e.target.value,dirty:!0})}handleSubmit(e){e.preventDefault(),this.isSubmitEnabled()&&(this.props.onSubmit(this.state.value),this.setState({dirty:!1}))}componentDidMount(){this.nodeRefs.textInput.focus()}componentDidUpdate(e,t){"email"===this.props.type&&t.value!==this.state.value&&this.setState({isInputValid:this.nodeRefs.textInput.checkValidity()})}render(){const{placeholder:e,buttonText:t,label:n,type:c,error:d,maxLength:u,class:h}=this.props,{value:p,dirty:m,isInputValid:f}=this.state,g="email"===c&&l.a||r.a,b=!m&&!!d,v=p&&p.trim()&&f;return i.default.h("form",{class:Object(a.a)("questionTextForm",{hasError:b},h),onSubmit:this.handleSubmit},n&&i.default.h("label",{class:"questionTextFormLabel"},n),i.default.h(g,{class:"formInput",maxLength:u,onInput:this.handleInput,type:c,placeholder:e,value:p,inputRef:Object(s.a)(this,"textInput")}),b&&i.default.h("div",{class:"errorText"},d),i.default.h(o.a,{class:"questionTextFormButton",disabled:!v,type:"submit"},t))}}d.defaultProps={maxLength:2048},t.a=d},function(e,t,n){"use strict";var i=n(108);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(109);n.n(s);t.a=class extends i.default.Component{constructor(e){super(e),this.state={value:e.value},this.handleInput=this.handleInput.bind(this)}handleInput(e){this.props.onInput&&this.props.onInput(e),this.setState({value:e.target.value})}render(){const{value:e}=this.state,{placeholder:t,inputRef:n,maxLength:s,class:o}=this.props;return i.default.h("div",{class:Object(a.a)("questionTextArea",o)},i.default.h("div",{class:"mirror"},i.default.h("pre",null,e," ")),i.default.h("textarea",{value:e,maxLength:s,placeholder:t,ref:n,onInput:this.handleInput}))}}},function(e,t){},function(e,t,n){"use strict";var i=n(111);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(112);n.n(s);t.a=function(e){const t=Object.assign({},e,{class:Object(a.a)("questionTextInput",e.class),type:e.type||"text",ref:e.inputRef});return delete t.inputRef,i.default.h("input",t)}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(43),s=n(31),o=n(24),r=n(16),l=n(25);t.a=class extends i.default.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(l.c)}render(){const{onSelect:e,selected:t,value:n}=this.props,l=[i.default.h("p",null,"Thanks for using Zeplin, hope to have you back on board soon! ",i.default.h(a.a,{asset:"img/emjWave.png",width:"20",height:"20"})),i.default.h(s.a,null,i.default.h(o.a,{onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.default.h(r.a,{onSelect:e,selected:t,value:n,content:l,mainText:"Project ended, won't need Zeplin for a while"})}}},function(e,t,n){"use strict";var i=n(0),a=n(43),s=n(31),o=n(24),r=n(16),l=n(25);t.a=class extends i.default.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(l.d)}render(){const{onSelect:e,selected:t,value:n}=this.props,l=[i.default.h("p",null,"Sorry to hear that. Contact us and we'd love to help you out right away. ",i.default.h(a.a,{asset:"img/icMuscle.png",width:"20",height:"20"})),i.default.h(s.a,null,i.default.h(o.a,{onClick:this.props.onContactSupportClick},"Contact support"),i.default.h(o.a,{secondary:!0,onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.default.h(r.a,{onSelect:e,selected:t,value:n,content:l,mainText:"Ran into an issue",subText:"e.g. “I couldn't export my designs.”, “I failed to install the Photoshop plugin.”"})}}},function(e,t,n){"use strict";var i=n(0),a=n(16),s=n(117);t.a=function(e){const{onSelect:t,selected:n,value:o,onBackClick:r}=e,l=[i.default.h("p",null,"You can always switch your billing frequency. ",i.default.h(s.a,{onClick:r},"Go back")," to plan selection, select the Monthly tab and select your plan."),i.default.h("br",null),i.default.h("p",null,"Your previous payment will be pro-rated and credited to your account automatically. For a refund, please contact us.")];return i.default.h(a.a,{onSelect:t,selected:n,value:o,content:l,mainText:"Subscribed annually, instead of monthly"})}},function(e,t,n){"use strict";var i=n(118);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(119);n.n(a);t.a=function(e){return i.default.h("button",{class:"questionInlineButton",onClick:e.onClick},e.children)}},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(44),s=n(16),o=n(25);t.a=class extends i.default.Component{constructor(e){super(e),this.handleFormSubmit=this.handleFormSubmit.bind(this)}handleFormSubmit(e){this.props.onCancelPlanClick(o.e,e)}render(){const{onSelect:e,selected:t,value:n}=this.props,o=[i.default.h("p",null,"Mind sharing which tool and why? This'll help us improve Zeplin."),i.default.h(a.a,{onSubmit:this.handleFormSubmit,placeholder:"Notes on which tool you're switching to, and why",buttonText:"Cancel plan"})];return i.default.h(s.a,{onSelect:e,selected:t,value:n,content:o,mainText:"Switched to another tool"})}}},function(e,t,n){"use strict";var i=n(0),a=n(31),s=n(24),o=n(16),r=n(25);t.a=class extends i.default.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(r.f)}render(){const{onSelect:e,selected:t,value:n}=this.props,r=[i.default.h("p",null,"We wouldn't want to lose you over pricing. Mind contacting us and sharing why? We'd love to figure out the best plan for you and your team."),i.default.h(a.a,null,i.default.h(s.a,{onClick:this.props.onContactSupportClick},"Contact support"),i.default.h(s.a,{secondary:!0,onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.default.h(o.a,{onSelect:e,selected:t,value:n,content:r,mainText:"Too expensive",subText:"e.g. Dollar is really high in my country"})}}},function(e,t,n){"use strict";var i=n(123);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(30),s=n(31),o=n(24),r=n(44),l=n(16),c=n(124);n.n(c);const d=254;t.a=function(e){const{onSelect:t,selected:n,value:c}=e;return i.default.h(l.a,{onSelect:t,selected:n,value:c,content:function(e){const{onChangeEmailClick:t,onTransferPlanClick:n,onTransferPlanFormSubmit:l,transferPlanFormError:c,transferPlanFormShown:u}=e;return u?[i.default.h("p",null,"You can always change your account's email or transfer your plan to another Zeplin user."),i.default.h("div",{class:"transferPlanFormContainer"},i.default.h("div",{class:"emojiContainer"},i.default.h(a.a,{class:"emoji",asset:"img/emjPointUp.png",width:"14",height:"19",descriptors:["12w","17w","24w","34w","36w","51w"]})),i.default.h("div",{class:"text"},i.default.h("p",null,"By transferring the subscription, you will transfer your billing information and all the projects under this account."),i.default.h("br",null),i.default.h("p",null,"Your personal plan will be downgraded to Free plan and you can own only one project."))),i.default.h(r.a,{class:"transferPlanForm",type:"email",maxLength:d,label:"Enter the email of the user to transfer to:",error:c,onSubmit:l,placeholder:"Email",buttonText:"Transfer plan"})]:[i.default.h("p",null,"You can always change your account's email or transfer your plan to another Zeplin user."),i.default.h(s.a,null,i.default.h(o.a,{onClick:n},"Transfer plan"),i.default.h(o.a,{onClick:t},"Change email"))]}(e),mainText:"Subscribed with the wrong account or email address",subText:"e.g. “I used my personal email address.”, “I subscribed with my own account, instead of our designers.”"})}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(128);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(48),s=n(134);n.n(s);t.a=function(e){const{email:t}=e;return i.default.h(a.b,{onClose:e.onClose,width:444,class:"transferWarningDialog",positiveButtonText:"TRANSFER",negativeButtonText:"CANCEL",onPositiveButtonClick:e.onTransfer,hideNegativeButton:!1},i.default.h("div",{class:"dialogWrapper"},i.default.h("h1",{class:"dialogHeader"},"Transfer subscription"),i.default.h("div",{class:"dialogBody"},i.default.h("p",{class:"primaryInfo"},"You’re transferring your subscription to ",i.default.h("strong",null,'"',t,'"'),"."),i.default.h("p",null,"By transferring the subscription, you will ",i.default.h("strong",null,"transfer your billing information and all the projects under this account.")))))}},function(e,t,n){"use strict";var i=n(130);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(3),r=n(52),l=n(133);n.n(l);function c(e){const{title:t,message:n,positiveButtonText:a,negativeButtonText:s,onPositiveButtonClick:l,onNegativeButtonClick:c,hideNegativeButton:d,onClose:u,class:h}=e;return i.default.h(r.a,{class:Object(o.a)("basicDialog",h,{onlyMessage:!t}),positiveButtonText:a,negativeButtonText:s,onPositiveButtonClick:l,onNegativeButtonClick:c,hideNegativeButton:d,onClose:u},i.default.h("div",{class:"dialogBody"},t&&i.default.h("h1",{class:"title"},t),i.default.h("div",{class:"message"},n)))}c.displayName="BasicDialog",c.propTypes={title:s.a.string,message:s.a.string.isRequired,positiveButtonText:s.a.string,negativeButtonText:s.a.string,onPositiveButtonClick:s.a.func,onNegativeButtonClick:s.a.func,hideNegativeButton:s.a.bool,onClose:s.a.func},t.a=c},function(e,t,n){"use strict";var i=n(0);class a extends i.default.Component{getChildContext(){return this.props.context}render(e){return e.children&&e.children[0]||null}}t.a=class extends i.default.Component{findNode(e){return"string"==typeof e?document.querySelector(e):e}componentDidMount(){this.renderLayer(!0)}componentDidUpdate(e){for(let t in e)if(e[t]!==this.props[t])return this.renderLayer(!0)}componentWillUnmount(){this.renderLayer(!1),this.remote&&this.remote.parentNode.removeChild(this.remote)}renderLayer(e){var t=this.props.into||document.body;t!==this.intoPointer&&(this.intoPointer=t,this.into&&this.remote&&(this.remote=i.default.render(i.default.h(a,null),this.into,this.remote)),this.into=this.findNode(t)),this.remote=i.default.render(i.default.h(a,{context:this.context},e&&this.props.children||null),this.into,this.remote),this.props.didRender&&e&&this.props.didRender(this.remote)}render(){return null}}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";t.a={ADD_NOTIFICATION:"addNotification",GET_NOTIFICATIONS_REQUESTED:"getNotificationsRequested",GET_NOTIFICATIONS_SUCCESS:"getNotificationsSuccess",GET_NOTIFICATIONS_FAILED:"getNotificationsFailed",UPDATE_NOTIFICATION_LAST_READ_TIME:"updateNotificationLastReadTime"}},function(e,t,n){"use strict";var i=n(45);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(206);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(165),r=n(3),l=n(216);n.n(l);function c(e){const{children:t,subIconType:n,class:a}=e,s=Object(r.a)("icon",a);return i.default.h("div",{class:s},t,n&&i.default.h(o.a,{class:"subIcon",type:n}))}c.propTypes={class:s.a.string,subIconType:s.a.string},t.a=c},function(e,t,n){"use strict";var i=n(233);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(235);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(45);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a={REQUEST_INVITE:"requestInvite",ADD_ORGANIZATION:"addOrganization",UPDATE_ORGANIZATION:"updateOrganization",REMOVE_ORGANIZATION:"removeOrganization",GET_ORGANIZATIONS_REQUESTED:"getOrganizationsRequested",GET_ORGANIZATIONS_SUCCESS:"getOrganizationsSuccess",GET_ORGANIZATIONS_FAILED:"getOrganizationsFailed"}},function(e,t,n){"use strict";var i=n(45);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a={SHOW_IMPORTS_LIST:"showImportsList",HIDE_IMPORTS_LIST:"hideImportsList",HIDE_IMPORTS_INDICATOR:"hideImportsIndicator",HANDLE_IMPORTS:"handleImports",GO_TO_IMPORTED_SCREEN:"goToImportedScreen",RETRY_SCREEN_IMPORT:"retryScreenImport",CANCEL_SCREEN_IMPORT:"cancelScreenImport",RETRY_GET_PROJECT_FOR_IMPORTS:"retryGetProjectForImports",CLEAR_SCREEN_IMPORTS:"clearScreenImports"}},function(e,t,n){"use strict";var i=n(45);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(354);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(185),a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var s=n(173);s.inherits=n(156);var o=n(411),r=n(369);s.inherits(u,o);for(var l=a(r.prototype),c=0;c<l.length;c++){var d=l[c];u.prototype[d]||(u.prototype[d]=r.prototype[d])}function u(e){if(!(this instanceof u))return new u(e);o.call(this,e),r.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||i.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},function(e,t,n){"use strict";var i=n(618);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(744);n.d(t,"a",function(){return i.a})},,,function(e,t,n){"use strict";t.a=function(e,t,n="s"){return`${e} ${t}${1!==e?n:""}`}},function(e,t,n){"use strict";t.a=((e,t)=>{for(let n in e)if(!(n in t))return!0;for(let n in t)if(e[n]!==t[n])return!0;return!1})},function(e,t,n){"use strict";var i=n(336),a=n(144),s=n(145),o=n(337);n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return a.a}),n.d(t,"c",function(){return s.a}),n.d(t,"d",function(){return o.a})},function(e,t,n){"use strict";for(var i=n(32),a=n(72),s=n(187),o=n(51),r=new Array(256),l=0;l<256;l++)r[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;r[254]=r[254]=1;function c(){o.call(this,"utf-8 decode"),this.leftOver=null}function d(){o.call(this,"utf-8 encode")}t.utf8encode=function(e){return a.nodebuffer?s.newBufferFrom(e,"utf-8"):function(e){var t,n,i,s,o,r=e.length,l=0;for(s=0;s<r;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<r&&56320==(64512&(i=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=a.uint8array?new Uint8Array(l):new Array(l),o=0,s=0;o<l;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<r&&56320==(64512&(i=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t}(e)},t.utf8decode=function(e){return a.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,a,s,o=e.length,l=new Array(2*o);for(n=0,t=0;t<o;)if((a=e[t++])<128)l[n++]=a;else if((s=r[a])>4)l[n++]=65533,t+=s-1;else{for(a&=2===s?31:3===s?15:7;s>1&&t<o;)a=a<<6|63&e[t++],s--;s>1?l[n++]=65533:a<65536?l[n++]=a:(a-=65536,l[n++]=55296|a>>10&1023,l[n++]=56320|1023&a)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)}(e=i.transformTo(a.uint8array?"uint8array":"array",e))},i.inherits(c,o),c.prototype.processChunk=function(e){var n=i.transformTo(a.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var s=n;(n=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),n.set(s,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var o=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+r[e[n]]>t?n:t}(n),l=n;o!==n.length&&(a.uint8array?(l=n.subarray(0,o),this.leftOver=n.subarray(o,n.length)):(l=n.slice(0,o),this.leftOver=n.slice(o,n.length))),this.push({data:t.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=c,i.inherits(d,o),d.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=d},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var i=n(620);t.a=i.a},function(e,t,n){"use strict";var i=n(441),a=n(442);function s(e,t){a.a.dispatch({type:i.a.SET_PREF,name:e,value:t})}const o={addColor(e){a.a.dispatch({type:i.a.ADD_COLOR,color:e})},removeColor(e){a.a.dispatch({type:i.a.REMOVE_COLOR,colorId:e})},updateColor(e,t){a.a.dispatch({type:i.a.UPDATE_COLOR,colorId:e,data:t})},addTextStyle(e){a.a.dispatch({type:i.a.ADD_TEXT_STYLE,textStyle:e})},removeTextStyle(e){a.a.dispatch({type:i.a.REMOVE_TEXT_STYLE,textStyleId:e})},updateTextStyle(e,t){a.a.dispatch({type:i.a.UPDATE_TEXT_STYLE,textStyleId:e,data:t})},renameAsset(e,t,n,s){a.a.dispatch({type:i.a.RENAME_ASSET,containerId:e,version:t,assetId:n,name:s})},downloadAsset(e,t,n,s){a.a.dispatch({type:i.a.DOWNLOAD_ASSET,containerName:e,version:t,assetId:n,format:s})},downloadMultipleAsset(e,t,n){a.a.dispatch({type:i.a.DOWNLOAD_MULTIPLE_ASSET,containerName:e,version:t,assets:n})},openExtensionSettings(e){a.a.dispatch({type:i.a.OPEN_EXTENSION_SETTINGS,extensionId:e})},openScreenFromComponent(e,t,n){a.a.dispatch({type:i.a.OPEN_SCREEN_FROM_COMPONENT,screenId:e,componentURL:t,componentName:n})},openComponentFromLayer(e,t,n){a.a.dispatch({type:i.a.OPEN_COMPONENT_FROM_LAYER,componentId:e,screenURL:t,screenName:n})},useSVGO(e){s("showOptimizedSVG",e)},changeNamingConvention(e){s("assetNamingConvention",e)},hideNoResourceInfo(){s("noResourceInfoDismissed",!0)},setScreenSidebarWidth(e){s("screenSidebarWidth",e)},setStyleguideLeftSidebarWidth(e){s("styleguideLeftSidebarWidth",e)},setStyleguideSidebarWidth(e){s("styleguideSidebarWidth",e)},setProjectSidebarWidth(e){s("projectInfoWidth",e)},changeExportTarget(){a.a.dispatch({type:i.a.CHANGE_EXPORT_TARGET})},openExportTarget(){a.a.dispatch({type:i.a.OPEN_EXPORT_TARGET})},renameProject(e){a.a.dispatch({type:i.a.RENAME_PROJECT,value:e})},openDensityChangeModal(){a.a.dispatch({type:i.a.OPEN_DENSITY_CHANGE_MODAL})},copyWebLink(){a.a.dispatch({type:i.a.COPY_WEB_LINK})},copyAppURI(){a.a.dispatch({type:i.a.COPY_APP_URI})},addToSlack(){a.a.dispatch({type:i.a.ADD_TO_SLACK})},openShareSceneDialog(){a.a.dispatch({type:i.a.OPEN_SHARE_SCENE_DIALOG})},copySceneLink(){a.a.dispatch({type:i.a.COPY_SCENE_LINK})},unshareScene(){a.a.dispatch({type:i.a.UNSHARE_SCENE})},openSlackPreferences(e){a.a.dispatch({type:i.a.OPEN_SLACK_PREFERENCES,slack:e})},removeSlackIntegration(e){a.a.dispatch({type:i.a.REMOVE_SLACK_INTEGRATION,slack:e})},hideSlackReconnectionAuntie(){a.a.dispatch({type:i.a.HIDE_SLACK_RECONNECTION_AUNTIE})},reconnectSlackIntegration(e){a.a.dispatch({type:i.a.RECONNECT_SLACK_INTEGRATION,slack:e})},assignAdmin(e){a.a.dispatch({type:i.a.ASSIGN_ADMIN,member:e})},unassignAdmin(e){a.a.dispatch({type:i.a.UNASSIGN_ADMIN,member:e})},transferOwnership(e){a.a.dispatch({type:i.a.TRANSFER_OWNERSHIP,member:e})},removeMember(e){a.a.dispatch({type:i.a.REMOVE_MEMBER,member:e})},leave(e){a.a.dispatch({type:i.a.LEAVE,member:e})},setSectionHeadersPadding(){a.a.dispatch({type:i.a.SET_SECTION_HEADERS_PADDING})},openLink(e,t){a.a.dispatch({type:i.a.OPEN_LINK,url:e,options:t})},showInvitePopup(){a.a.dispatch({type:i.a.SHOW_INVITE_POPUP})},copySectionWebLink(e){a.a.dispatch({type:i.a.COPY_SECTION_WEB_LINK,id:e})},copySectionAppURI(e){a.a.dispatch({type:i.a.COPY_SECTION_APP_URI,id:e})},downloadSectionScreenImages(e){a.a.dispatch({type:i.a.DOWNLOAD_SECTION_SCREEN_IMAGES,id:e})},openSectionMoveDialog(e){a.a.dispatch({type:i.a.OPEN_SECTION_MOVE_DIALOG,id:e})},deleteSection(e,t){a.a.dispatch({type:i.a.SECTION_DELETE,id:e,sectionIndex:t})},renameSection(e,t){a.a.dispatch({type:i.a.RENAME_SECTION,id:e,name:t})},changeSectionDescription(e,t){a.a.dispatch({type:i.a.CHANGE_SECTION_DESCRIPTION,id:e,description:t})},renameScreen(e,t){a.a.dispatch({type:i.a.RENAME_SCREEN,id:e,name:t})},openManageTagsPopup(e){a.a.dispatch({type:i.a.OPEN_MANAGE_TAGS_POPUP,id:e})},setScreenAsProjectThumbnail(e){a.a.dispatch({type:i.a.SET_SCREEN_AS_PROJECT_THUMBNAIL,id:e})},downloadScreenImage(e){a.a.dispatch({type:i.a.DOWNLOAD_SCREEN_IMAGE,id:e})},copyScreenWebLink(e){a.a.dispatch({type:i.a.DOWNLOAD_SCREEN_IMAGE,id:e})},copyScreenAppURI(e){a.a.dispatch({type:i.a.COPY_SCREEN_APP_URI,id:e})},openMoveScreenDialog(e){a.a.dispatch({type:i.a.OPEN_MOVE_SCREEN_DIALOG,id:e})},deleteScreen(e){a.a.dispatch({type:i.a.DELETE_SCREEN,id:e})},sendCopyExtensionCodeEvents(e,t){a.a.dispatch({type:i.a.SEND_COPY_EXTENSION_CODE_EVENTS,source:e,extension:t})}};t.a=o},function(e,t,n){"use strict";var i=n(765);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(3),r=n(11),l=n(161),c=(n.n(l),"32"),d="32";class u extends i.default.Component{constructor(){super(),this.handleLoad=this.handleLoad.bind(this),this.state={loading:!0}}handleLoad(){this.setState({loading:!1})}componentDidMount(){this.state.loading&&this.nodeRefs.img.src&&this.nodeRefs.img.complete&&this.handleLoad()}componentWillReceiveProps(e){e.src===this.props.src&&e.srcset===this.props.srcset||this.setState({loading:!0})}componentDidUpdate(){this.state.loading&&this.nodeRefs.img.src&&this.nodeRefs.img.complete&&this.handleLoad()}render(e,t){const n=e.width||c,a=e.height||d,s=Object(o.a)("avatarFrame",{loading:t.loading},e.type,e.class),l={};return"bgSize"in e&&(l.backgroundSize=e.bgSize),i.default.h("div",{class:s,style:l,title:e.title},i.default.h("img",{ref:Object(r.a)(this,"img"),srcSet:e.srcset,src:e.src,width:n,height:a,onLoad:this.handleLoad,alt:"👤"}))}}u.propTypes={width:s.a.string,height:s.a.string,bgSize:s.a.number,class:s.a.string,type:s.a.oneOf(["user","organization"]),title:s.a.string,srcset:s.a.string,src:s.a.string.isRequired},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(135),a=n(136),s=n(1),o=n(39);const r=Object(s.k)(o.H),l={addNotification(e,t){a.a.dispatch({type:i.a.ADD_NOTIFICATION,notification:e,position:t})},getNotifications(e,t){a.a.dispatch({type:i.a.GET_NOTIFICATIONS_REQUESTED}),Object(o.o)(e,t).then(e=>{a.a.dispatch({type:i.a.GET_NOTIFICATIONS_SUCCESS,notifications:e.notifications,hasMore:e.hasMore})}).catch(e=>{a.a.dispatch({type:i.a.GET_NOTIFICATIONS_FAILED,error:e})})},setNotificationLastReadTime(e){a.a.dispatch({type:i.a.UPDATE_NOTIFICATION_LAST_READ_TIME,notificationLastReadTime:e})},updateNotificationLastReadTime(){r().then(e=>{const t=new Date(e.notificationLastReadTime);Zeplin.updateUser({notificationLastReadTime:t}),l.setNotificationLastReadTime(t)})}};t.a=l},function(e,t,n){"use strict";var i=n(1);var a=/\d+|[a-z]+|[A-Z]+(?![a-z])|[A-Z][a-z]+/g;t.a=function(e,t){return function(e,t){if("camelCase"===t||"upperCamelCase"===t){var n=e.map(i._2).join("");return"camelCase"===t?i.L(n):n}return"snakeCase"===t?e.join("_"):e.join("-")}(function(e){var t=e.match(a);return t?t.map(function(e){return e.toLowerCase()}):["invalid","name"]}(e),t)}},function(e,t,n){"use strict";var i=n(0);t.a=function(e){const t=Object.assign({},e);delete t.class;const n=`<${e.type} ${Object.keys(t).map(e=>`${e}="${t[e]}"`).join(" ")}></${e.type}>`;return i.default.h("div",{class:e.class,dangerouslySetInnerHTML:{__html:n}})}},function(e,t,n){"use strict";var i=n(214);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(308);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(168),a=n(141),s=n(23),o=n(10),r=n(1),l=n(39);const c=Object(r.k)(l.G);function d(e,t){a.a.dispatch({type:i.a.SET_USER_ATTRIBUTE,name:e,value:t})}const u={loadUserInfo(e){a.a.dispatch({type:i.a.LOAD_USER_INFO,user:e})},setUsername(e){d("username",e)},setEmail(e){d("email",e)},setEmotar(e){d("emotar",e)},setAvatar(e){d("avatar",e)},setEmailNotifications(e){d("isEmailNotificationEnabled",e)},setVerified(){d("verified",!0)},setDesktopNotifications(e){s.c.set("notificationStatus",e),d("isDesktopNotificationEnabled",e)},setSelectedView(e){a.a.dispatch({type:i.a.SET_SELECTED_VIEW,selectedView:e})},updateEmailNotifications(e){u.setEmailNotifications(e),c(e).then(()=>{Zeplin.updateUser({emailNotifications:e})}).catch(e=>{u.setEmailNotifications(Zeplin.user.emailNotifications),o.b(e)})},updateUserEmotar(e){u.setEmotar(e),Object(l.K)(e).then(()=>{Zeplin.updateUser({emotar:e}),mixpanel.webapp.track("Updated emotar",{emoji:e})}).catch(e=>{u.setEmotar(Zeplin.user.emotar),o.b(e)})},logout(){Object(l.y)().then(Zeplin.logout,Zeplin.logout)}};t.a=u},function(e,t,n){"use strict";t.a={LOAD_USER_INFO:"loadUserInfo",SET_SELECTED_VIEW:"setSelectedView"}},function(e,t,n){"use strict";var i=n(170),a=n(142),s=n(143),o=n(332);n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return a.a}),n.d(t,"c",function(){return s.a}),n.d(t,"d",function(){return o.a})},function(e,t,n){"use strict";var i=n(142),a=n(143),s=n(39);const o={requestInvite(){a.a.dispatch({type:i.a.REQUEST_INVITE})},addOrganization(e){a.a.dispatch({type:i.a.ADD_ORGANIZATION,organization:e})},updateOrganization(e,t){a.a.dispatch({type:i.a.UPDATE_ORGANIZATION,id:e,organization:t})},removeOrganization(e){a.a.dispatch({type:i.a.REMOVE_ORGANIZATION,id:e})},getOrganizations(){a.a.dispatch({type:i.a.GET_ORGANIZATIONS_REQUESTED}),Object(s.r)().then(e=>{a.a.dispatch({type:i.a.GET_ORGANIZATIONS_SUCCESS,organizations:e})}).catch(e=>{a.a.dispatch({type:i.a.GET_ORGANIZATIONS_FAILED,error:e})})}};t.a=o},function(e,t,n){"use strict";t.a="emotars";t.b="userMenu"},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=n(523),a=n(524),s=n(525);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return c(this,e,t,n)}function c(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t);return e}(e,t,n,i):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|m(t,n),a=(e=r(e,i)).write(t,n);a!==i&&(e=e.slice(0,a));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=r(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?r(e,0):h(e,t);if("Buffer"===t.type&&s(t.data))return h(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(d(t),e=r(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|p(t.length);e=r(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function p(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(i)return z(e).length;t=(""+t).toLowerCase(),i=!0}}function f(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function g(e,t,n,i,a){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,i,a);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,i,a);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,i,a){var s,o=1,r=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o=2,r/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){var d=-1;for(s=n;s<r;s++)if(c(e,s)===c(t,-1===d?0:s-d)){if(-1===d&&(d=s),s-d+1===l)return d*o}else-1!==d&&(s-=s-d),d=-1}else for(n+l>r&&(n=r-l),s=n;s>=0;s--){for(var u=!0,h=0;h<l;h++)if(c(e,s+h)!==c(t,h)){u=!1;break}if(u)return s}return-1}function v(e,t,n,i){n=Number(n)||0;var a=e.length-n;i?(i=Number(i))>a&&(i=a):i=a;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");i>s/2&&(i=s/2);for(var o=0;o<i;++o){var r=parseInt(t.substr(2*o,2),16);if(isNaN(r))return o;e[n+o]=r}return o}function y(e,t,n,i){return q(z(t,e.length-n),e,n,i)}function C(e,t,n,i){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function w(e,t,n,i){return C(e,t,n,i)}function S(e,t,n,i){return q(F(t),e,n,i)}function k(e,t,n,i){return q(function(e,t){for(var n,i,a,s=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),i=n>>8,a=n%256,s.push(a),s.push(i);return s}(t,e.length-n),e,n,i)}function E(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function j(e,t,n){n=Math.min(e.length,n);for(var i=[],a=t;a<n;){var s,o,r,l,c=e[a],d=null,u=c>239?4:c>223?3:c>191?2:1;if(a+u<=n)switch(u){case 1:c<128&&(d=c);break;case 2:128==(192&(s=e[a+1]))&&(l=(31&c)<<6|63&s)>127&&(d=l);break;case 3:s=e[a+1],o=e[a+2],128==(192&s)&&128==(192&o)&&(l=(15&c)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:s=e[a+1],o=e[a+2],r=e[a+3],128==(192&s)&&128==(192&o)&&128==(192&r)&&(l=(15&c)<<18|(63&s)<<12|(63&o)<<6|63&r)>65535&&l<1114112&&(d=l)}null===d?(d=65533,u=1):d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|1023&d),i.push(d),a+=u}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=x));return n}(i)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,i){return d(t),t<=0?r(e,t):void 0!==n?"string"==typeof i?r(e,t).fill(n,i):r(e,t).fill(n):r(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return u(null,e)},l.allocUnsafeSlow=function(e){return u(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,a=0,s=Math.min(n,i);a<s;++a)if(e[a]!==t[a]){n=e[a],i=t[a];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=l.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,a),a+=o.length}return i},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?j(this,0,e):function(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return j(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return _(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,i,a){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===a&&(a=this.length),t<0||n>e.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&t>=n)return 0;if(i>=a)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,a>>>=0,this===e)return 0;for(var s=a-i,o=n-t,r=Math.min(s,o),c=this.slice(i,a),d=e.slice(t,n),u=0;u<r;++u)if(c[u]!==d[u]){s=c[u],o=d[u];break}return s<o?-1:o<s?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return C(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function D(e,t,n){var i="";n=Math.min(e.length,n);for(var a=t;a<n;++a)i+=String.fromCharCode(127&e[a]);return i}function _(e,t,n){var i="";n=Math.min(e.length,n);for(var a=t;a<n;++a)i+=String.fromCharCode(e[a]);return i}function O(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var a="",s=t;s<n;++s)a+=B(e[s]);return a}function L(e,t,n){for(var i=e.slice(t,n),a="",s=0;s<i.length;s+=2)a+=String.fromCharCode(i[s]+256*i[s+1]);return a}function T(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,i,a,s){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<s)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function I(e,t,n,i){t<0&&(t=65535+t+1);for(var a=0,s=Math.min(e.length-n,2);a<s;++a)e[n+a]=(t&255<<8*(i?a:1-a))>>>8*(i?a:1-a)}function A(e,t,n,i){t<0&&(t=4294967295+t+1);for(var a=0,s=Math.min(e.length-n,4);a<s;++a)e[n+a]=t>>>8*(i?a:3-a)&255}function N(e,t,n,i,a,s){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,i,s){return s||N(e,0,n,4),a.write(e,t,n,i,23,4),n+4}function M(e,t,n,i,s){return s||N(e,0,n,8),a.write(e,t,n,i,52,8),n+8}l.prototype.slice=function(e,t){var n,i=this.length;if(e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var a=t-e;n=new l(a,void 0);for(var s=0;s<a;++s)n[s]=this[s+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var i=this[e],a=1,s=0;++s<t&&(a*=256);)i+=this[e+s]*a;return i},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var i=this[e+--t],a=1;t>0&&(a*=256);)i+=this[e+--t]*a;return i},l.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var i=this[e],a=1,s=0;++s<t&&(a*=256);)i+=this[e+s]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var i=t,a=1,s=this[e+--i];i>0&&(a*=256);)s+=this[e+--i]*a;return s>=(a*=128)&&(s-=Math.pow(2,8*t)),s},l.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),a.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),a.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),a.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),a.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var a=1,s=0;for(this[t]=255&e;++s<n&&(a*=256);)this[t+s]=e/a&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var a=n-1,s=1;for(this[t+a]=255&e;--a>=0&&(s*=256);)this[t+a]=e/s&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):A(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var a=Math.pow(2,8*n-1);R(this,e,t,n,a-1,-a)}var s=0,o=1,r=0;for(this[t]=255&e;++s<n&&(o*=256);)e<0&&0===r&&0!==this[t+s-1]&&(r=1),this[t+s]=(e/o>>0)-r&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var a=Math.pow(2,8*n-1);R(this,e,t,n,a-1,-a)}var s=n-1,o=1,r=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===r&&0!==this[t+s+1]&&(r=1),this[t+s]=(e/o>>0)-r&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):A(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var a,s=i-n;if(this===e&&n<t&&t<i)for(a=s-1;a>=0;--a)e[a+t]=this[a+n];else if(s<1e3||!l.TYPED_ARRAY_SUPPORT)for(a=0;a<s;++a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},l.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var o=l.isBuffer(e)?e:z(new l(e,i).toString()),r=o.length;for(s=0;s<n-t;++s)this[s+t]=o[s%r]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var i=e.length,a=null,s=[],o=0;o<i;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===i){(t-=3)>-1&&s.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&s.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function F(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,i){for(var a=0;a<i&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}}).call(t,n(64))},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(t,n(172).Buffer)},function(e,t,n){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:n(551),e.exports={Promise:i}},function(e,t,n){"use strict";var i=n(448),a=n(667);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return a.a})},function(e,t,n){"use strict";var i=n(691);t.a=i.a},function(e,t,n){"use strict";var i=n(724),a=n(459),s=n(460);n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return a.a}),n.d(t,"c",function(){return s.a})},function(e,t,n){"use strict";var i=n(736),a=n(463),s=n(464);n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return a.a}),n.d(t,"c",function(){return s.a})},function(e,t,n){"use strict";var i=n(738),a=n(385),s=n(386);n(739);n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return a.a}),n.d(t,"c",function(){return s.a})},function(e,t,n){"use strict";var i=n(756);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(801);n.d(t,"a",function(){return i.a}),t.b=i.b},,function(e,t,n){"use strict";var i=n(317);t.a=i.a},function(e,t,n){"use strict";var i=n(408),a=n(515),s=n(516),o=n(409),r=n(71),l=n(50),c=n(519),d=["text","shape","group"];function Layer(e){var t=Object.assign({},e);t.blur&&(t.blur=new a.a(t.blur)),t.borders=t.borders.map(function(e){return new s.a(e,t.rect.width,t.rect.height)}),t.fills=t.fills.map(function(e){return new o.a(e,t.rect.width,t.rect.height)}).reverse(),t.shadows=t.shadows.map(function(e){return new c.a(e)}),t.textStyles=(t.textStyles||[]).map(function(e){var t=parseInt(e.range.location,10);return{range:{start:t,end:t+parseInt(e.range.length,10)},font:new r.a(e.style)}}),t.layers=(t.layers||[]).map(function(e){return new Layer(e)}),t.asset?t.assets=t.asset.contents.map(function(e){return{density:e.density,format:e.format}}):t.assets=[],Object.defineProperties(this,{id:{value:t._id,enumerable:!0},type:{get:function(){return t.type},set:function(e){if(-1===d.indexOf(e))throw new TypeError("Unknown layer type: '"+e+"'. Possible values: "+JSON.stringify(d));t.type=e}},name:{get:function(){return t.name},set:function(e){t.name=e}},exportable:{value:t.exportable},rotation:{get:function(){return t.rotation},set:function(e){t.rotation=e}},opacity:{get:function(){return t.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");t.opacity=e}},blendMode:{get:function(){return t.blendMode},set:function(e){if(-1===i.a.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(i.a));t.blendMode=e}},borderRadius:{get:function(){return t.borderRadius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, ∞)");t.borderRadius=e}},blur:{get:function(){return t.blur},set:function(e){t.blur=new a.a(e)}},absoluteRect:{get:function(){return t.absoluteRect},set:function(e){t.absoluteRect=e}},rect:{get:function(){return t.rect},set:function(e){t.rect=e}},content:{get:function(){return"text"===t.type&&t.content||""},set:function(e){"text"===t.type&&(t.content=e)}},textStyles:{get:function(){return t.textStyles}},borders:{value:t.borders},fills:{value:t.fills},shadows:{value:t.shadows},assets:{value:t.assets},assetData:{value:t.asset},component:{value:t.component},layers:{value:t.layers},componentName:{value:t.componentName},sourceId:{value:t.sourceId}})}Layer.prototype=Object.create(l.a.prototype),Layer.prototype.constructor=Layer,Layer.prototype.toObject=function(){var e={type:this.type,name:this.name,exportable:this.exportable,rotation:this.rotation||0,opacity:this.opacity,blendMode:this.blendMode||"normal",borderRadius:this.borderRadius||0,absoluteRect:this.absoluteRect,rect:this.rect,content:this.content,borders:this.borders.map(function(e){return e.toObject()}),fills:this.fills.map(function(e){return e.toObject()}),shadows:this.shadows.map(function(e){return e.toObject()}),textStyles:this.textStyles.map(function(e){var t=e.range;return{range:{location:t.start,length:t.end-t.start},style:e.font.toObject()}}),assets:this.assets,layers:this.layers.map(function(e){return e.toObject()}),componentName:this.componentName,sourceId:this.sourceId};return this.blur&&(e.blur=this.blur.toObject()),e},Layer.prototype.hasGradient=function(){return this.fills.some(function(e){return"gradient"===e.type})},Layer.prototype.hasBlendMode=function(){return this.fills.some(function(e){return e.blendMode&&"normal"!==e.blendMode})},Layer.prototype.getDefaultTextStyle=function(){if("text"===this.type&&this.textStyles.length){var e,t=[],n=0;return this.textStyles.forEach(function(i){var a=t.find(function(e){return e.font.equals(i.font)}),s=i.range.end-i.range.start;a||(a={font:i.font,totalLength:0},t.push(a)),a.totalLength+=s,a.totalLength>n&&(n=a.totalLength,e=a)}),e&&e.font}},t.a=Layer},function(e,t,n){"use strict";!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var a,s,o=arguments.length;switch(o){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,n)});case 4:return process.nextTick(function(){e.call(null,t,n,i)});default:for(a=new Array(o-1),s=0;s<a.length;)a[s++]=arguments[s];return process.nextTick(function(){e.apply(null,a)})}}}:e.exports=process},function(e,t,n){var i=n(172),a=i.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return a(e,t,n)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=i:(s(i,t),t.Buffer=o),s(a,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=a(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},function(e,t,n){"use strict";(function(t){e.exports={isNode:void 0!==t,newBufferFrom:function(e,n){return new t(e,n)},allocBuffer:function(e){return t.alloc?t.alloc(e):new t(e)},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}}).call(t,n(172).Buffer)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(3);function r({x:e,y:t},{top:n,right:i,bottom:a,left:s}){return i>e&&s<e&&a>t&&n<t}function l(e){return class extends i.default.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.state={hover:!1}}changeHover(e){this.setState({hover:e}),this.props.onHoverChange&&this.props.onHoverChange(e)}handleMouseEnter(){this.changeHover(!0)}handleMouseLeave(e){const{initialHover:t,ignoreOverlays:n=!0}=this.props,{clientX:i,clientY:a,relatedTarget:s,target:o}=e,l=o.getBoundingClientRect();if(!t)if(n&&s&&r({x:i,y:a},l)){const e=this;s.addEventListener("mouseleave",function t(n){r({x:n.clientX,y:n.clientY},l)||e.changeHover(!1),s.removeEventListener("mouseleave",t)})}else this.changeHover(!1)}componentWillReceiveProps({initialHover:e}){void 0!==e&&e!==this.state.hover&&this.setState({hover:e})}render(t,{hover:n}){const a=Object.assign({},t,{hover:n});return delete a.class,i.default.h("div",{class:Object(o.a)("hoverRegion",t.class),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.default.h(e,a))}}}l.displayName="HoverRegion",l.propTypes={class:s.a.string,initialHover:s.a.bool,ignoreOverlays:s.a.bool,onHoverChange:s.a.func},l.defaultProps={initialHover:!1,ignoreOverlays:!0},t.a=l},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return u});var i=n(1);function a(e,t){return`linear-gradient(to bottom, ${e.colorStops.map(e=>(function(e,t){const n=e.position>0&&e.position<1?"":` ${Math.round(100*e.position)}%`;return`${e.color.toCSS(t)}${n}`})(e,t)).join(", ")})`}function s(e){const t=e.getDefaultTextStyle(),n=[];let i=0;return e.textStyles.forEach(({font:a,range:s})=>{const o=n.find(e=>e.font.equals(a));let r,l;t.equals(a)?l="default":o?l=o.group:(l=function(e){return["turquoise","cornflower-blue","green","yellow","peach"][parseInt(e,10)]||"group-"+e}(i),r=e.content.substring(s.start,s.end),i+=1),r=e.content.substring(s.start,s.end),n.push({font:a,range:s,group:l,content:r})}),n}function o(e,t){const{densityMismatch:n,localName:a,displayName:s,layerName:o,contents:r,percent:l,size:c,lightness:d,_id:u}=e,h={},p={},m={previewImages:h,displayName:s,layerName:o,localName:a,densityMismatch:n,formats:p,percent:l,size:c,light:"light"===d,id:u};for(const{density:i,format:f,optimized:g,url:b}of r){const e={density:i,optimized:g,url:b};f in p?p[f].variants.push(e):p[f]={variants:[e]},"diff"in p[f]||(l&&l.type===f?p[f].diff={type:"jpg"===l.type?"png":"jpg",percent:l.diff}:g&&g.percent&&(p[f].diff={type:"svg",percent:g.percent}))}return"png"in p?(p.png.variants.forEach(e=>{h[Object(i.q)(e.density)]=e.url}),m.size&&(m.size={width:t.withUnit(m.size.width),height:t.withUnit(m.size.height)}),m):null}function r(e){const t=e.reduce((e,t)=>{const n=t.creator?t.creator._id:"anonymous";return e[n]=(e[n]||[]).concat(t),e},{});return Object.keys(t).map(e=>{const n=t[e];n.sort((e,t)=>e.created<t.created);const a=n[0];let s=a.creator?a.creator:{username:"Anonymous"};return{username:s.username,avatar:Object(i.C)(s),versions:n.length,lastUpdated:a.created}})}function l(e,t,n){const i=n.find(t=>t.equals(e));let a,s;if(i)a=i.name;else if(e.a<1){const i=n.find(t=>t.hexBase()===e.hexBase());i&&1===i.a&&(s=t.alpha(e.a),a=i.name)}return{added:!!i,id:i&&i.id,value:{r:e.r,g:e.g,b:e.b,a:e.a},colorStyle:e.toCSS(),colorString:t.colorString(e),name:a,opacity:s}}function c(e,t,n){return{gradientStyle:a(e),colorStops:e.colorStops.map(({color:e,position:a})=>({position:Object(i.R)(a,2),color:l(e,t,n)}))}}function d(e,t,n,a){return"text"!==e.type?[]:s(e).map(({font:e,group:s,content:o,range:r})=>({textStyle:function(e,t,n,a){const s=Object(i.v)(a,e),{color:o,fontFace:r,fontSize:c,letterSpacing:d,lineHeight:u,textAlign:h}=e,p=o&&l(o,t,n);return{id:s&&s.id,added:!!s,color:p,name:s&&s.name,fontFace:r,fontSize:t.textLength(c),letterSpacing:d&&t.letterSpacing(d),lineHeight:u&&t.textLength(u),textAlign:h,value:{color:p&&p.value,fontFace:r,fontSize:c,letterSpacing:d,lineHeight:u,textAlign:h}}}(e,t,n,a),group:s,content:o,range:r}))}function u(e,t,n,i){const{_id:a,absoluteRect:s,assetData:r,blendMode:u,blur:h,borders:p,borderRadius:m,component:f,content:g,fills:b,name:v,opacity:y,rotation:C,shadows:w,type:S}=e,k={id:a,borders:p.map(e=>(function(e,t,n){const{fill:{color:i,gradient:a},position:s,thickness:o}=e;return{color:i&&l(i,t,n),gradient:a&&c(a,t,n),position:s,thickness:t.length(o)}})(e,t,n)),component:f,content:g,fills:b.map(e=>(function(e,t,n){const i={type:e.type};return"color"===e.type?i.color=l(e.color,t,n):"gradient"===e.type&&(i.gradient=c(e.gradient,t,n)),i})(e,t,n)),name:v,rect:{x:t.length(s.x),y:t.length(s.y),width:t.length(s.width),height:t.length(s.height)},shadows:w.map(e=>(function(e,t,n){const{blurRadius:i,color:a,offsetX:s,offsetY:o,spread:r,type:c}=e;return{blurRadius:t.length(i),color:l(a,t,n),offsetX:t.length(s),offsetY:t.length(o),spread:t.length(r),type:c}})(e,t,n)),type:S,typefaces:d(e,t,n,i)};return r&&(k.asset=o(r,t)),h&&(k.blur=function(e,t){const{type:n,radius:i}=e;return{type:n,radius:t.length(i)}}(h,t)),y<1&&(k.opacity=t.percentage(y)),m>0&&(k.borderRadius=t.length(m)),0!==C&&(k.rotation=C),"normal"!==u&&(k.blendMode=u),k}},function(e,t,n){"use strict";var i=n(891);n.d(t,"a",function(){return i.a})},,,,function(e,t,n){"use strict";var i=n(1),a=12,s=2,o=500,r=200,l=new WeakMap;function c(e){clearTimeout(l.get(e)),l.delete(e)}function d(e){if(e.target.classList.contains("tooltipShown"))c(e.target);else{var t=document.createElement("div");t.classList.add("zplTooltip","invisible");var n=e.target.dataset.tooltip;switch(e.target.dataset.tooltipType){case"html":t.innerHTML=i._1(n);break;case"text":default:t.textContent=n}e.target.classList.add("tooltipShown");var d=e.target.getBoundingClientRect();t.style.top=d.bottom-s+"px",t.style.left=d.left+d.width/2+"px",e.target.addEventListener("mouseleave",p),e.target.addEventListener("click",p),t.addEventListener("mouseenter",function(){c(e.target),t.addEventListener("mouseleave",p),t.addEventListener("click",function(e){e.stopPropagation()})}),document.body.appendChild(t);var u=t.getBoundingClientRect();u.left<a?(t.style.left=a+"px",t.classList.add("overflown")):u.right+a>window.innerWidth&&(t.style.left=window.innerWidth-a-u.width+"px",t.classList.add("overflown")),u.bottom+a>window.innerHeight&&(t.style.top=d.top-u.height+s+"px");var h=o;e.target.dataset.tooltipDelay&&(h=parseInt(e.target.dataset.tooltipDelay,10)),setTimeout(function(){t.classList.remove("invisible")},h)}function p(){c(e.target),l.set(e.target,setTimeout(function(){e.target.removeEventListener("mouseleave",p),e.target.classList.remove("tooltipShown"),t.remove()},r))}}function u(e){e.removeAttribute("title"),e.addEventListener("mouseenter",d)}function h(e){if(e.nodeType===Node.ELEMENT_NODE){if(e.hasAttribute("data-tooltip"))return void u(e);Array.from(e.children).forEach(h)}}window.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("[data-tooltip]");Array.from(e).forEach(u),new MutationObserver(function(e){e.forEach(function(e){switch(e.type){case"attributes":null===e.oldValue?u(e.target):e.target.dataset.tooltip||e.target.removeEventListener("mouseenter",d);break;case"childList":Array.from(e.addedNodes).forEach(h)}})}).observe(document.body,{attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0,attributeFilter:["data-tooltip"]})})},function(e,t,n){"use strict";var i=n(37),a=n(162),s=n(198);const o=document.getElementById("notificationContainer"),r=new i.a(s.a,o);a.a.setNotificationLastReadTime(new Date(Zeplin.user.notificationLastReadTime)),r.render()},,function(e,t,n){"use strict";var i=n(199);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(27),r=n(4),l=n(200),c=n(203),d=n(137),u=n(208),h=n(55),p=n(29),m=n(1),f=n(300);n.n(f);const g=50;class b extends i.default.Component{constructor(e){super(e),this.handleLastItemCallback=this.handleLastItemCallback.bind(this),this.handleNotificationIntersection=this.handleNotificationIntersection.bind(this),this.notificationIntersectionObserver=new IntersectionObserver(this.handleNotificationIntersection,{root:this.base,rootMargin:"0px 0px 288px 0px",threshold:0})}handleLastItemCallback(e){e&&(this.lastNotification=e.base,this.props.hasMore&&this.notificationIntersectionObserver.observe(this.lastNotification))}handleNotificationIntersection(e){const t=e[0];t.isIntersecting&&(this.notificationIntersectionObserver.unobserve(t.target),this.props.onEnd())}componentWillUnmount(){this.notificationIntersectionObserver.disconnect()}renderEmpty(){return i.default.h("div",{class:"none noSelect"},"No notifications currently.",i.default.h("br",null),"Kinda great? 😏")}renderEnd(){return i.default.h("div",{class:"end noSelect"},"~ The End ~")}renderError(e){return i.default.h("div",{class:"error noSelect"},"Something went wrong while fetching",i.default.h("br",null),"notifications. ",i.default.h("span",{onClick:e.onRetry,class:"tryAgain"},"Try Again"))}renderNotifications(e){const{notifications:t,notificationLastReadTime:n,onItemClick:i}=e;return t.map((e,a)=>{const s={notificationLastReadTime:n,onClick:i};return a===t.length-1&&(s.ref=this.handleLastItemCallback),Object(u.a)(e,s)})}render(e){const{notifications:t,hasError:n,hasMore:a}=e;return i.default.h("div",{class:"notificationsContainer"},this.renderNotifications(e),0===t.length&&this.renderEmpty(),!a&&!n&&this.renderEnd(),n&&this.renderError(e))}}b.propTypes={onRetry:s.a.func.isRequired,onEnd:s.a.func.isRequired,onItemClick:s.a.func.isRequired,notifications:s.a.array.isRequired,hasMore:s.a.bool.isRequired,notificationLastReadTime:s.a.object.isRequired,hasError:s.a.object};t.a=Object(h.a)(class extends i.default.Component{constructor(e){super(e),this.fetchMore=this.fetchMore.bind(this),this.handlePopoverOpen=this.handlePopoverOpen.bind(this),this.handlePopoverClose=this.handlePopoverClose.bind(this),this.handleWindowsAppBadgeShow=this.handleWindowsAppBadgeShow.bind(this),this.state={showNotifications:!1}}static calculateState(e,t){const{notifications:n,notificationLastReadTime:i,error:a,hasMore:s}=l.b.getState(),o=n.length>0&&new Date(n[0].updated)>i;let r;if(o)for(let l of n){if(new Date(l.updated)<i)break;if("CreateCoupon"===l.actionName){r=!0;break}}return{notifications:n,hasError:a,hasMore:s,notificationLastReadTime:i,hasUnread:o,hasPromotion:r}}static getStores(){return[l.b]}getAllNotifications(){l.a.getNotifications(null,g)}fetchMore(){const{notifications:e}=this.state,t=e.length?e[e.length-1].updated:null;l.a.getNotifications(t,g)}registerSubscribers(){o.g.bind("Notification",e=>{l.a.addNotification(e.body,"start")}),o.c.subscribe(r.a).bind("Notification",e=>{l.a.addNotification(e.body,"start")})}unregisterSubscribers(){o.g.unbind("Notification"),o.c.unsubscribe(r.a)}handlePopoverClose(){this.setState({showNotifications:!1}),l.a.updateNotificationLastReadTime()}handlePopoverOpen(){p.a&&this.state.hasUnread&&p.a.ipcRenderer.send("read-notifications"),this.setState({showNotifications:!0,hasUnread:!1,hasPromotion:!1})}handleWindowsAppBadgeShow(e,t){const{hasUnread:n}=this.state;t&&n&&p.a.ipcRenderer.send("unread-notifications",Object(m.d)())}componentDidMount(){this.getAllNotifications(),this.registerSubscribers(),window.addEventListener("online",this.getAllNotifications),p.a&&p.a.features&&p.a.features.revampedMenu&&p.a.ipcRenderer.on("show-badge",this.handleWindowsAppBadgeShow)}componentDidUpdate(e,t){p.a&&!t.hasUnread&&this.state.hasUnread&&p.a.ipcRenderer.send("unread-notifications",Object(m.d)())}componentWillUnmount(){this.unregisterSubscribers(),window.removeEventListener("online",this.getAllNotifications)}render(){const{notifications:e,hasMore:t,hasError:n,hasUnread:a,hasPromotion:s,notificationLastReadTime:o,showNotifications:r}=this.state,l=i.default.h(b,{notifications:e,onRetry:this.getAllNotifications,onEnd:this.fetchMore,onItemClick:this.handlePopoverClose,hasMore:t,hasError:n,notificationLastReadTime:o});return i.default.h(d.a,{open:r,content:l,onOpen:this.handlePopoverOpen,onClose:this.handlePopoverClose,toggleable:!0},i.default.h(c.a,{hasUnread:a,hasPromotion:s}))}},{withProps:!0})},function(e,t,n){"use strict";var i=n(162),a=(n(135),n(136),n(201));n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return a.a})},function(e,t,n){"use strict";var i=n(54),a=(n.n(i),n(136)),s=n(135);t.a=new class extends i.ReduceStore{constructor(){super(a.a)}getInitialState(){return{notifications:[],hasMore:null,loading:null,error:null,notificationLastReadTime:new Date}}getNotificationsRequested(e){return Object.assign({},e,{loading:!0})}mergeNotifications(e,t){let n=[];for(let i=0;i<e.length;i++)if(e[i]._id===t[0]._id){n=e.slice(0,i);break}return n.concat(t)}getNotificationsSuccess(e,t,n){return Object.assign({},e,{notifications:this.mergeNotifications(e.notifications,t),loading:!1,hasMore:n})}getNotificationsFailed(e,t){return Object.assign({},e,{loading:!1,error:t})}addNotification(e,t,n){return Object.assign({},e,{notifications:"start"===n?[t].concat(e.notifications):e.notifications.concat(t)})}updateLastReadTime(e,t){return Object.assign({},e,{notificationLastReadTime:t})}reduce(e,t){switch(t.type){case s.a.GET_NOTIFICATIONS_REQUESTED:return this.getNotificationsRequested(e);case s.a.GET_NOTIFICATIONS_SUCCESS:return this.getNotificationsSuccess(e,t.notifications,t.hasMore);case s.a.GET_NOTIFICATIONS_FAILED:return this.getNotificationsFailed(e,t.error);case s.a.UPDATE_NOTIFICATION_LAST_READ_TIME:return this.updateLastReadTime(e,t.notificationLastReadTime);case s.a.ADD_NOTIFICATION:return this.addNotification(e,t.notification,t.position);default:return e}}}},,function(e,t,n){"use strict";var i=n(204);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(5),r=n(205);n.n(r);function l({hasUnread:e,hasPromotion:t}){return i.default.h("button",{class:"notificationsButton"},e&&!t&&i.default.h("div",{class:"unreadBadge"}),e&&t&&i.default.h("img",{src:Object(o.b)("img/ntf/icNotificationStar.svg"),class:"promotionBadge"}),i.default.h("svg",{width:"36",height:"36",class:"notificationsIcon"},i.default.h("path",{"fill-rule":"evenodd",d:"M23.998 27.75l-6.574 2.392c-.36.13-.553.535-.42.898l7.893-2.873c-.133-.366-.535-.55-.9-.418zm4.38-9.044L23.28 8.58c-2.084-4.147-7.307-6.217-11.667-4.63-4.36 1.587-7.03 6.532-5.963 11.046L8.257 26.03l-.465.168c-1.45.528-2.202 2.136-1.673 3.59.523 1.45 2.13 2.202 3.584 1.673l21.05-7.66c1.448-.524 2.2-2.132 1.672-3.59-.53-1.45-2.137-2.2-3.59-1.67l-.464.17zm-5.99 14.844c-2.18.794-4.59-.33-5.384-2.51l7.893-2.873c.793 2.18-.33 4.59-2.51 5.383z"})))}l.propTypes={hasUnread:s.a.bool,hasPromotion:s.a.bool},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(49),r=n(3),l=n(11),c=n(1),d=n(207);n.n(d);class u extends i.default.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handlePopoverClick=this.handlePopoverClick.bind(this),this.renderPopoverContent=this.renderPopoverContent.bind(this),this.positionPopover=this.positionPopover.bind(this),this.handleResize=this.handleResize.bind(this)}positionPopover(){const{open:e,offsetX:t,offsetY:n,targetNode:i,left:a,top:s,centerX:o}=this.props,r=i||this.nodeRefs.container,l=this.nodeRefs.popover;if(!e||!l||!r)return;const c=r.getBoundingClientRect(),d=l.getBoundingClientRect(),u=a,h=s;let p=c.left;p+=o?(c.width-d.width)/2:u;let m=c.bottom+h;p+d.width+t>window.innerWidth&&(p=c.right-d.width),m+d.height+n>window.innerHeight&&(m=Math.max(m-d.height-c.height,0)),l.style.transform=`translate3d(${p}px, ${m}px, 0)`}handlePopoverClick(){const{onOpen:e}=this.props;e&&e()}handleDocumentClick(e){const{open:t,onClose:n}=this.props;t&&n&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&(this.nodeRefs.container.contains(e.target)&&e.stopPropagation(),this.nodeRefs.popover&&this.nodeRefs.popover.contains(e.target)||n())}handleKeyDown(e){const{onClose:t}=this.props;e.keyCode===Zeplin.KEY_CODE.ESC&&t&&t()}handleResize(){requestAnimationFrame(this.positionPopover)}componentDidMount(){document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("keydown",this.handleKeyDown),window.addEventListener("resize",this.handleResize)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("resize",this.handleResize)}renderPopoverContent(){const{content:e,contentClass:t}=this.props,n=Object(r.a)("popoverContent",t);return i.default.h("div",{onClick:c.Z,class:n,ref:Object(l.a)(this,"popover")},e)}render(){const{open:e,children:t,portalInto:n,class:a}=this.props,s=Object(r.a)(a,"popoverContainer");return i.default.h("div",{ref:Object(l.a)(this,"container"),class:s,onClick:this.handlePopoverClick},t,e&&i.default.h(o.a,{didRender:this.positionPopover,into:n},this.renderPopoverContent()))}}u.defaultProps={offsetX:0,offsetY:0,left:0,top:0},u.propTypes={open:s.a.bool.isRequired,children:s.a.element.isRequired,onClose:s.a.func.isRequired,onOpen:s.a.func.isRequired,portalInto:s.a.element,contentClass:s.a.string,class:s.a.string,offsetX:s.a.number,offsetY:s.a.number,targetNode:s.a.node,left:s.a.number,top:s.a.number,centerX:s.a.bool},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(27),o=n(71),r=n(210),l=n(221),c=n(225),d=n(227),u=n(231),h=n(237),p=n(239),m=n(241),f=n(243),g=n(245),b=n(248),v=n(252),y=n(255),C=n(258),w=n(261),S=n(264),k=n(266),E=n(268),j=n(271),x=n(274),D=n(276),_=n(278),O=n(280),L=n(282),T=n(284),R=n(286),I=n(289),A=n(292),N=n(294),P=n(296),M=n(298);const U={AddProjectExtension(e,t){const n=e.events[0].extension,o=e.params.project,r=s.b[o.type],l=e.params.source,c=Object(a.C)(l).src,d=Object(a._3)("project",{url:{pid:o._id},query:{eid:n._id}});return i.default.h(E.a,{onClick:t.onClick,link:d,avatarUrl:c,projectName:o.name,projectType:r,extensionName:n.name,usernames:[l.username],updated:e.updated,unread:t.unread,ref:t.ref})},ActivateProject(e,t){const n=e.events[0].project,s=e.params.source,o=Object(a.C)(s).src,r=Object(a._3)("project",{url:{pid:n._id}});return i.default.h(_.a,{onClick:t.onClick,link:r,avatarUrl:o,usernames:[s.username],projectNames:[n.name],updated:e.updated,unread:t.unread,ref:t.ref})},ArchiveProject(e,t){const n=e.events[0],s=e.params.source,o=Object(a.C)(s).src;return i.default.h(D.a,{onClick:t.onClick,avatarUrl:o,usernames:[s.username],projectNames:[n.project.name],updated:e.updated,unread:t.unread,ref:t.ref})},AuthSlack(e,t){const n=e.events[0].project,s=e.params.source,o=Object(a._3)("project",{url:{pid:n._id}});return i.default.h(R.a,{onClick:t.onClick,link:o,usernames:[s.username],projectName:n.name,slackChannelName:e.content,updated:e.updated,unread:t.unread,ref:t.ref})},CreateAnnouncement(e,t){if(!("webURI"in e.action))return null;const n=e.action.webURI;return i.default.h(v.a,{onClick:t.onClick,link:n||"#",disabled:!n,usernames:[e.params.source.username],content:e.content,updated:e.updated,unread:t.unread,ref:t.ref})},CreateComponent(e,t){const n=e.events,o=[e.params.source.username],r=Object(a.C)(e.params.source).src,l=e.params.project,c=s.b[l.type],d=n.map(e=>e.component.name),u=n.length>1?n.map(e=>e.component._id):n[0].component._id,p=Object(a._3)("project-styleguide-components",{url:{pid:l._id},query:{coid:u}});return i.default.h(h.a,{onClick:t.onClick,link:p,avatarUrl:r,projectName:l.name,projectType:c,componentNames:d,usernames:o,updated:e.updated,unread:t.unread,ref:t.ref})},CreateComponentVersion(e,t){const n=e.events,o=[e.params.source.username],r=Object(a.C)(e.params.source).src,l=e.params.project,c=s.b[l.type],d=n.map(e=>e.component.name),u=n.length>1?n.map(e=>e.component._id):n[0].component._id,h=Object(a._3)("project-styleguide-components",{url:{pid:l._id},query:{coid:u}});return i.default.h(p.a,{onClick:t.onClick,link:h,avatarUrl:r,projectName:l.name,projectType:c,componentNames:d,usernames:o,updated:e.updated,unread:t.unread,ref:t.ref})},CreateColor(e,t){const n=e.events,o=n.map(e=>e.color),r=e.params.project,l=s.b[r.type],c=[e.params.source.username],d=n.length>1?n.map(e=>e.color._id):n[0].color._id,u=Object(a._3)("project-styleguide",{url:{pid:r._id},query:{cid:d}});return i.default.h(L.a,{onClick:t.onClick,link:u,projectName:r.name,projectType:l,usernames:c,colors:o,updated:e.updated,unread:t.unread,ref:t.ref})},CreateCoupon:(e,t)=>"webURI"in e.action?i.default.h(I.a,{onClick:t.onClick,link:e.action.webURI,content:e.content,updated:e.updated,unread:t.unread,ref:t.ref}):null,CreateDot(e,t){const n=e.events,o=1===n.length?e.content:null,l=e.params.project,c=e.params.screen,d=Object(a.C)(n[0].source).src,u=Array.from(new Set(n.map(e=>e.source.username))),h=s.b[l.type],p=n.length>1?n.map(e=>e.dot._id):n[0].dot._id,m=Object(a._3)("project-screen",{url:{pid:l._id,sid:c._id},query:{did:p}});return i.default.h(r.a,{onClick:t.onClick,link:m,avatarUrl:d,screenName:c.name,projectName:l.name,projectType:h,usernames:u,notes:n,content:o,updated:e.updated,unread:t.unread,ref:t.ref})},"CreateDot-Mention":(e,t)=>{const n=e.events[0],o=n.dot,r=e.params.project,l=s.b[r.type],c=e.params.screen,d=Object(a.C)(n.source).src,u=[n.source.username],h=Object(a._3)("project-screen",{url:{pid:r._id,sid:c._id},query:{did:o._id,cmid:n.comment._id}});return i.default.h(w.a,{onClick:t.onClick,link:h,avatarUrl:d,projectName:r.name,projectType:l,screenName:c.name,noteName:o.name,usernames:u,content:e.content,updated:e.updated,unread:t.unread,ref:t.ref})},"CreateDotComment-Mention":(e,t)=>{const n=e.events[0],o=e.params.dot,r=o.name,l=e.params.project,c=s.b[l.type],d=e.params.screen,u=Object(a.C)(n.source).src,h=[n.source.username],p=Object(a._3)("project-screen",{url:{pid:l._id,sid:d._id},query:{did:o._id,cmid:n.comment._id}});return i.default.h(w.a,{onClick:t.onClick,link:p,avatarUrl:u,projectName:l.name,projectType:c,screenName:d.name,noteName:r,usernames:h,content:e.content,updated:e.updated,unread:t.unread,ref:t.ref})},CreateDotComment(e,t){const n=e.events,o=1===n.length?e.content:null,r=e.params.dot.name,l=e.params.project,c=e.params.screen,d=Object(a.C)(n[0].source).src,u=Array.from(new Set(n.map(e=>e.source.username))),h=s.b[l.type],p=n.length>1?n.map(e=>e.comment._id):n[0].comment._id,m=Object(a._3)("project-screen",{url:{pid:l._id,sid:c._id},query:{did:e.params.dot._id,cmid:p}});return i.default.h(C.a,{onClick:t.onClick,link:m,avatarUrl:d,screenName:c.name,projectName:l.name,projectType:h,noteName:r,usernames:u,content:o,updated:e.updated,unread:t.unread,ref:t.ref})},CreateScreen(e,t){const n=e.events,o=n.map(e=>e.screen),r=o.map(e=>e.name),c=o.map(e=>e._id),d=Object(a.C)(e.params.source).src,u=[e.params.source.username],h=e.params.project,p=s.b[h.type],m=n.length>1?Object(a._3)("project",{url:{pid:h._id},query:{sid:c}}):Object(a._3)("project-screen",{url:{pid:h._id,sid:c[0]}});return i.default.h(l.a,{onClick:t.onClick,link:m,avatarUrl:d,projectName:h.name,projectType:p,usernames:u,screenNames:r,updated:e.updated,unread:t.unread,ref:t.ref})},CreateScreenVersion(e,t){const n=e.events,o=n.map(e=>e.screen),r=o.map(e=>e.name),l=o.map(e=>e._id),d=Object(a.C)(e.params.source).src,u=[e.params.source.username],h=e.params.project,p=s.b[h.type],m=n.length>1?Object(a._3)("project",{url:{pid:h._id},query:{sid:l}}):Object(a._3)("project-screen",{url:{pid:h._id,sid:l[0]}});return i.default.h(c.a,{onClick:t.onClick,link:m,avatarUrl:d,projectName:h.name,projectType:p,usernames:u,screenNames:r,updated:e.updated,unread:t.unread,ref:t.ref})},CreateTextStyle(e,t){const n=e.events.map(e=>e.textStyle),r=n.map(e=>new o.a(e).name),l=n.map(e=>e._id),c=[e.params.source.username],d=e.params.project,u=s.b[d.type],h=n.length>1?l:l[0],p=Object(a._3)("project-styleguide",{url:{pid:d._id},query:{tsid:h}});return i.default.h(A.a,{onClick:t.onClick,link:p,projectName:d.name,projectType:u,usernames:c,textStyles:r,updated:e.updated,unread:t.unread,ref:t.ref})},DeleteColor(e,t){const n=e.events.map(e=>e.color),a=e.params.project,o=s.b[a.type],r=[e.params.source.username];return i.default.h(T.a,{projectName:a.name,projectType:o,usernames:r,colors:n,updated:e.updated,unread:t.unread,ref:t.ref})},DeleteComponent(e,t){const n=e.events,o=[e.params.source.username],r=Object(a.C)(e.params.source).src,l=e.params.project,c=s.b[l.type],d=n.map(e=>e.component.name);return i.default.h(m.a,{avatarUrl:r,projectName:l.name,projectType:c,componentNames:d,usernames:o,updated:e.updated,unread:t.unread,ref:t.ref})},DeleteScreen(e,t){const n=e.events.map(e=>e.screen).map(e=>e.name),o=Object(a.C)(e.params.source).src,r=[e.params.source.username],l=e.params.project,c=s.b[l.type];return i.default.h(S.a,{avatarUrl:o,projectName:l.name,projectType:c,usernames:r,screenNames:n,updated:e.updated,unread:t.unread,ref:t.ref})},DeleteProject(e,t){const n=e.events[0],s=e.params.source,o=Object(a.C)(s).src;return i.default.h(x.a,{avatarUrl:o,usernames:[s.username],projectNames:[n.project.name],updated:e.updated,unread:t.unread,ref:t.ref})},DeleteTextStyle(e,t){const n=e.events.map(e=>e.textStyle).map(e=>new o.a(e).name),a=[e.params.source.username],r=e.params.project,l=s.b[r.type];return i.default.h(N.a,{projectName:r.name,projectType:l,usernames:a,textStyles:n,updated:e.updated,unread:t.unread,ref:t.ref})},RemoveExtensionFromProject(e,t){const n=e.events[0].extension,o=e.params.project,r=s.b[o.type],l=e.params.source,c=Object(a.C)(l).src;return i.default.h(j.a,{avatarUrl:c,projectName:o.name,projectType:r,extensionName:n.name,usernames:[l.username],updated:e.updated,unread:t.unread,ref:t.ref})},ResolveDot(e,t){const n=e.events,o=n.map(e=>e.dot.name),r=Object(a.C)(n[0].source).src,l=e.params.screen,c=e.params.project,d=s.b[c.type],u=Array.from(new Set(n.map(e=>e.source.username))),h=n.length>1?n.map(e=>e.dot._id):n[0].dot._id,p=Object(a._3)("project-screen",{url:{pid:c._id,sid:l._id},query:{did:h}});return i.default.h(y.a,{onClick:t.onClick,link:p,avatarUrl:r,projectName:c.name,projectType:d,screenName:l.name,usernames:u,notes:o,updated:e.updated,unread:t.unread,ref:t.ref})},UpdateOrganizationMemberRole(e,t){const n=e.events,s=e.events[n.length-1],o=s.user.role,r=s.source,l=e.params.organization,c=[r.username],d=Object(a.C)(r).src,u=Object(a._3)("organization-dashboard",{url:{oid:l._id}});return i.default.h(b.a,{onClick:t.onClick,link:u,avatarUrl:d,roleName:o,organizationName:l.name,usernames:c,updated:e.updated,unread:t.unread,ref:t.ref})},UpdateColor(e,t){const n=e.events,o=n.map(e=>e.color),r=e.params.project,l=s.b[r.type],c=[e.params.source.username],d=n.length>1?n.map(e=>e.color._id):n[0].color._id,h=Object(a._3)("project-styleguide",{url:{pid:r._id},query:{cid:d}});return i.default.h(u.a,{onClick:t.onClick,link:h,projectName:r.name,projectType:l,colors:o,usernames:c,updated:e.updated,unread:t.unread,ref:t.ref})},UpdateUserRole(e,t){const n=e.events,s=n.map(e=>e.project.name),o=n.map(e=>e.project._id),r=e.params.source,l=Object(a.C)(r).src,c=[r.username],d=n.length>1?Object(a._3)("projects",{query:{pid:o}}):Object(a._3)("project",{url:{pid:o[0]}});return i.default.h(O.a,{onClick:t.onClick,link:d,avatarUrl:l,projectNames:s,usernames:c,updated:e.updated,unread:t.unread,ref:t.ref})},UpdateTextStyle(e,t){const n=e.events.map(e=>e.textStyle),r=n.map(e=>new o.a(e).name),l=n.map(e=>e._id),c=[e.params.source.username],d=e.params.project,u=s.b[d.type],h=n.length>1?l:l[0],p=Object(a._3)("project-styleguide",{url:{pid:d._id},query:{tsid:h}});return i.default.h(P.a,{onClick:t.onClick,link:p,projectName:d.name,projectType:u,usernames:c,textStyles:r,updated:e.updated,unread:t.unread,ref:t.ref})},UserJoined(e,t){const n=e.events,s=Object(a.C)(n[0].member).src,o=Array.from(new Set(n.map(e=>e.member.username))),r=e.params.project,l=Object(a._3)("project",{url:{pid:r._id}});return i.default.h(d.a,{onClick:t.onClick,link:l,avatarUrl:s,projectNames:[r.name],usernames:o,updated:e.updated,unread:t.unread,ref:t.ref})},RemoveUserFromProject(e,t){const n=e.params.source,s=Object(a.C)(n).src,o=e.params.project;return i.default.h(k.a,{avatarUrl:s,projectNames:[o.name],usernames:[n.username],updated:e.updated,unread:t.unread,ref:t.ref})},InviteMember(e,t){const n=e.params.source,s=[n.username],o=Object(a.C)(n).src,r=e.params.organization,l=Object(a._3)("organization-dashboard",{url:{oid:r._id}});return i.default.h(g.a,{onClick:t.onClick,link:l,avatarUrl:o,organizationName:r.name,usernames:s,updated:e.updated,unread:t.unread,ref:t.ref})},InviteUser(e,t){const n=e.events,s=[e.params.source.username],o=Object(a.C)(e.params.source).src,r=n.map(e=>e.project.name),l=n.length>1?{query:{pid:n.map(e=>e.project._id)}}:{url:{pid:n[0].project._id}},c=Object(a._3)("project",l);return i.default.h(f.a,{onClick:t.onClick,link:c,avatarUrl:o,projectNames:r,usernames:s,updated:e.updated,unread:t.unread,ref:t.ref})},TransferOwnership(e,t){const n=e.events[0].project,s=e.params.source,o=[s.username],r=Object(a.C)(s).src,l=Object(a._3)("project",{url:{pid:n._id}});return i.default.h(M.a,{onClick:t.onClick,link:l,avatarUrl:r,usernames:o,projectNames:[n.name],updated:e.updated,unread:t.unread,ref:t.ref})}};t.a=((e,t={})=>{const n=function(e,t){return t<new Date(e.updated)}(e,t.notificationLastReadTime),i=U[e.actionName];return i?i(e,{ref:t.ref,onClick:t.onClick,unread:n}):null})},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var i=Object.freeze({transparent:{name:"transparent",r:0,g:0,b:0,a:0},white:{name:"white",r:255,g:255,b:255,a:1}}),a=Object.freeze([{r:0,g:0,b:0,name:"black"},{r:0,g:1,b:51,name:"very dark blue"},{r:0,g:2,b:46,name:"dark navy blue"},{r:0,g:3,b:91,name:"dark blue"},{r:0,g:4,b:53,name:"dark navy"},{r:0,g:17,b:70,name:"navy blue"},{r:0,g:45,b:4,name:"dark forest green"},{r:0,g:69,b:119,name:"prussian blue"},{r:0,g:82,b:73,name:"dark blue green"},{r:0,g:85,b:90,name:"deep teal"},{r:0,g:95,b:106,name:"petrol"},{r:0,g:147,b:55,name:"kelley green"},{r:0,g:251,b:176,name:"greenish turquoise"},{r:0,g:255,b:255,name:"cyan"},{r:1,g:15,b:204,name:"true blue"},{r:1,g:21,b:62,name:"navy"},{r:1,g:56,b:106,name:"marine blue"},{r:1,g:65,b:130,name:"darkish blue"},{r:1,g:70,b:0,name:"racing green"},{r:1,g:77,b:78,name:"dark teal"},{r:1,g:84,b:130,name:"deep sea blue"},{r:1,g:101,b:252,name:"bright blue"},{r:1,g:103,b:149,name:"peacock blue"},{r:1,g:115,b:113,name:"dark aquamarine"},{r:1,g:115,b:116,name:"deep turquoise"},{r:1,g:122,b:121,name:"bluegreen"},{r:1,g:123,b:146,name:"ocean"},{r:1,g:136,b:159,name:"teal blue"},{r:1,g:149,b:41,name:"irish green"},{r:1,g:160,b:73,name:"emerald"},{r:1,g:180,b:76,name:"shamrock"},{r:1,g:192,b:141,name:"green blue"},{r:1,g:249,b:198,name:"bright teal"},{r:1,g:255,b:7,name:"bright green"},{r:2,g:0,b:53,name:"midnight blue"},{r:2,g:3,b:226,name:"pure blue"},{r:2,g:6,b:111,name:"dark royal blue"},{r:2,g:27,b:249,name:"rich blue"},{r:2,g:89,b:15,name:"deep green"},{r:2,g:143,b:30,name:"emerald green"},{r:2,g:147,b:134,name:"teal"},{r:2,g:171,b:46,name:"kelly green"},{r:2,g:193,b:77,name:"shamrock green"},{r:2,g:204,b:254,name:"bright sky blue"},{r:2,g:216,b:233,name:"aqua blue"},{r:3,g:1,b:45,name:"midnight"},{r:3,g:7,b:100,name:"darkblue"},{r:3,g:10,b:167,name:"cobalt blue"},{r:3,g:53,b:0,name:"dark green"},{r:3,g:57,b:248,name:"vibrant blue"},{r:3,g:67,b:223,name:"blue"},{r:3,g:113,b:156,name:"ocean blue"},{r:4,g:2,b:115,name:"deep blue"},{r:4,g:3,b:72,name:"night blue"},{r:4,g:46,b:96,name:"marine"},{r:4,g:74,b:5,name:"bottle green"},{r:4,g:92,b:90,name:"dark turquoise"},{r:4,g:116,b:149,name:"sea blue"},{r:4,g:130,b:67,name:"jungle green"},{r:4,g:133,b:209,name:"cerulean"},{r:4,g:216,b:178,name:"aquamarine"},{r:4,g:217,b:255,name:"neon blue"},{r:4,g:244,b:137,name:"turquoise green"},{r:5,g:4,b:170,name:"royal blue"},{r:5,g:71,b:42,name:"evergreen"},{r:5,g:72,b:13,name:"british racing green"},{r:5,g:73,b:7,name:"darkgreen"},{r:5,g:105,b:107,name:"dark aqua"},{r:5,g:110,b:238,name:"cerulean blue"},{r:5,g:255,b:166,name:"bright sea green"},{r:6,g:46,b:3,name:"very dark green"},{r:6,g:71,b:12,name:"forest green"},{r:6,g:82,b:255,name:"electric blue"},{r:6,g:154,b:243,name:"azure"},{r:6,g:177,b:196,name:"turquoise blue"},{r:6,g:180,b:139,name:"green blue"},{r:6,g:194,b:172,name:"turquoise"},{r:7,g:13,b:13,name:"almost black"},{r:8,g:4,b:249,name:"primary blue"},{r:8,g:120,b:127,name:"deep aqua"},{r:8,g:148,b:4,name:"true green"},{r:8,g:255,b:8,name:"fluorescent green"},{r:10,g:67,b:122,name:"twilight blue"},{r:10,g:72,b:30,name:"pine green"},{r:10,g:95,b:56,name:"spruce"},{r:10,g:136,b:138,name:"dark cyan"},{r:10,g:221,b:8,name:"vibrant green"},{r:10,g:255,b:2,name:"fluro green"},{r:11,g:64,b:8,name:"hunter green"},{r:11,g:85,b:9,name:"forest"},{r:11,g:139,b:135,name:"greenish blue"},{r:11,g:247,b:125,name:"minty green"},{r:11,g:249,b:234,name:"bright aqua"},{r:12,g:6,b:247,name:"strong blue"},{r:12,g:23,b:147,name:"royal"},{r:12,g:181,b:119,name:"green teal"},{r:12,g:220,b:115,name:"tealish green"},{r:12,g:255,b:12,name:"neon green"},{r:13,g:117,b:248,name:"deep sky blue"},{r:14,g:135,b:204,name:"water blue"},{r:15,g:155,b:142,name:"blue green"},{r:15,g:254,b:249,name:"bright turquoise"},{r:16,g:122,b:176,name:"nice blue"},{r:16,g:166,b:116,name:"bluish green"},{r:17,g:135,b:93,name:"dark sea green"},{r:18,g:225,b:147,name:"aqua green"},{r:19,g:126,b:109,name:"blue green"},{r:19,g:187,b:175,name:"topaz"},{r:19,g:234,b:201,name:"aqua"},{r:21,g:46,b:255,name:"vivid blue"},{r:21,g:68,b:6,name:"forrest green"},{r:21,g:80,b:132,name:"light navy"},{r:21,g:176,b:26,name:"green"},{r:24,g:5,b:219,name:"ultramarine blue"},{r:24,g:209,b:123,name:"seaweed"},{r:27,g:36,b:49,name:"dark"},{r:27,g:252,b:6,name:"highlighter green"},{r:29,g:2,b:0,name:"very dark brown"},{r:29,g:93,b:236,name:"azul"},{r:30,g:72,b:143,name:"cobalt"},{r:30,g:145,b:103,name:"viridian"},{r:30,g:248,b:118,name:"spearmint"},{r:31,g:9,b:84,name:"dark indigo"},{r:31,g:59,b:77,name:"dark blue grey"},{r:31,g:99,b:87,name:"dark green blue"},{r:31,g:167,b:116,name:"jade"},{r:31,g:181,b:122,name:"dark seafoam"},{r:32,g:0,b:177,name:"ultramarine"},{r:32,g:192,b:115,name:"dark mint green"},{r:32,g:249,b:134,name:"wintergreen"},{r:33,g:56,b:171,name:"sapphire"},{r:33,g:71,b:97,name:"dark slate blue"},{r:33,g:195,b:111,name:"algae green"},{r:33,g:252,b:13,name:"electric green"},{r:34,g:66,b:199,name:"blue blue"},{r:35,g:196,b:139,name:"greenblue"},{r:36,g:122,b:253,name:"clear blue"},{r:36,g:188,b:168,name:"tealish"},{r:37,g:163,b:111,name:"teal green"},{r:37,g:255,b:41,name:"hot green"},{r:38,g:83,b:141,name:"dusk blue"},{r:38,g:247,b:253,name:"bright light blue"},{r:39,g:106,b:179,name:"mid blue"},{r:40,g:1,b:55,name:"midnight purple"},{r:40,g:124,b:55,name:"darkish green"},{r:41,g:70,b:91,name:"dark grey blue"},{r:41,g:118,b:187,name:"bluish"},{r:42,g:1,b:52,name:"very dark purple"},{r:42,g:126,b:25,name:"tree green"},{r:42,g:254,b:183,name:"greenish cyan"},{r:43,g:93,b:52,name:"pine"},{r:43,g:175,b:106,name:"jade green"},{r:43,g:177,b:121,name:"bluey green"},{r:44,g:111,b:187,name:"medium blue"},{r:44,g:250,b:31,name:"radioactive green"},{r:45,g:254,b:84,name:"bright light green"},{r:46,g:90,b:136,name:"light navy blue"},{r:46,g:232,b:187,name:"aqua marine"},{r:47,g:239,b:16,name:"vivid green"},{r:49,g:102,b:138,name:"ugly blue"},{r:50,g:191,b:132,name:"greenish teal"},{r:51,g:184,b:100,name:"cool green"},{r:52,g:1,b:63,name:"dark violet"},{r:52,g:28,b:2,name:"dark brown"},{r:52,g:56,b:55,name:"charcoal"},{r:53,g:6,b:62,name:"dark purple"},{r:53,g:83,b:10,name:"navy green"},{r:53,g:173,b:107,name:"seaweed green"},{r:54,g:1,b:63,name:"deep purple"},{r:54,g:55,b:55,name:"dark grey"},{r:55,g:62,b:2,name:"dark olive"},{r:55,g:120,b:191,name:"windows blue"},{r:56,g:2,b:130,name:"indigo"},{r:56,g:8,b:53,name:"eggplant"},{r:56,g:128,b:4,name:"dark grass green"},{r:57,g:173,b:72,name:"medium green"},{r:58,g:24,b:177,name:"indigo blue"},{r:58,g:46,b:254,name:"light royal blue"},{r:58,g:229,b:127,name:"weird green"},{r:59,g:91,b:146,name:"denim blue"},{r:59,g:99,b:140,name:"denim"},{r:59,g:113,b:159,name:"muted blue"},{r:60,g:0,b:8,name:"dark maroon"},{r:60,g:65,b:66,name:"charcoal grey"},{r:60,g:77,b:3,name:"dark olive green"},{r:60,g:115,b:168,name:"flat blue"},{r:60,g:153,b:146,name:"sea"},{r:61,g:7,b:52,name:"aubergine"},{r:61,g:28,b:2,name:"chocolate"},{r:61,g:122,b:253,name:"lightish blue"},{r:61,g:153,b:115,name:"ocean green"},{r:62,g:130,b:252,name:"dodger blue"},{r:62,g:175,b:118,name:"dark seafoam green"},{r:63,g:1,b:44,name:"dark plum"},{r:63,g:130,b:157,name:"dirty blue"},{r:63,g:155,b:11,name:"grass green"},{r:64,g:163,b:104,name:"greenish"},{r:64,g:253,b:20,name:"poison green"},{r:65,g:2,b:0,name:"deep brown"},{r:65,g:25,b:0,name:"chocolate brown"},{r:65,g:156,b:3,name:"grassy green"},{r:65,g:253,b:254,name:"bright cyan"},{r:66,g:179,b:149,name:"greeny blue"},{r:67,g:5,b:65,name:"eggplant purple"},{r:67,g:107,b:173,name:"french blue"},{r:68,g:142,b:228,name:"dark sky blue"},{r:70,g:65,b:150,name:"blueberry"},{r:71,g:95,b:148,name:"dusky blue"},{r:72,g:192,b:114,name:"dark mint"},{r:73,g:6,b:72,name:"deep violet"},{r:73,g:117,b:156,name:"dull blue"},{r:73,g:132,b:184,name:"cool blue"},{r:74,g:1,b:0,name:"mahogany"},{r:75,g:0,b:110,name:"royal purple"},{r:75,g:1,b:1,name:"dried blood"},{r:75,g:87,b:219,name:"warm blue"},{r:75,g:93,b:22,name:"army green"},{r:75,g:97,b:19,name:"camouflage green"},{r:76,g:144,b:133,name:"dusty teal"},{r:77,g:164,b:9,name:"lawn green"},{r:78,g:5,b:80,name:"plum purple"},{r:78,g:81,b:139,name:"twilight"},{r:78,g:84,b:129,name:"dusk"},{r:78,g:116,b:150,name:"cadet blue"},{r:78,g:253,b:84,name:"light neon green"},{r:79,g:115,b:142,name:"metallic blue"},{r:79,g:145,b:83,name:"light forest green"},{r:80,g:123,b:156,name:"stormy blue"},{r:80,g:167,b:71,name:"mid green"},{r:81,g:10,b:201,name:"violet blue"},{r:81,g:101,b:114,name:"slate"},{r:81,g:112,b:215,name:"cornflower blue"},{r:81,g:183,b:59,name:"leafy green"},{r:82,g:101,b:37,name:"camo green"},{r:83,g:60,b:198,name:"blue with a hint of purple"},{r:83,g:98,b:103,name:"gunmetal"},{r:83,g:252,b:161,name:"sea green"},{r:83,g:254,b:92,name:"light bright green"},{r:84,g:78,b:3,name:"green brown"},{r:84,g:141,b:68,name:"fern green"},{r:84,g:172,b:104,name:"algae"},{r:85,g:57,b:204,name:"blurple"},{r:86,g:132,b:174,name:"off blue"},{r:86,g:174,b:87,name:"dark pastel green"},{r:86,g:252,b:162,name:"light green blue"},{r:87,g:41,b:206,name:"blue purple"},{r:88,g:15,b:65,name:"plum"},{r:88,g:188,b:8,name:"frog green"},{r:89,g:101,b:109,name:"slate grey"},{r:89,g:133,b:86,name:"dark sage"},{r:90,g:6,b:239,name:"blue purple"},{r:90,g:125,b:154,name:"steel blue"},{r:90,g:134,b:173,name:"dusty blue"},{r:91,g:124,b:153,name:"slate blue"},{r:92,g:139,b:21,name:"sap green"},{r:92,g:169,b:4,name:"leaf green"},{r:92,g:172,b:45,name:"grass"},{r:92,g:178,b:0,name:"kermit green"},{r:93,g:6,b:233,name:"blue violet"},{r:93,g:20,b:81,name:"grape purple"},{r:93,g:33,b:208,name:"purple blue"},{r:94,g:129,b:157,name:"greyish blue"},{r:94,g:155,b:138,name:"grey teal"},{r:94,g:220,b:31,name:"green apple"},{r:95,g:52,b:231,name:"purpley blue"},{r:95,g:158,b:143,name:"dull teal"},{r:95,g:160,b:82,name:"muted green"},{r:96,g:30,b:249,name:"purplish blue"},{r:96,g:70,b:15,name:"mud brown"},{r:96,g:102,b:2,name:"mud green"},{r:96,g:124,b:142,name:"blue grey"},{r:97,g:0,b:35,name:"burgundy"},{r:97,g:64,b:239,name:"purpleish blue"},{r:97,g:222,b:42,name:"toxic green"},{r:97,g:225,b:96,name:"lightish green"},{r:98,g:65,b:199,name:"bluey purple"},{r:98,g:88,b:196,name:"iris"},{r:99,g:45,b:233,name:"purple blue"},{r:99,g:139,b:39,name:"mossy green"},{r:99,g:169,b:80,name:"fern"},{r:99,g:179,b:101,name:"boring green"},{r:99,g:247,b:180,name:"light greenish blue"},{r:100,g:84,b:3,name:"olive brown"},{r:100,g:125,b:142,name:"grey blue"},{r:100,g:136,b:234,name:"soft blue"},{r:101,g:0,b:33,name:"maroon"},{r:101,g:55,b:0,name:"brown"},{r:101,g:116,b:50,name:"muddy green"},{r:101,g:139,b:56,name:"moss green"},{r:101,g:140,b:187,name:"faded blue"},{r:101,g:141,b:109,name:"slate green"},{r:101,g:171,b:124,name:"tea"},{r:101,g:254,b:8,name:"bright lime green"},{r:102,g:26,b:238,name:"purply blue"},{r:102,g:95,b:209,name:"dark periwinkle"},{r:102,g:124,b:62,name:"military green"},{r:102,g:126,b:44,name:"dirty green"},{r:103,g:58,b:63,name:"purple brown"},{r:103,g:122,b:4,name:"olive green"},{r:104,g:0,b:24,name:"claret"},{r:104,g:50,b:227,name:"burple"},{r:105,g:96,b:6,name:"greeny brown"},{r:105,g:97,b:18,name:"greenish brown"},{r:105,g:131,b:57,name:"swamp"},{r:105,g:157,b:76,name:"flat green"},{r:105,g:216,b:79,name:"fresh green"},{r:106,g:110,b:9,name:"brownish green"},{r:106,g:121,b:247,name:"cornflower"},{r:107,g:66,b:71,name:"purplish brown"},{r:107,g:124,b:133,name:"battleship grey"},{r:107,g:139,b:164,name:"grey blue"},{r:107,g:163,b:83,name:"off green"},{r:108,g:52,b:97,name:"grape"},{r:108,g:122,b:14,name:"murky green"},{r:109,g:90,b:207,name:"light indigo"},{r:109,g:237,b:253,name:"robins egg"},{r:110,g:16,b:5,name:"reddy brown"},{r:110,g:117,b:14,name:"olive"},{r:110,g:203,b:60,name:"apple"},{r:111,g:108,b:10,name:"browny green"},{r:111,g:118,b:50,name:"olive drab"},{r:111,g:124,b:0,name:"poop green"},{r:111,g:130,b:138,name:"steel grey"},{r:111,g:194,b:118,name:"soft green"},{r:112,g:59,b:231,name:"bluish purple"},{r:112,g:108,b:17,name:"brown green"},{r:112,g:178,b:63,name:"nasty green"},{r:113,g:159,b:145,name:"greyish teal"},{r:113,g:170,b:52,name:"leaf"},{r:114,g:0,b:88,name:"rich purple"},{r:114,g:134,b:57,name:"khaki green"},{r:114,g:143,b:2,name:"dark yellow green"},{r:115,g:0,b:57,name:"merlot"},{r:115,g:74,b:101,name:"dirty purple"},{r:115,g:92,b:18,name:"mud"},{r:115,g:133,b:149,name:"steel"},{r:116,g:40,b:2,name:"chestnut"},{r:116,g:133,b:0,name:"swamp green"},{r:116,g:139,b:151,name:"bluish grey"},{r:116,g:149,b:81,name:"drab green"},{r:116,g:166,b:98,name:"dull green"},{r:117,g:8,b:81,name:"velvet"},{r:117,g:25,b:115,name:"darkish purple"},{r:117,g:128,b:0,name:"shit green"},{r:117,g:141,b:163,name:"blue grey"},{r:117,g:184,b:79,name:"turtle green"},{r:117,g:187,b:253,name:"sky blue"},{r:117,g:253,b:99,name:"lighter green"},{r:118,g:66,b:78,name:"brownish purple"},{r:118,g:153,b:88,name:"moss"},{r:118,g:169,b:115,name:"dusty green"},{r:118,g:205,b:38,name:"apple green"},{r:118,g:253,b:168,name:"light bluish green"},{r:118,g:255,b:123,name:"lightgreen"},{r:119,g:0,b:1,name:"blood"},{r:119,g:146,b:111,name:"green grey"},{r:119,g:161,b:181,name:"greyblue"},{r:119,g:171,b:86,name:"asparagus"},{r:120,g:155,b:115,name:"grey green"},{r:120,g:209,b:182,name:"seafoam blue"},{r:122,g:89,b:1,name:"poop brown"},{r:122,g:104,b:127,name:"purplish grey"},{r:122,g:106,b:79,name:"greyish brown"},{r:122,g:151,b:3,name:"ugly green"},{r:122,g:249,b:171,name:"seafoam green"},{r:123,g:0,b:44,name:"bordeaux"},{r:123,g:3,b:35,name:"wine red"},{r:123,g:88,b:4,name:"shit brown"},{r:123,g:178,b:116,name:"faded green"},{r:123,g:200,b:246,name:"lightblue"},{r:123,g:242,b:218,name:"tiffany blue"},{r:123,g:253,b:199,name:"light aquamarine"},{r:125,g:113,b:3,name:"ugly brown"},{r:125,g:127,b:124,name:"medium grey"},{r:126,g:30,b:156,name:"purple"},{r:126,g:64,b:113,name:"bruise"},{r:126,g:160,b:122,name:"greeny grey"},{r:126,g:189,b:1,name:"dark lime green"},{r:126,g:244,b:204,name:"light turquoise"},{r:126,g:251,b:179,name:"light blue green"},{r:127,g:43,b:10,name:"reddish brown"},{r:127,g:78,b:30,name:"milk chocolate"},{r:127,g:81,b:18,name:"medium brown"},{r:127,g:94,b:0,name:"poop"},{r:127,g:95,b:0,name:"shit"},{r:127,g:104,b:78,name:"dark taupe"},{r:127,g:112,b:83,name:"grey brown"},{r:127,g:143,b:78,name:"camo"},{r:128,g:1,b:63,name:"wine"},{r:128,g:91,b:135,name:"muted purple"},{r:128,g:249,b:173,name:"seafoam"},{r:130,g:7,b:71,name:"red purple"},{r:130,g:95,b:135,name:"dusty purple"},{r:130,g:109,b:140,name:"grey purple"},{r:130,g:131,b:68,name:"drab"},{r:130,g:166,b:125,name:"greyish green"},{r:130,g:202,b:252,name:"sky"},{r:130,g:203,b:178,name:"pale teal"},{r:131,g:101,b:57,name:"dirt brown"},{r:132,g:0,b:0,name:"dark red"},{r:132,g:89,b:126,name:"dull purple"},{r:132,g:183,b:1,name:"dark lime"},{r:133,g:14,b:4,name:"indian red"},{r:133,g:103,b:152,name:"dark lavender"},{r:133,g:163,b:178,name:"bluegrey"},{r:134,g:111,b:133,name:"purple grey"},{r:134,g:119,b:95,name:"brownish grey"},{r:134,g:161,b:125,name:"grey green"},{r:135,g:76,b:98,name:"dark mauve"},{r:135,g:86,b:228,name:"purpley"},{r:135,g:95,b:66,name:"cocoa"},{r:135,g:110,b:75,name:"dull brown"},{r:135,g:169,b:34,name:"avocado green"},{r:135,g:174,b:115,name:"sage"},{r:135,g:253,b:5,name:"bright lime"},{r:136,g:95,b:1,name:"poo brown"},{r:136,g:104,b:6,name:"muddy brown"},{r:136,g:113,b:145,name:"greyish purple"},{r:136,g:151,b:23,name:"baby shit green"},{r:136,g:179,b:120,name:"sage green"},{r:137,g:69,b:133,name:"light eggplant"},{r:137,g:91,b:123,name:"dusky purple"},{r:137,g:160,b:176,name:"bluey grey"},{r:137,g:162,b:3,name:"vomit green"},{r:137,g:254,b:5,name:"lime green"},{r:138,g:110,b:69,name:"dirt"},{r:138,g:184,b:254,name:"carolina blue"},{r:138,g:241,b:254,name:"robin egg blue"},{r:139,g:46,b:22,name:"red brown"},{r:139,g:49,b:3,name:"rust brown"},{r:139,g:136,b:248,name:"lavender blue"},{r:140,g:0,b:15,name:"crimson"},{r:140,g:0,b:52,name:"red wine"},{r:140,g:253,b:126,name:"easter green"},{r:140,g:255,b:158,name:"baby green"},{r:140,g:255,b:219,name:"light aqua"},{r:141,g:94,b:183,name:"deep lavender"},{r:141,g:132,b:104,name:"brown grey"},{r:142,g:118,b:24,name:"hazel"},{r:142,g:130,b:254,name:"periwinkle"},{r:142,g:171,b:18,name:"pea green"},{r:142,g:229,b:63,name:"kiwi green"},{r:143,g:20,b:2,name:"brick red"},{r:143,g:115,b:3,name:"poo"},{r:143,g:140,b:231,name:"perrywinkle"},{r:143,g:152,b:5,name:"baby poop green"},{r:143,g:153,b:251,name:"periwinkle blue"},{r:143,g:174,b:34,name:"icky green"},{r:143,g:182,b:123,name:"lichen"},{r:143,g:254,b:9,name:"acid green"},{r:143,g:255,b:159,name:"mint green"},{r:144,g:177,b:52,name:"avocado"},{r:144,g:228,b:193,name:"light teal"},{r:144,g:253,b:169,name:"foam green"},{r:145,g:9,b:81,name:"reddish purple"},{r:145,g:110,b:153,name:"faded purple"},{r:146,g:10,b:78,name:"mulberry"},{r:146,g:43,b:5,name:"brown red"},{r:146,g:149,b:145,name:"grey"},{r:146,g:153,b:1,name:"pea soup"},{r:147,g:124,b:0,name:"baby poop"},{r:148,g:86,b:140,name:"purplish"},{r:148,g:119,b:6,name:"puke brown"},{r:148,g:126,b:148,name:"purpley grey"},{r:148,g:166,b:23,name:"pea soup green"},{r:148,g:172,b:2,name:"barf green"},{r:148,g:178,b:28,name:"sickly green"},{r:149,g:46,b:143,name:"warm purple"},{r:149,g:163,b:166,name:"cool grey"},{r:149,g:208,b:252,name:"light blue"},{r:150,g:0,b:86,name:"dark magenta"},{r:150,g:78,b:2,name:"warm brown"},{r:150,g:110,b:189,name:"deep lilac"},{r:150,g:174,b:141,name:"greenish grey"},{r:150,g:180,b:3,name:"booger green"},{r:150,g:249,b:123,name:"light green"},{r:151,g:138,b:132,name:"warm grey"},{r:152,g:0,b:2,name:"blood red"},{r:152,g:63,b:178,name:"purply"},{r:152,g:86,b:141,name:"purpleish"},{r:152,g:94,b:43,name:"sepia"},{r:152,g:239,b:249,name:"robins egg blue"},{r:152,g:246,b:176,name:"light sea green"},{r:153,g:0,b:250,name:"vivid purple"},{r:153,g:1,b:71,name:"purple red"},{r:153,g:15,b:75,name:"berry"},{r:153,g:117,b:112,name:"reddish grey"},{r:153,g:204,b:4,name:"slime green"},{r:154,g:2,b:0,name:"deep red"},{r:154,g:14,b:234,name:"violet"},{r:154,g:48,b:1,name:"auburn"},{r:154,g:98,b:0,name:"raw sienna"},{r:154,g:174,b:7,name:"puke green"},{r:154,g:247,b:100,name:"light grass green"},{r:155,g:95,b:192,name:"amethyst"},{r:155,g:122,b:1,name:"yellowish brown"},{r:155,g:143,b:85,name:"dark khaki"},{r:155,g:181,b:60,name:"booger"},{r:155,g:229,b:170,name:"hospital green"},{r:156,g:109,b:87,name:"brownish"},{r:156,g:109,b:165,name:"dark lilac"},{r:156,g:187,b:4,name:"bright olive"},{r:156,g:239,b:67,name:"kiwi"},{r:157,g:2,b:22,name:"carmine"},{r:157,g:7,b:89,name:"dark fuchsia"},{r:157,g:87,b:131,name:"light plum"},{r:157,g:118,b:81,name:"mocha"},{r:157,g:185,b:44,name:"sick green"},{r:157,g:188,b:212,name:"light grey blue"},{r:157,g:193,b:0,name:"snot green"},{r:157,g:255,b:0,name:"bright yellow green"},{r:158,g:0,b:58,name:"cranberry"},{r:158,g:1,b:104,name:"red violet"},{r:158,g:54,b:35,name:"brownish red"},{r:158,g:67,b:162,name:"medium purple"},{r:159,g:35,b:5,name:"burnt red"},{r:159,g:131,b:3,name:"diarrhea"},{r:159,g:254,b:176,name:"mint"},{r:160,g:2,b:92,name:"deep magenta"},{r:160,g:4,b:152,name:"barney purple"},{r:160,g:54,b:35,name:"brick"},{r:160,g:69,b:14,name:"burnt umber"},{r:160,g:191,b:22,name:"gross green"},{r:160,g:254,b:191,name:"light seafoam"},{r:161,g:57,b:5,name:"russet"},{r:162,g:72,b:87,name:"light maroon"},{r:162,g:101,b:62,name:"earth"},{r:162,g:164,b:21,name:"vomit"},{r:162,g:191,b:254,name:"pastel blue"},{r:162,g:207,b:254,name:"baby blue"},{r:164,g:66,b:160,name:"ugly purple"},{r:164,g:132,b:172,name:"heather"},{r:164,g:190,b:92,name:"light olive green"},{r:164,g:191,b:32,name:"pea"},{r:165,g:0,b:85,name:"violet red"},{r:165,g:82,b:230,name:"lightish purple"},{r:165,g:90,b:244,name:"lighter purple"},{r:165,g:126,b:82,name:"puce"},{r:165,g:163,b:145,name:"cement"},{r:165,g:165,b:2,name:"puke"},{r:165,g:251,b:213,name:"pale turquoise"},{r:166,g:111,b:181,name:"soft purple"},{r:166,g:129,b:76,name:"coffee"},{r:166,g:200,b:117,name:"light moss green"},{r:166,g:251,b:178,name:"light mint green"},{r:167,g:94,b:9,name:"raw umber"},{r:167,g:255,b:181,name:"light seafoam green"},{r:168,g:60,b:9,name:"rust"},{r:168,g:65,b:91,name:"light burgundy"},{r:168,g:121,b:0,name:"bronze"},{r:168,g:125,b:194,name:"wisteria"},{r:168,g:137,b:5,name:"dark mustard"},{r:168,g:143,b:89,name:"dark sand"},{r:168,g:164,b:149,name:"greyish"},{r:168,g:181,b:4,name:"mustard green"},{r:168,g:255,b:4,name:"electric lime"},{r:169,g:3,b:8,name:"darkish red"},{r:169,g:86,b:30,name:"sienna"},{r:169,g:190,b:112,name:"tan green"},{r:169,g:249,b:113,name:"spring green"},{r:170,g:35,b:255,name:"electric purple"},{r:170,g:39,b:4,name:"rust red"},{r:170,g:166,b:98,name:"khaki"},{r:170,g:255,b:50,name:"lime"},{r:171,g:18,b:57,name:"rouge"},{r:171,g:126,b:76,name:"tan brown"},{r:171,g:144,b:4,name:"baby poo"},{r:172,g:29,b:184,name:"barney"},{r:172,g:79,b:6,name:"cinnamon"},{r:172,g:116,b:52,name:"leather"},{r:172,g:126,b:4,name:"mustard brown"},{r:172,g:134,b:168,name:"dusty lavender"},{r:172,g:147,b:98,name:"dark beige"},{r:172,g:187,b:13,name:"snot"},{r:172,g:191,b:105,name:"light olive"},{r:172,g:194,b:217,name:"cloudy blue"},{r:172,g:255,b:252,name:"light cyan"},{r:173,g:3,b:222,name:"vibrant purple"},{r:173,g:10,b:253,name:"bright violet"},{r:173,g:129,b:80,name:"light brown"},{r:173,g:144,b:13,name:"baby shit brown"},{r:173,g:165,b:135,name:"stone"},{r:173,g:248,b:2,name:"lemon green"},{r:174,g:113,b:129,name:"mauve"},{r:174,g:139,b:12,name:"yellowy brown"},{r:174,g:253,b:108,name:"light lime"},{r:174,g:255,b:110,name:"key lime"},{r:175,g:47,b:13,name:"rusty red"},{r:175,g:111,b:9,name:"caramel"},{r:175,g:136,b:74,name:"dark tan"},{r:175,g:168,b:139,name:"bland"},{r:176,g:1,b:73,name:"raspberry"},{r:176,g:5,b:75,name:"purplish red"},{r:176,g:78,b:15,name:"burnt sienna"},{r:176,g:221,b:22,name:"yellowish green"},{r:176,g:255,b:157,name:"pastel green"},{r:177,g:96,b:2,name:"orangey brown"},{r:177,g:114,b:97,name:"pinkish brown"},{r:177,g:145,b:110,name:"pale brown"},{r:177,g:209,b:252,name:"powder blue"},{r:177,g:210,b:123,name:"pale olive green"},{r:177,g:252,b:153,name:"pale light green"},{r:177,g:255,b:101,name:"pale lime green"},{r:178,g:95,b:3,name:"orangish brown"},{r:178,g:100,b:0,name:"umber"},{r:178,g:113,b:61,name:"clay brown"},{r:178,g:122,b:1,name:"golden brown"},{r:178,g:151,b:5,name:"brown yellow"},{r:178,g:153,b:110,name:"dust"},{r:178,g:251,b:165,name:"light pastel green"},{r:179,g:111,b:246,name:"light urple"},{r:181,g:72,b:93,name:"dark rose"},{r:181,g:148,b:16,name:"dark gold"},{r:181,g:195,b:6,name:"bile"},{r:181,g:206,b:8,name:"green yellow"},{r:182,g:99,b:37,name:"copper"},{r:182,g:106,b:80,name:"clay"},{r:182,g:196,b:6,name:"baby puke green"},{r:182,g:255,b:187,name:"light mint"},{r:183,g:82,b:3,name:"burnt siena"},{r:183,g:144,b:212,name:"pale purple"},{r:183,g:148,b:0,name:"yellow brown"},{r:183,g:201,b:226,name:"light blue grey"},{r:183,g:225,b:161,name:"light grey green"},{r:183,g:255,b:250,name:"pale cyan"},{r:184,g:255,b:235,name:"pale aqua"},{r:185,g:72,b:78,name:"dusty red"},{r:185,g:105,b:2,name:"brown orange"},{r:185,g:162,b:129,name:"taupe"},{r:185,g:204,b:129,name:"pale olive"},{r:185,g:255,b:102,name:"light lime green"},{r:186,g:104,b:115,name:"dusky rose"},{r:186,g:158,b:136,name:"mushroom"},{r:187,g:63,b:63,name:"dull red"},{r:187,g:249,b:15,name:"yellowgreen"},{r:188,g:19,b:254,name:"neon purple"},{r:188,g:203,b:122,name:"greenish tan"},{r:188,g:236,b:172,name:"light sage"},{r:188,g:245,b:166,name:"washed out green"},{r:189,g:108,b:72,name:"adobe"},{r:189,g:246,b:254,name:"pale sky blue"},{r:189,g:248,b:163,name:"tea green"},{r:190,g:1,b:25,name:"scarlet"},{r:190,g:1,b:60,name:"rose red"},{r:190,g:3,b:253,name:"bright purple"},{r:190,g:100,b:0,name:"orange brown"},{r:190,g:174,b:138,name:"putty"},{r:190,g:253,b:115,name:"pale lime"},{r:190,g:253,b:183,name:"celadon"},{r:191,g:119,b:246,name:"light purple"},{r:191,g:144,b:5,name:"ochre"},{r:191,g:155,b:12,name:"ocher"},{r:191,g:172,b:5,name:"muddy yellow"},{r:191,g:241,b:40,name:"yellowy green"},{r:191,g:254,b:40,name:"lemon lime"},{r:192,g:2,b:47,name:"lipstick red"},{r:192,g:78,b:1,name:"burnt orange"},{r:192,g:113,b:254,name:"easter purple"},{r:192,g:115,b:122,name:"dusty rose"},{r:192,g:250,b:139,name:"pistachio"},{r:192,g:251,b:45,name:"yellow green"},{r:193,g:74,b:9,name:"brick orange"},{r:193,g:198,b:252,name:"light periwinkle"},{r:193,g:248,b:10,name:"chartreuse"},{r:193,g:253,b:149,name:"celery"},{r:194,g:0,b:120,name:"magenta"},{r:194,g:126,b:121,name:"brownish pink"},{r:194,g:146,b:161,name:"light mauve"},{r:194,g:183,b:9,name:"olive yellow"},{r:194,g:190,b:14,name:"puke yellow"},{r:194,g:255,b:137,name:"light yellowish green"},{r:195,g:144,b:155,name:"grey pink"},{r:195,g:251,b:244,name:"duck egg blue"},{r:196,g:66,b:64,name:"reddish"},{r:196,g:85,b:8,name:"rust orange"},{r:196,g:142,b:253,name:"liliac"},{r:196,g:166,b:97,name:"sandy brown"},{r:196,g:254,b:130,name:"light pea green"},{r:196,g:255,b:247,name:"eggshell blue"},{r:197,g:201,b:199,name:"silver"},{r:198,g:81,b:2,name:"dark orange"},{r:198,g:156,b:4,name:"ocre"},{r:198,g:159,b:89,name:"camel"},{r:198,g:248,b:8,name:"greeny yellow"},{r:198,g:252,b:255,name:"light sky blue"},{r:199,g:71,b:103,name:"deep rose"},{r:199,g:96,b:255,name:"bright lavender"},{r:199,g:121,b:134,name:"old pink"},{r:199,g:159,b:239,name:"lavender"},{r:199,g:172,b:125,name:"toupe"},{r:199,g:193,b:12,name:"vomit yellow"},{r:199,g:253,b:181,name:"pale green"},{r:200,g:60,b:185,name:"purpley pink"},{r:200,g:90,b:83,name:"dark salmon"},{r:200,g:117,b:196,name:"orchid"},{r:200,g:118,b:6,name:"dirty orange"},{r:200,g:127,b:137,name:"old rose"},{r:200,g:141,b:148,name:"greyish pink"},{r:200,g:172,b:169,name:"pinkish grey"},{r:200,g:253,b:61,name:"yellow green"},{r:200,g:255,b:176,name:"light light green"},{r:201,g:76,b:190,name:"pinky purple"},{r:201,g:94,b:251,name:"bright lilac"},{r:201,g:100,b:59,name:"terra cotta"},{r:201,g:174,b:116,name:"sandstone"},{r:201,g:176,b:3,name:"brownish yellow"},{r:201,g:209,b:121,name:"greenish beige"},{r:201,g:255,b:39,name:"green yellow"},{r:202,g:1,b:71,name:"ruby"},{r:202,g:102,b:65,name:"terracotta"},{r:202,g:107,b:2,name:"browny orange"},{r:202,g:123,b:128,name:"dirty pink"},{r:202,g:155,b:247,name:"baby purple"},{r:202,g:160,b:255,name:"pastel purple"},{r:202,g:255,b:251,name:"light light blue"},{r:203,g:0,b:245,name:"hot purple"},{r:203,g:1,b:98,name:"deep pink"},{r:203,g:65,b:107,name:"dark pink"},{r:203,g:104,b:67,name:"terracota"},{r:203,g:119,b:35,name:"brownish orange"},{r:203,g:157,b:6,name:"yellow ochre"},{r:203,g:165,b:96,name:"sand brown"},{r:203,g:248,b:95,name:"pear"},{r:204,g:122,b:139,name:"dusky pink"},{r:204,g:173,b:96,name:"desert"},{r:204,g:253,b:127,name:"light yellow green"},{r:205,g:89,b:9,name:"rusty orange"},{r:205,g:117,b:132,name:"ugly pink"},{r:205,g:197,b:10,name:"dirty yellow"},{r:205,g:253,b:2,name:"greenish yellow"},{r:206,g:93,b:174,name:"purplish pink"},{r:206,g:162,b:253,name:"lilac"},{r:206,g:174,b:250,name:"pale violet"},{r:206,g:179,b:1,name:"mustard"},{r:207,g:2,b:52,name:"cherry"},{r:207,g:82,b:78,name:"dark coral"},{r:207,g:98,b:117,name:"rose"},{r:207,g:175,b:123,name:"fawn"},{r:207,g:253,b:188,name:"very pale green"},{r:207,g:255,b:4,name:"neon yellow"},{r:208,g:193,b:1,name:"ugly yellow"},{r:208,g:228,b:41,name:"sickly yellow"},{r:208,g:254,b:29,name:"lime yellow"},{r:208,g:254,b:254,name:"pale blue"},{r:209,g:118,b:143,name:"muted pink"},{r:209,g:178,b:111,name:"tan"},{r:209,g:255,b:189,name:"very light green"},{r:210,g:189,b:10,name:"mustard yellow"},{r:211,g:73,b:78,name:"faded red"},{r:211,g:182,b:131,name:"very light brown"},{r:212,g:106,b:126,name:"pinkish"},{r:212,g:255,b:255,name:"really light blue"},{r:213,g:23,b:78,name:"lipstick"},{r:213,g:134,b:157,name:"dull pink"},{r:213,g:138,b:148,name:"dusty pink"},{r:213,g:171,b:9,name:"burnt yellow"},{r:213,g:182,b:10,name:"dark yellow"},{r:213,g:255,b:255,name:"very light blue"},{r:214,g:72,b:215,name:"pinkish purple"},{r:214,g:180,b:252,name:"light violet"},{r:214,g:255,b:250,name:"ice"},{r:214,g:255,b:254,name:"very pale blue"},{r:215,g:37,b:222,name:"purple pink"},{r:215,g:103,b:173,name:"pale magenta"},{r:215,g:255,b:254,name:"ice blue"},{r:216,g:134,b:59,name:"dull orange"},{r:216,g:220,b:214,name:"light grey"},{r:217,g:1,b:102,name:"dark hot pink"},{r:217,g:79,b:245,name:"heliotrope"},{r:217,g:84,b:77,name:"pale red"},{r:217,g:155,b:130,name:"pinkish tan"},{r:218,g:70,b:125,name:"darkish pink"},{r:219,g:75,b:218,name:"pink purple"},{r:219,g:88,b:86,name:"pastel red"},{r:219,g:180,b:12,name:"gold"},{r:220,g:77,b:1,name:"deep orange"},{r:221,g:133,b:215,name:"lavender pink"},{r:221,g:214,b:24,name:"piss yellow"},{r:222,g:12,b:98,name:"cerise"},{r:222,g:126,b:93,name:"dark peach"},{r:222,g:157,b:172,name:"faded pink"},{r:223,g:78,b:200,name:"purpleish pink"},{r:223,g:197,b:254,name:"light lavender"},{r:224,g:63,b:216,name:"purple pink"},{r:225,g:119,b:1,name:"pumpkin"},{r:226,g:202,b:118,name:"sand"},{r:228,g:203,b:255,name:"pale lilac"},{r:229,g:0,b:0,name:"red"},{r:230,g:218,b:166,name:"beige"},{r:230,g:242,b:162,name:"light khaki"},{r:231,g:142,b:165,name:"pig pink"},{r:236,g:45,b:1,name:"tomato red"},{r:237,g:13,b:217,name:"fuchsia"},{r:237,g:200,b:255,name:"light lilac"},{r:238,g:207,b:254,name:"pale lavender"},{r:238,g:220,b:91,name:"dull yellow"},{r:239,g:29,b:231,name:"pink purple"},{r:239,g:64,b:38,name:"tomato"},{r:239,g:180,b:53,name:"macaroni and cheese"},{r:239,g:192,b:254,name:"light lavendar"},{r:240,g:117,b:230,name:"purply pink"},{r:240,g:131,b:58,name:"dusty orange"},{r:240,g:148,b:77,name:"faded orange"},{r:241,g:12,b:69,name:"pinkish red"},{r:241,g:218,b:122,name:"sandy"},{r:241,g:243,b:63,name:"off yellow"},{r:242,g:158,b:142,name:"blush"},{r:242,g:171,b:21,name:"squash"},{r:243,g:97,b:150,name:"medium pink"},{r:244,g:50,b:12,name:"vermillion"},{r:244,g:54,b:5,name:"orangish red"},{r:244,g:208,b:84,name:"maize"},{r:245,g:4,b:201,name:"hot magenta"},{r:245,g:5,b:79,name:"pink red"},{r:245,g:191,b:3,name:"golden"},{r:246,g:104,b:142,name:"rosy pink"},{r:246,g:206,b:252,name:"very light purple"},{r:247,g:2,b:42,name:"cherry red"},{r:247,g:135,b:154,name:"rose pink"},{r:247,g:213,b:96,name:"light mustard"},{r:248,g:72,b:28,name:"reddish orange"},{r:249,g:115,b:6,name:"orange"},{r:249,g:188,b:8,name:"golden rod"},{r:250,g:42,b:85,name:"red pink"},{r:250,g:66,b:36,name:"orangey red"},{r:250,g:95,b:247,name:"light magenta"},{r:250,g:194,b:5,name:"goldenrod"},{r:250,g:238,b:102,name:"yellowish"},{r:250,g:254,b:75,name:"banana yellow"},{r:251,g:41,b:67,name:"strawberry"},{r:251,g:85,b:129,name:"warm pink"},{r:251,g:95,b:252,name:"violet pink"},{r:251,g:125,b:7,name:"pumpkin orange"},{r:251,g:221,b:126,name:"wheat"},{r:251,g:238,b:172,name:"light tan"},{r:252,g:38,b:71,name:"pinky red"},{r:252,g:90,b:80,name:"coral"},{r:252,g:130,b:74,name:"orangish"},{r:252,g:134,b:170,name:"pinky"},{r:252,g:176,b:1,name:"yellow orange"},{r:252,g:192,b:6,name:"marigold"},{r:252,g:225,b:102,name:"sand yellow"},{r:252,g:246,b:121,name:"straw"},{r:252,g:252,b:129,name:"yellowish tan"},{r:253,g:60,b:6,name:"red orange"},{r:253,g:65,b:30,name:"orange red"},{r:253,g:70,b:89,name:"watermelon"},{r:253,g:89,b:86,name:"grapefruit"},{r:253,g:121,b:143,name:"carnation"},{r:253,g:141,b:73,name:"orangeish"},{r:253,g:170,b:72,name:"light orange"},{r:253,g:176,b:192,name:"soft pink"},{r:253,g:177,b:71,name:"butterscotch"},{r:253,g:185,b:21,name:"orangey yellow"},{r:253,g:193,b:197,name:"pale rose"},{r:253,g:220,b:92,name:"light gold"},{r:253,g:222,b:108,name:"pale gold"},{r:253,g:238,b:115,name:"sandy yellow"},{r:253,g:253,b:254,name:"pale grey"},{r:253,g:255,b:56,name:"lemon yellow"},{r:253,g:255,b:82,name:"lemon"},{r:253,g:255,b:99,name:"canary"},{r:254,g:0,b:2,name:"fire engine red"},{r:254,g:1,b:154,name:"neon pink"},{r:254,g:1,b:177,name:"bright pink"},{r:254,g:2,b:162,name:"shocking pink"},{r:254,g:44,b:84,name:"reddish pink"},{r:254,g:47,b:74,name:"lightish red"},{r:254,g:66,b:15,name:"orangered"},{r:254,g:70,b:165,name:"barbie pink"},{r:254,g:75,b:3,name:"blood orange"},{r:254,g:123,b:124,name:"salmon pink"},{r:254,g:130,b:140,name:"blush pink"},{r:254,g:131,b:204,name:"bubblegum pink"},{r:254,g:134,b:164,name:"rosa"},{r:254,g:169,b:147,name:"light salmon"},{r:254,g:178,b:9,name:"saffron"},{r:254,g:179,b:8,name:"amber"},{r:254,g:198,b:21,name:"golden yellow"},{r:254,g:208,b:252,name:"pale mauve"},{r:254,g:223,b:8,name:"dandelion"},{r:254,g:246,b:158,name:"buff"},{r:254,g:252,b:175,name:"parchment"},{r:254,g:255,b:127,name:"faded yellow"},{r:254,g:255,b:202,name:"ecru"},{r:255,g:0,b:13,name:"bright red"},{r:255,g:2,b:141,name:"hot pink"},{r:255,g:4,b:144,name:"electric pink"},{r:255,g:7,b:58,name:"neon red"},{r:255,g:7,b:137,name:"strong pink"},{r:255,g:8,b:232,name:"bright magenta"},{r:255,g:71,b:76,name:"light red"},{r:255,g:91,b:0,name:"bright orange"},{r:255,g:97,b:99,name:"coral pink"},{r:255,g:99,b:233,name:"candy pink"},{r:255,g:105,b:175,name:"bubble gum pink"},{r:255,g:108,b:181,name:"bubblegum"},{r:255,g:111,b:82,name:"orange pink"},{r:255,g:114,b:76,name:"pinkish orange"},{r:255,g:120,b:85,name:"melon"},{r:255,g:121,b:108,name:"salmon"},{r:255,g:127,b:167,name:"carnation pink"},{r:255,g:129,b:192,name:"pink"},{r:255,g:148,b:8,name:"tangerine"},{r:255,g:150,b:79,name:"pastel orange"},{r:255,g:154,b:138,name:"peachy pink"},{r:255,g:166,b:43,name:"mango"},{r:255,g:167,b:86,name:"pale orange"},{r:255,g:171,b:15,name:"yellowish orange"},{r:255,g:173,b:1,name:"orange yellow"},{r:255,g:176,b:124,name:"peach"},{r:255,g:177,b:109,name:"apricot"},{r:255,g:177,b:154,name:"pale salmon"},{r:255,g:178,b:208,name:"powder pink"},{r:255,g:183,b:206,name:"baby pink"},{r:255,g:186,b:205,name:"pastel pink"},{r:255,g:197,b:18,name:"sunflower"},{r:255,g:197,b:203,name:"light rose"},{r:255,g:207,b:220,name:"pale pink"},{r:255,g:209,b:223,name:"light pink"},{r:255,g:216,b:177,name:"light peach"},{r:255,g:218,b:3,name:"sunflower yellow"},{r:255,g:223,b:34,name:"sun yellow"},{r:255,g:227,b:110,name:"yellow tan"},{r:255,g:229,b:173,name:"pale peach"},{r:255,g:243,b:154,name:"dark cream"},{r:255,g:244,b:242,name:"very light pink"},{r:255,g:249,b:23,name:"sunny yellow"},{r:255,g:249,b:208,name:"pale"},{r:255,g:250,b:134,name:"manilla"},{r:255,g:252,b:196,name:"egg shell"},{r:255,g:253,b:1,name:"bright yellow"},{r:255,g:253,b:55,name:"sunshine yellow"},{r:255,g:253,b:116,name:"butter yellow"},{r:255,g:253,b:120,name:"custard"},{r:255,g:254,b:64,name:"canary yellow"},{r:255,g:254,b:113,name:"pastel yellow"},{r:255,g:254,b:122,name:"light yellow"},{r:255,g:254,b:182,name:"light beige"},{r:255,g:255,b:20,name:"yellow"},{r:255,g:255,b:126,name:"banana"},{r:255,g:255,b:129,name:"butter"},{r:255,g:255,b:132,name:"pale yellow"},{r:255,g:255,b:182,name:"creme"},{r:255,g:255,b:194,name:"cream"},{r:255,g:255,b:203,name:"ivory"},{r:255,g:255,b:212,name:"eggshell"},{r:255,g:255,b:228,name:"off white"},{r:255,g:255,b:255,name:"white"}])},function(e,t,n){"use strict";var i=n(211);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(26),c=n(15),d=n(8),u=n(6),h=n(152),p=n(220);n.n(p);function m(e){const{usernames:t,screenName:n,projectName:a,projectType:s,notes:p,content:m,avatarUrl:f,updated:g,link:b,unread:v,onClick:y}=e,C=t.length>1?i.default.h(l.a,{iconType:u.a.GROUP_MEMBERS,subIconType:u.a.NOTE}):i.default.h(r.a,{avatarUrl:f,subIconType:u.a.NOTE}),w=[i.default.h(d.a,{key:"username",usernames:t}),` added ${Object(h.a)(p.length,"note")} to `,i.default.h("span",{key:"span",class:"screenName"},n),m?":":"."],S=i.default.h("div",{class:"contentWrapper ellipsis"},m),k=i.default.h(c.a,{name:a,type:s});return i.default.h(o.a,{class:"createDot",onClick:y,icon:C,header:w,content:S,footer:k,unread:v,updated:g,link:b})}m.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,projectName:s.a.string.isRequired,projectType:s.a.string.isRequired,screenName:s.a.string.isRequired,notes:s.a.arrayOf(s.a.string),usernames:s.a.arrayOf(s.a.string),content:s.a.string},t.a=m},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(164),r=n(3),l=n(213);n.n(l);function c(e){const{unread:t,disabled:n,link:a,linkTarget:s,icon:l,header:c,content:d,footer:u,updated:h,onClick:p,class:m}=e,f=Object(r.a)("notificationItem",{disabled:n,unread:t},m);return i.default.h("a",{onClick:n?null:p,target:s,class:f,href:a,"data-link-type":"inApp"},l&&i.default.h("div",{class:"notificationIcon"},l),i.default.h("div",{class:"notificationBody"},c&&i.default.h("div",{class:"notificationHeader"},c),d&&i.default.h("div",{class:"notificationContent"},d),i.default.h("div",{class:"notificationFooter"},u,i.default.h(o.a,{key:"time",type:"time-ago",format:"micro",class:"date",datetime:h}))))}c.propTypes={icon:s.a.node,header:s.a.node,content:s.a.node,footer:s.a.node,unread:s.a.bool,disabled:s.a.bool,link:s.a.string.isRequired,linkTarget:s.a.string,class:s.a.string,updated:s.a.string.isRequired,onClick:s.a.func},t.a=c},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(30),r=n(215);function l(e){const{type:t,class:n}=e,a=r.a[t],s=a.responsive?o.a:"img",l={[a.responsive?"asset":"src"]:a.source,alt:a.alt,class:n};return i.default.h(s,l)}l.propTypes={avatar:s.a.bool,type:s.a.string},t.a=l},function(e,t,n){"use strict";var i=n(6),a=n(5);const s={[i.a.ADD]:{source:Object(a.b)("img/ntf/icAdd.svg"),alt:"+"},[i.a.DELETE]:{source:Object(a.b)("img/ntf/icDelete.svg"),alt:"-"},[i.a.PERSON]:{source:Object(a.b)("img/ntf/icPerson.svg"),alt:"&#x1f464;"},[i.a.NOTE]:{source:Object(a.b)("img/ntf/icNote.svg"),alt:"&#x270f;"},[i.a.TRANSFER]:{source:Object(a.b)("img/ntf/icTransfer.svg"),alt:"&#x21c6;"},[i.a.ARCHIVE]:{source:Object(a.b)("img/ntf/icArchive.svg"),alt:"&#x1f4e5;"},[i.a.ACTIVATE]:{source:Object(a.b)("img/ntf/icTransfer.svg"),alt:"&#x1f4e4;"},[i.a.STAR]:{source:Object(a.b)("img/ntf/icStar.svg"),alt:"&#x2b50;"},[i.a.UPDATE]:{source:"img/ntf/icUpdate.png",alt:"&#x1f4e2;",responsive:!0},[i.a.SLACK]:{source:"img/ntf/icSlack.png",alt:"#",responsive:!0},[i.a.ADMIN]:{source:"img/ntf/icAdmin.png",alt:"&#x1f4aa;",responsive:!0},[i.a.MENTION]:{source:"img/ntf/icMention.png",alt:"&#x1f449;",responsive:!0},[i.a.GROUP_MEMBERS]:{source:"img/ntf/icGroupMembers.png",alt:"&#x1f4aa;",responsive:!0},[i.a.GROUP_COLORS]:{source:"img/ntf/icGroupColors.png",alt:"&#x1F3A8;",responsive:!0},[i.a.TEXT_STYLES]:{source:"img/ntf/icTextStyles.png",alt:"&#x270f;",responsive:!0}};t.a=s},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(218);n.n(o);function Project(e){const{name:t,type:n}=e;return i.default.h("div",{class:"project"},i.default.h("span",{class:"name ellipsis",title:t},t)," • ",i.default.h("span",{class:"type"},n))}Project.propTypes={name:s.a.string.isRequired,type:s.a.string.isRequired},t.a=Project},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a);const o=3;function r(e){const{usernames:t=[]}=e;let n,a,s;return 0===t.length?null:(1===t.length?n=t[0]:t.length>o?(n=t.slice(0,o).join(", "),a=`${t.length-o} more people`,s=t.slice(o).join("\n")):(a=t.pop(),n=t.join(", ")),i.default.h("span",null,n,a&&i.default.h("span",{title:s}," and ",a)))}r.propTypes={usernames:s.a.arrayOf(s.a.string).isRequired},t.a=r},function(e,t){},function(e,t,n){"use strict";var i=n(222);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(15),c=n(8),d=n(38),u=n(6);function h(e){const{usernames:t,screenNames:n,projectName:a,projectType:s,avatarUrl:h,link:p,unread:m,updated:f,onClick:g}=e,b=i.default.h(r.a,{avatarUrl:h,subIconType:u.a.ADD}),v=n.length>1,y=[i.default.h(c.a,{key:"usernames",usernames:t}),v?" added ":" added a screen: ",i.default.h(d.a,{key:"screenNames",names:n}),v?" screens.":"."],C=i.default.h(l.a,{key:"project",name:a,type:s});return i.default.h(o.a,{class:"createScreen",onClick:g,icon:b,header:y,footer:C,unread:m,updated:f,link:p})}h.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,projectName:s.a.string.isRequired,projectType:s.a.string.isRequired,screenNames:s.a.arrayOf(s.a.string),usernames:s.a.arrayOf(s.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(224);n.n(o);function r(e){const{names:t=[]}=e;if(0===t.length)return null;if(1===t.length)return i.default.h("span",{key:"multiName",class:"multiName"},t[0]);const n=t.join("\n");return i.default.h("span",{class:"multiName",title:n},t.length)}r.propTypes={names:s.a.arrayOf(s.a.string).isRequired},t.a=r},function(e,t){},function(e,t,n){"use strict";var i=n(226);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(15),c=n(8),d=n(38),u=n(6);function h(e){const{usernames:t,screenNames:n,projectName:a,projectType:s,avatarUrl:h,updated:p,link:m,unread:f,onClick:g}=e,b=i.default.h(r.a,{avatarUrl:h,subIconType:u.a.ADD}),v=n.length>1,y=[i.default.h(c.a,{key:"usernames",usernames:t}),v?" added versions to ":" added a version to ",i.default.h(d.a,{key:"screenNames",names:n}),v?" screens.":" screen."],C=i.default.h(l.a,{name:a,type:s});return i.default.h(o.a,{class:"createScreenVersion",onClick:g,icon:b,header:y,footer:C,unread:f,updated:p,link:m})}h.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,projectName:s.a.string.isRequired,projectType:s.a.string.isRequired,screenNames:s.a.arrayOf(s.a.string),usernames:s.a.arrayOf(s.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(228);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(26),c=n(41),d=n(8),u=n(6);function h(e){const{usernames:t,projectNames:n,avatarUrl:a,updated:s,link:h,unread:p,onClick:m}=e,f=t.length>1?i.default.h(l.a,{iconType:u.a.GROUP_MEMBERS,subIconType:u.a.PERSON}):i.default.h(r.a,{avatarUrl:a,subIconType:u.a.PERSON}),g=[i.default.h(d.a,{key:"usernames",usernames:t})," joined ",i.default.h(c.a,{key:"projectNames",projectNames:n}),"."];return i.default.h(o.a,{class:"newMember",onClick:m,icon:f,header:g,updated:s,unread:p,link:h})}h.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,projectNames:s.a.arrayOf(s.a.string),usernames:s.a.arrayOf(s.a.string),content:s.a.string},t.a=h},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(230);n.n(o);function r(e){const{projectNames:t=[]}=e;let n,a;return 0===t.length?null:(1===t.length?n=t[0]:(a=t.pop(),n=t.join(", ")),i.default.h("span",null,i.default.h("span",{class:"projectName"},n),a&&[" and ",i.default.h("span",{key:"tail",class:"projectName"},a)]))}r.propTypes={projectNames:s.a.arrayOf(s.a.string).isRequired},t.a=r},function(e,t){},function(e,t,n){"use strict";var i=n(232);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(26),l=n(139),c=n(15),d=n(8),u=n(140),h=n(6);function p(e){const{usernames:t,colors:n,projectName:a,projectType:s,updated:p,link:m,unread:f,onClick:g}=e,b=n.length>1?i.default.h(r.a,{iconType:h.a.GROUP_COLORS,subIconType:h.a.ADD}):i.default.h(l.a,{color:n[0],subIconType:h.a.ADD}),v=n.length>1,y=[i.default.h(d.a,{key:"usernames",usernames:t}),v?" updated ":" updated a color: ",i.default.h(u.a,{key:"colors",projectType:s,colors:n}),v?" colors.":"."],C=i.default.h(c.a,{name:a,type:s});return i.default.h(o.a,{class:"updateColor",onClick:g,icon:b,header:y,footer:C,unread:f,updated:p,link:m})}p.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,updated:s.a.string.isRequired,projectName:s.a.string.isRequired,projectType:s.a.string.isRequired,usernames:s.a.arrayOf(s.a.string),colors:s.a.arrayOf(s.a.object)},t.a=p},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(138),r=n(33),l=n(234);n.n(l);function c(e){const{color:t,subIconType:n}=e;return i.default.h(o.a,{subIconType:n},i.default.h("div",{class:"colorPreviewWrapper"},i.default.h("div",{class:"colorPreview",style:{backgroundColor:new r.a(t).toCSS()}})))}c.propTypes={color:s.a.string.isRequired,subIconType:s.a.string},t.a=c},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(33),r=n(236);n.n(r);function l(e){const{projectType:t,colors:n=[]}=e;if(0===n.length)return null;if(1===n.length){const e=new o.a(n[0]);return i.default.h("span",{class:"colorName",title:e.toPlatformString(t)},e.name)}const a=n.map(e=>{const n=new o.a(e);return n.name+": "+n.toPlatformString(t)}).join("\n");return i.default.h("span",{class:"colorName",title:a},n.length)}l.propTypes={projectType:s.a.string.isRequired,colors:s.a.arrayOf(s.a.object).isRequired},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(238);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(15),c=n(8),d=n(38),u=n(6);function h(e){const{usernames:t,componentNames:n,projectName:a,projectType:s,avatarUrl:h,updated:p,link:m,unread:f,onClick:g}=e,b=i.default.h(r.a,{avatarUrl:h,subIconType:u.a.ADD}),v=n.length>1,y=[i.default.h(c.a,{key:"usernames",usernames:t}),v?" added ":" added a component: ",i.default.h(d.a,{key:"componentNames",names:n}),v?" components.":"."],C=i.default.h(l.a,{name:a,type:s});return i.default.h(o.a,{class:"createComponent",onClick:g,icon:b,header:y,footer:C,unread:f,updated:p,link:m})}h.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,projectName:s.a.string.isRequired,projectType:s.a.string.isRequired,componentNames:s.a.arrayOf(s.a.string),usernames:s.a.arrayOf(s.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(240);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(15),c=n(8),d=n(38),u=n(6);function h(e){const{usernames:t,componentNames:n,projectName:a,projectType:s,avatarUrl:h,updated:p,link:m,unread:f,onClick:g}=e,b=i.default.h(r.a,{avatarUrl:h,subIconType:u.a.ADD}),v=n.length>1,y=[i.default.h(c.a,{key:"usernames",usernames:t}),v?" added versions to ":" added a version to ",i.default.h(d.a,{key:"componentNames",names:n}),v?" components.":" component."],C=i.default.h(l.a,{name:a,type:s});return i.default.h(o.a,{class:"createComponentVersion",onClick:g,icon:b,header:y,footer:C,unread:f,updated:p,link:m})}h.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,projectName:s.a.string.isRequired,projectType:s.a.string.isRequired,componentNames:s.a.arrayOf(s.a.string),usernames:s.a.arrayOf(s.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(242);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(15),c=n(8),d=n(38),u=n(6);function h(e){const{usernames:t,componentNames:n,projectName:a,projectType:s,avatarUrl:h,updated:p,unread:m}=e,f=i.default.h(r.a,{avatarUrl:h,subIconType:u.a.DELETE}),g=n.length>1,b=[i.default.h(c.a,{key:"usernames",usernames:t}),g?" removed ":" removed a component: ",i.default.h(d.a,{key:"componentNames",names:n}),g?" components.":"."],v=i.default.h(l.a,{name:a,type:s});return i.default.h(o.a,{class:"deleteComponent",icon:f,header:b,footer:v,unread:m,updated:p,disabled:!0})}h.propTypes={unread:s.a.bool,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,projectName:s.a.string.isRequired,projectType:s.a.string.isRequired,componentNames:s.a.arrayOf(s.a.string),usernames:s.a.arrayOf(s.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(244);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(8),c=n(41),d=n(6);function u(e){const{usernames:t,projectNames:n,avatarUrl:a,updated:s,link:u,unread:h,onClick:p}=e,m=i.default.h(r.a,{avatarUrl:a,subIconType:d.a.PERSON}),f=n.length>1,g=[i.default.h(l.a,{key:"usernames",usernames:t}),f?` invited you to ${n.length} projects: `:" invited you to ",i.default.h(c.a,{key:"projectNames",class:"projectNames",projectNames:n}),"."];return i.default.h(o.a,{class:"inviteUser",onClick:p,icon:m,header:g,updated:s,unread:h,link:u})}u.propTypes={onClick:s.a.bool,unread:s.a.bool,link:s.a.string.isRequired,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,projectNames:s.a.arrayOf(s.a.string),usernames:s.a.arrayOf(s.a.string)},t.a=u},function(e,t,n){"use strict";var i=n(246);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(8),c=n(6),d=n(247);n.n(d);function u(e){const{usernames:t,organizationName:n,avatarUrl:a,updated:s,link:d,unread:u,onClick:h}=e,p=i.default.h(r.a,{avatarUrl:a,subIconType:c.a.PERSON}),m=[i.default.h(l.a,{key:"usernames",usernames:t})," invited you to ",i.default.h("span",{key:"organizationName",class:"organizationName"},n)," organization."];return i.default.h(o.a,{class:"inviteMember",onClick:h,icon:p,header:m,updated:s,unread:u,link:d})}u.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,organizationName:s.a.string.isRequired,usernames:s.a.arrayOf(s.a.string)},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(249);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(8),c=n(30),d=n(6),u=n(250),h=n(251);n.n(h);function p(e){const{usernames:t,roleName:n,organizationName:a,avatarUrl:s,updated:h,link:p,unread:m,onClick:f}=e,g=u.a[n],b=i.default.h(r.a,{avatarUrl:s,subIconType:d.a.PERSON}),v=[i.default.h(l.a,{key:"usernames",usernames:t})," assigned you as ",i.default.h("span",{key:"roleName",class:"roleName"},g.name)," ",i.default.h(c.a,{key:"roleIcon",class:"roleIcon",asset:g.icon})," on ",i.default.h("span",{key:"organizationName",class:"organizationName"},a)," organization."];return i.default.h(o.a,{class:"updateOrganizationMemberRole",onClick:f,icon:b,header:v,updated:h,unread:m,link:p})}p.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,roleName:s.a.string.isRequired,organizationName:s.a.string.isRequired,usernames:s.a.arrayOf(s.a.string)},t.a=p},function(e,t,n){"use strict";t.a={king:{name:"Owner",icon:"img/icQueen.png"},queen:{name:"Admin",icon:"img/icQueen.png"},rook:{name:"Editor",icon:"img/icRook.png"},knight:{name:"Member",icon:"img/icKnight.png"}}},function(e,t){},function(e,t,n){"use strict";var i=n(253);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(26),l=n(8),c=n(6),d=n(254);n.n(d);function u(e){const{usernames:t,content:n,updated:a,link:s,unread:d,onClick:u,disabled:h}=e,p=i.default.h(r.a,{iconType:c.a.UPDATE}),m=i.default.h("div",{class:"contentWrapper"},n),f=i.default.h(l.a,{usernames:t});return i.default.h(o.a,{class:"announcement",onClick:u,icon:p,content:m,footer:f,unread:d,updated:a,disabled:h,link:s,linkTarget:"_blank"})}u.propTypes={onClick:s.a.func,disabled:s.a.bool,unread:s.a.bool,link:s.a.string.isRequired,updated:s.a.string.isRequired,usernames:s.a.arrayOf(s.a.string),content:s.a.string},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(256);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(26),c=n(15),d=n(8),u=n(6),h=n(152),p=n(257);n.n(p);function m(e){const{usernames:t,screenName:n,projectName:a,projectType:s,notes:p,avatarUrl:m,updated:f,link:g,unread:b,onClick:v}=e,y=t.length>1?i.default.h(l.a,{iconType:u.a.GROUP_MEMBERS,subIconType:u.a.NOTE}):i.default.h(r.a,{avatarUrl:m,subIconType:u.a.NOTE}),C=[i.default.h(d.a,{key:"usernames",usernames:t}),` resolved ${Object(h.a)(p.length,"note")} on `,i.default.h("span",{key:"screenName",class:"screenName"},n),"."],w=i.default.h(c.a,{name:a,type:s});return i.default.h(o.a,{class:"resolveDot",onClick:v,icon:y,header:C,footer:w,unread:b,updated:f,link:g})}m.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,projectName:s.a.string.isRequired,projectType:s.a.string.isRequired,screenName:s.a.string.isRequired,notes:s.a.arrayOf(s.a.string),usernames:s.a.arrayOf(s.a.string)},t.a=m},function(e,t){},function(e,t,n){"use strict";var i=n(259);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(26),l=n(12),c=n(15),d=n(8),u=n(6),h=n(260);n.n(h);function p(e){const{usernames:t,screenName:n,projectName:a,projectType:s,noteName:h,content:p,avatarUrl:m,updated:f,link:g,unread:b,onClick:v}=e,y=t.length>1?i.default.h(r.a,{iconType:u.a.GROUP_MEMBERS,subIconType:u.a.NOTE}):i.default.h(l.a,{avatarUrl:m,subIconType:u.a.NOTE}),C=i.default.h("div",{class:"contentWrapper ellipsis"},p),w=[i.default.h(d.a,{key:"usernames",usernames:t})," replied to note ",i.default.h("span",{key:"noteName",class:"noteName"},h)," on ",i.default.h("span",{key:"screenName",class:"screenName"},n),p?":":"."],S=i.default.h(c.a,{name:a,type:s});return i.default.h(o.a,{class:"createComment",onClick:v,icon:y,header:w,content:C,footer:S,unread:b,updated:f,link:g})}p.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,projectName:s.a.string.isRequired,projectType:s.a.string.isRequired,screenName:s.a.string.isRequired,noteName:s.a.string.isRequired,usernames:s.a.arrayOf(s.a.string),content:s.a.string},t.a=p},function(e,t){},function(e,t,n){"use strict";var i=n(262);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(15),c=n(8),d=n(6),u=n(263);n.n(u);function h(e){const{usernames:t,screenName:n,projectName:a,projectType:s,noteName:u,content:h,avatarUrl:p,updated:m,link:f,unread:g,onClick:b}=e,v=i.default.h(r.a,{avatarUrl:p,subIconType:d.a.MENTION}),y=[i.default.h(c.a,{key:"usernames",usernames:t})," mentioned you in note ",i.default.h("span",{key:"noteName",class:"noteName"},u)," on ",i.default.h("span",{key:"screenName",class:"screenName"},n),h?":":"."],C=i.default.h("div",{class:"contentWrapper ellipsis"},h),w=i.default.h(l.a,{name:a,type:s});return i.default.h(o.a,{class:"commentMention",onClick:b,icon:v,header:y,content:C,footer:w,unread:g,updated:m,link:f})}h.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,projectName:s.a.string.isRequired,projectType:s.a.string.isRequired,screenName:s.a.string.isRequired,noteName:s.a.string.isRequired,usernames:s.a.arrayOf(s.a.string),content:s.a.string},t.a=h},function(e,t){},function(e,t,n){"use strict";var i=n(265);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(15),c=n(8),d=n(38),u=n(6);function h(e){const{usernames:t,screenNames:n,projectName:a,projectType:s,avatarUrl:h,updated:p,unread:m}=e,f=i.default.h(r.a,{avatarUrl:h,subIconType:u.a.DELETE}),g=n.length>1,b=[i.default.h(c.a,{key:"usernames",usernames:t}),g?" deleted ":" deleted a screen: ",i.default.h(d.a,{key:"screenNames",names:n}),g?" screens.":"."],v=i.default.h(l.a,{name:a,type:s});return i.default.h(o.a,{class:"deleteScreen",icon:f,header:b,footer:v,unread:m,updated:p,disabled:!0})}h.propTypes={unread:s.a.bool,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,projectName:s.a.string.isRequired,projectType:s.a.string.isRequired,screenNames:s.a.arrayOf(s.a.string),usernames:s.a.arrayOf(s.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(267);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(41),c=n(8),d=n(6);function u(e){const{usernames:t,projectNames:n,avatarUrl:a,updated:s,unread:u}=e,h=i.default.h(r.a,{avatarUrl:a,subIconType:d.a.DELETE}),p=[i.default.h(c.a,{key:"usernames",usernames:t})," removed you from ",i.default.h(l.a,{key:"projectNames",projectNames:n}),"."];return i.default.h(o.a,{class:"removeUser",icon:h,header:p,updated:s,unread:u,disabled:!0})}u.propTypes={unread:s.a.bool,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,projectNames:s.a.arrayOf(s.a.string),usernames:s.a.arrayOf(s.a.string)},t.a=u},function(e,t,n){"use strict";var i=n(269);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(15),c=n(8),d=n(6),u=n(270);n.n(u);function h(e){const{usernames:t,projectName:n,projectType:a,extensionName:s,avatarUrl:u,updated:h,link:p,unread:m,onClick:f}=e,g=i.default.h(r.a,{avatarUrl:u,subIconType:d.a.ADD}),b=[i.default.h(c.a,{key:"usernames",usernames:t})," added an extension: ",i.default.h("span",{key:"extensionName",class:"extensionName"},s),"."],v=i.default.h(l.a,{name:n,type:a});return i.default.h(o.a,{class:"addProjectExtension",onClick:f,icon:g,header:b,footer:v,unread:m,updated:h,link:p})}h.propTypes={onClick:s.a.bool,unread:s.a.bool,link:s.a.string.isRequired,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,projectName:s.a.string.isRequired,projectType:s.a.string.isRequired,extensionName:s.a.string.isRequired,usernames:s.a.arrayOf(s.a.string)},t.a=h},function(e,t){},function(e,t,n){"use strict";var i=n(272);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(15),c=n(8),d=n(6),u=n(273);n.n(u);function h(e){const{usernames:t,projectName:n,projectType:a,extensionName:s,avatarUrl:u,updated:h,unread:p}=e,m=i.default.h(r.a,{avatarUrl:u,subIconType:d.a.DELETE}),f=[i.default.h(c.a,{key:"usernames",usernames:t})," removed an extension: ",i.default.h("span",{key:"extensionName",class:"extensionName"},s),"."],g=i.default.h(l.a,{name:n,type:a});return i.default.h(o.a,{class:"deleteProjectExtension",icon:m,header:f,footer:g,unread:p,updated:h,disabled:!0})}h.propTypes={unread:s.a.bool,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,projectName:s.a.string.isRequired,projectType:s.a.string.isRequired,extensionName:s.a.string.isRequired,usernames:s.a.arrayOf(s.a.string)},t.a=h},function(e,t){},function(e,t,n){"use strict";var i=n(275);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(8),c=n(41),d=n(6);function u(e){const{usernames:t,projectNames:n,content:a,avatarUrl:s,updated:u,unread:h}=e,p=i.default.h(r.a,{avatarUrl:s,subIconType:d.a.DELETE}),m=[i.default.h(l.a,{key:"usernames",usernames:t})," deleted a project: ",i.default.h(c.a,{key:"projectNames",projectNames:n}),"."];return i.default.h(o.a,{class:"deleteProject",icon:p,header:m,content:a,updated:u,unread:h,disabled:!0})}u.propTypes={unread:s.a.bool,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,usernames:s.a.arrayOf(s.a.string),projectNames:s.a.arrayOf(s.a.string),content:s.a.string},t.a=u},function(e,t,n){"use strict";var i=n(277);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(8),c=n(41),d=n(6);function u(e){const{usernames:t,projectNames:n,avatarUrl:a,updated:s,link:u,unread:h,onClick:p}=e,m=i.default.h(r.a,{avatarUrl:a,subIconType:d.a.ARCHIVE}),f=[i.default.h(l.a,{key:"usernames",usernames:t})," archived a project: ",i.default.h(c.a,{key:"projectNames",projectNames:n}),"."];return i.default.h(o.a,{class:"archiveProject",onClick:p,icon:m,header:f,updated:s,unread:h,link:u})}u.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,usernames:s.a.arrayOf(s.a.string),projectNames:s.a.arrayOf(s.a.string)},t.a=u},function(e,t,n){"use strict";var i=n(279);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(8),c=n(41),d=n(6);function u(e){const{usernames:t,projectNames:n,avatarUrl:a,updated:s,link:u,unread:h,onClick:p}=e,m=i.default.h(r.a,{avatarUrl:a,subIconType:d.a.ACTIVATE}),f=[i.default.h(l.a,{key:"usernames",usernames:t})," activated a project: ",i.default.h(c.a,{key:"projectNames",projectNames:n}),"."];return i.default.h(o.a,{class:"activateProject",onClick:p,icon:m,header:f,unread:h,updated:s,link:u})}u.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,usernames:s.a.arrayOf(s.a.string),projectNames:s.a.arrayOf(s.a.string)},t.a=u},function(e,t,n){"use strict";var i=n(281);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(8),c=n(41),d=n(6);function u(e){const{usernames:t,projectNames:n,avatarUrl:a,updated:s,link:u,unread:h,onClick:p}=e,m=i.default.h(r.a,{avatarUrl:a,subIconType:d.a.ADMIN}),f=n.length>1,g=[i.default.h(l.a,{key:"usernames",usernames:t}),f?` assigned you as an admin on ${n.length} projects: `:" assigned you as an admin on ",i.default.h(c.a,{key:"projectNames",class:"projectNames",projectNames:n}),"."];return i.default.h(o.a,{class:"assignAdmin",onClick:p,icon:m,header:g,updated:s,unread:h,link:u})}u.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,projectNames:s.a.arrayOf(s.a.string),usernames:s.a.arrayOf(s.a.string)},t.a=u},function(e,t,n){"use strict";var i=n(283);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(139),l=n(26),c=n(15),d=n(8),u=n(140),h=n(6);function p(e){const{usernames:t,colors:n,projectName:a,projectType:s,updated:p,link:m,unread:f,onClick:g}=e,b=n.length>1?i.default.h(l.a,{iconType:h.a.GROUP_COLORS,subIconType:h.a.ADD}):i.default.h(r.a,{color:n[0],subIconType:h.a.ADD}),v=n.length>1,y=[i.default.h(d.a,{key:"usernames",usernames:t}),v?" added ":" added a color: ",i.default.h(u.a,{key:"colors",projectType:s,colors:n}),v?" colors.":"."],C=i.default.h(c.a,{name:a,type:s});return i.default.h(o.a,{class:"createColor",onClick:g,icon:b,header:y,footer:C,unread:f,updated:p,link:m})}p.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,updated:s.a.string.isRequired,projectName:s.a.string.isRequired,projectType:s.a.string.isRequired,colors:s.a.arrayOf(s.a.object),usernames:s.a.arrayOf(s.a.string)},t.a=p},function(e,t,n){"use strict";var i=n(285);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(26),l=n(139),c=n(15),d=n(8),u=n(140),h=n(6);function p(e){const{usernames:t,colors:n,projectName:a,projectType:s,updated:p,unread:m}=e,f=n.length>1?i.default.h(r.a,{iconType:h.a.GROUP_COLORS,subIconType:h.a.DELETE}):i.default.h(l.a,{color:n[0],subIconType:h.a.DELETE}),g=n.length>1,b=[i.default.h(d.a,{key:"usernames",usernames:t}),g?" removed ":" removed a color: ",i.default.h(u.a,{key:"colors",projectType:s,colors:n}),g?" colors.":"."],v=i.default.h(c.a,{name:a,type:s});return i.default.h(o.a,{class:"deleteColor",icon:f,header:b,footer:v,unread:m,updated:p,disabled:!0})}p.propTypes={unread:s.a.bool,updated:s.a.string.isRequired,projectName:s.a.string.isRequired,projectType:s.a.string.isRequired,usernames:s.a.arrayOf(s.a.string),colors:s.a.arrayOf(s.a.object)},t.a=p},function(e,t,n){"use strict";var i=n(287);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(26),l=n(8),c=n(6),d=n(288);n.n(d);function u(e){const{usernames:t,projectName:n,slackChannelName:a,updated:s,link:d,unread:u,onClick:h}=e,p=i.default.h(r.a,{iconType:c.a.SLACK}),m=[i.default.h(l.a,{key:"usernames",usernames:t})," connected ",i.default.h("span",{key:"projectName",class:"projectName"},n)," to Slack channel ",i.default.h("span",{key:"slackChannelName",class:"slackChannelName"},a),"."];return i.default.h(o.a,{class:"authSlack",onClick:h,icon:p,header:m,updated:s,unread:u,link:d})}u.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,updated:s.a.string.isRequired,projectName:s.a.string.isRequired,slackChannelName:s.a.string.isRequired,usernames:s.a.arrayOf(s.a.string),content:s.a.string},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(290);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(26),l=n(6),c=n(291);n.n(c);function d(e){const{updated:t,link:n,content:a,unread:s,onClick:c}=e,d=i.default.h("div",{class:"iconWrapper"},i.default.h(r.a,{iconType:l.a.STAR})),u=i.default.h("div",{class:"contentWrapper"},a);return i.default.h(o.a,{class:"createCoupon",onClick:c,icon:d,content:u,updated:t,unread:s,link:n})}d.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,updated:s.a.string.isRequired,content:s.a.string},t.a=d},function(e,t){},function(e,t,n){"use strict";var i=n(293);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(26),l=n(15),c=n(8),d=n(38),u=n(6);function h(e){const{usernames:t,textStyles:n,projectName:a,projectType:s,updated:h,link:p,unread:m,onClick:f}=e,g=i.default.h(r.a,{iconType:u.a.TEXT_STYLES,subIconType:u.a.ADD}),b=n.length>1,v=[i.default.h(c.a,{key:"usernames",usernames:t}),b?" added ":" added a text style: ",i.default.h(d.a,{key:"textStyles",names:n}),b?" text styles.":"."],y=i.default.h(l.a,{name:a,type:s});return i.default.h(o.a,{class:"createTextStyle",onClick:f,icon:g,header:v,footer:y,unread:m,updated:h,link:p})}h.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,updated:s.a.string.isRequired,projectName:s.a.string.isRequired,projectType:s.a.string.isRequired,textStyles:s.a.arrayOf(s.a.string),usernames:s.a.arrayOf(s.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(295);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(26),l=n(15),c=n(8),d=n(38),u=n(6);function h(e){const{usernames:t,textStyles:n,projectName:a,projectType:s,updated:h,unread:p}=e,m=i.default.h(r.a,{iconType:u.a.TEXT_STYLES,subIconType:u.a.DELETE}),f=n.length>1,g=[i.default.h(c.a,{key:"usernames",usernames:t}),f?" removed ":" removed a text style: ",i.default.h(d.a,{key:"textStyles",names:n}),f?" text styles.":"."],b=i.default.h(l.a,{name:a,type:s});return i.default.h(o.a,{class:"deleteTextStyle",icon:m,header:g,footer:b,unread:p,updated:h,disabled:!0})}h.propTypes={unread:s.a.bool,updated:s.a.string.isRequired,projectName:s.a.string.isRequired,projectType:s.a.string.isRequired,textStyles:s.a.arrayOf(s.a.string),usernames:s.a.arrayOf(s.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(297);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(26),l=n(15),c=n(8),d=n(38),u=n(6);function h(e){const{usernames:t,textStyles:n,projectName:a,projectType:s,updated:h,link:p,unread:m,onClick:f}=e,g=i.default.h(r.a,{iconType:u.a.TEXT_STYLES,subIconType:u.a.ADD}),b=n.length>1,v=[i.default.h(c.a,{key:"usernames",usernames:t}),b?" updated ":" updated a text style: ",i.default.h(d.a,{key:"textStyles",names:n}),b?" text styles.":"."],y=i.default.h(l.a,{name:a,type:s});return i.default.h(o.a,{class:"deleteTextStyle",onClick:f,icon:g,header:v,footer:y,unread:m,updated:h,link:p})}h.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,updated:s.a.string.isRequired,projectName:s.a.string.isRequired,projectType:s.a.string.isRequired,textStyles:s.a.arrayOf(s.a.string),usernames:s.a.arrayOf(s.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(299);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(7),r=n(12),l=n(8),c=n(41),d=n(6);function u(e){const{usernames:t,projectNames:n,avatarUrl:a,updated:s,link:u,unread:h,onClick:p}=e,m=i.default.h(r.a,{avatarUrl:a,subIconType:d.a.TRANSFER}),f=[i.default.h(l.a,{key:"usernames",usernames:t})," transfered the ownership of ",i.default.h(c.a,{key:"projectNames",projectNames:n})," to you."];return i.default.h(o.a,{class:"transferOwnership",onClick:p,icon:m,header:f,updated:s,unread:h,link:u})}u.propTypes={onClick:s.a.func,unread:s.a.bool,link:s.a.string.isRequired,avatarUrl:s.a.string.isRequired,updated:s.a.string.isRequired,usernames:s.a.arrayOf(s.a.string),projectNames:s.a.arrayOf(s.a.string)},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(42),a=n(23),s=n(27),o=n(1),r=n(37),l=n(302),c=n(171),d=n(170),u=n(167);const h=document.getElementById("userMenu");new r.a(l.a,h).render(),u.a.setSelectedView(c.b),d.a.getOrganizations(),s.a().then(e=>{const t=e.find(e=>e.id===Zeplin.user.paymentPlan).name,n=Zeplin.user.avatar||Zeplin.user.emotar?Zeplin.user.avatar:Object(o.C)(Zeplin.user).src;a.c.get("notificationStatus").then(e=>{u.a.loadUserInfo({userId:Zeplin.user._id,username:Zeplin.user.username,email:Zeplin.user.email,verified:"verified"===Zeplin.user.status,avatar:n,emotar:Zeplin.user.emotar,isDesktopNotificationEnabled:e,isEmailNotificationEnabled:Zeplin.user.emailNotifications,paymentPlan:t})})}),"registered"===Zeplin.user.status&&"dismissed"!==sessionStorage.getItem("verificationBannerStatus")&&i.b({content:"Your email is not verified yet. Please check your inbox.",group:"verification",closeCallback(){sessionStorage.setItem("verificationBannerStatus","dismissed")}}),a.c.get("notificationBannerStatus").then(e=>{"default"===Notification.permission&&e&&i.b({content:"Zeplin needs your permission to <a href='#'>enable desktop notifications</a>",contentType:"html",group:"notification",closeCallback(){a.c.set("notificationBannerStatus",!1)},bodyCallbacks:{a(e){e.preventDefault(),i.a("notification"),Notification.requestPermission(e=>{u.a.setDesktopNotifications("granted"===e)})}}})})},function(e,t,n){"use strict";var i=n(303);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(304),s=n(320),o=n(48),r=n(27),l=n(55),c=n(35),d=n(137),u=n(3),h=n(11),p=n(5),m=n(330),f=n(169),g=n(4),b=n(171),v=n(1),y=n(333);n.n(y);const C=(e,t)=>e?Object(p.a)(e):t||null;class w extends i.default.Component{constructor(e){super(e),this.renderEmotarsSection=this.renderEmotarsSection.bind(this),this.renderUserMenuSection=this.renderUserMenuSection.bind(this),this.handleUserMenuSelect=this.handleUserMenuSelect.bind(this),this.handleEmotarsSelect=this.handleEmotarsSelect.bind(this),this.handleEmotarClick=this.handleEmotarClick.bind(this),this.setContainerHeight=this.setContainerHeight.bind(this),this.handleWindowResize=this.handleWindowResize.bind(this)}setContainerHeight(){const e=this.nodeRefs[this.props.selectedView].getBoundingClientRect().height;if(e!==this.nodeRefs.container.getBoundingClientRect().height){const t=window.innerHeight-148,n=Math.min(e,t);this.nodeRefs.container.style.height=n+"px",this.nodeRefs.container.classList.toggle("scrolling",n<e)}}handleUserMenuSelect(){this.props.onSelectedViewChange(b.b)}handleEmotarsSelect(){this.props.onSelectedViewChange(b.a)}handleEmotarClick(e){const{selectedEmotar:t,onEmotarChange:n}=this.props;e!==t&&n(e)}handleWindowResize(){Object(v.j)(this.setContainerHeight)}componentDidMount(){this.setContainerHeight(),window.addEventListener("resize",this.handleWindowResize)}componentDidUpdate(e,t){this.setContainerHeight()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}renderEmotarsSection(){const{avatarUrl:e,selectedEmotar:t,selectedView:n}=this.props,a=Object(u.a)("emotarsSection",{out:n!==b.a});return i.default.h("section",{class:a,ref:Object(h.a)(this,b.a)},i.default.h(s.a,{avatarUrl:e,selectedEmotar:t,onEmotarClick:this.handleEmotarClick,onBackButtonClick:this.handleUserMenuSelect}))}renderUserMenuSection(){const{avatarUrl:e,username:t,email:n,selectedEmotar:s,organizations:o,verified:r,paymentPlan:l,isDesktopNotificationEnabled:c,isEmailNotificationEnabled:d,onEmailNotificationToggle:p,onDesktopNotificationToggle:m,onUpdatePlanClick:f,onLogout:g,selectedView:v}=this.props,y=Object(u.a)("userMenuSection",{out:v!==b.b}),w=C(s,e);return i.default.h("section",{class:y,ref:Object(h.a)(this,b.b)},i.default.h(a.a,{avatarUrl:w,username:t,email:n,organizations:o,verified:r,paymentPlan:l,isDesktopNotificationEnabled:c,isEmailNotificationEnabled:d,onUpdatePlanClick:f,onEmailNotificationToggle:p,onDesktopNotificationToggle:m,onLogoutClick:g,onAvatarClick:this.handleEmotarsSelect}))}render(){return i.default.h("div",{ref:Object(h.a)(this,"container"),class:"userMenuContainer"},this.renderUserMenuSection(),this.renderEmotarsSection())}}t.a=Object(l.a)(class extends i.default.Component{constructor(e){super(e),this.handleToggleEmailNotification=this.handleToggleEmailNotification.bind(this),this.handleToggleDesktopNotification=this.handleToggleDesktopNotification.bind(this),this.handleUpdatePlanClick=this.handleUpdatePlanClick.bind(this),this.registerOrganizationSubscribers=this.registerOrganizationSubscribers.bind(this),this.removeMemberFromOrganizationHandler=this.removeMemberFromOrganizationHandler.bind(this),this.updateOrganizationLogoHandler=this.updateOrganizationLogoHandler.bind(this),this.updateOrganizationNameHandler=this.updateOrganizationNameHandler.bind(this),this.showDialog=this.showDialog.bind(this),this.closeDialog=this.closeDialog.bind(this),this.handlePopoverOpen=this.handlePopoverOpen.bind(this),this.handlePopoverClose=this.handlePopoverClose.bind(this),this.state={showUserMenu:!1,isDialogVisible:!1}}static calculateState(e,t){return Object.assign({},m.b.getState(),f.d.getState())}static getStores(){return[m.b,f.d]}registerUserSubscribers(){r.g.bind("UpdateUsername",this.updateUsernameHandler),r.g.bind("UpdateEmail",this.updateEmailHandler),r.g.bind("UpdateUserEmotar",this.updateUserEmotarHandler),r.g.bind("UpdateUserAvatar",this.updateUserAvatarHandler),r.g.bind("VerifyUser",this.verifyUserHandler),r.g.bind("UpdateEmailNotifications",this.updateEmailNotificationsHandler),r.g.bind("CreateOrganization",this.createOrganizationHandler),r.g.bind("InviteOrganizationMembers",this.inviteOrganizationMembersHandler)}unregisterUserSubscribers(){r.g.unbind("UpdateUsername",this.updateUsernameHandler),r.g.unbind("UpdateEmail",this.updateEmailHandler),r.g.unbind("UpdateUserEmotar",this.updateUserEmotarHandler),r.g.unbind("UpdateUserAvatar",this.updateUserAvatarHandler),r.g.unbind("VerifyUser",this.verifyUserHandler),r.g.unbind("UpdateEmailNotifications",this.updateEmailNotificationsHandler),r.g.unbind("CreateOrganization",this.createOrganizationHandler),r.g.unbind("InviteOrganizationMembers",this.inviteOrganizationMembersHandler)}registerOrganizationSubscribers(){const{organizations:e}=this.state;r.c.bind("UpdateOrganizationLogo",this.updateOrganizationLogoHandler),r.c.bind("UpdateOrganizationName",this.updateOrganizationNameHandler),r.c.bind("RemoveMemberFromOrganization",this.removeMemberFromOrganizationHandler);for(let t of e){const e=g.o+t._id;r.c.channel(e)||r.c.subscribe(e)}}unregisterOrganizationSubscribers(){r.c.unbind("UpdateOrganizationLogo",this.updateOrganizationLogoHandler),r.c.unbind("UpdateOrganizationName",this.updateOrganizationNameHandler),r.c.unbind("RemoveMemberFromOrganization",this.removeMemberFromOrganizationHandler)}showDialog(){this.setState({isDialogVisible:!0})}closeDialog(){this.setState({isDialogVisible:!1})}handleToggleEmailNotification(){const{isEmailNotificationEnabled:e}=this.state;m.a.updateEmailNotifications(!e)}handleToggleDesktopNotification(){const{isDesktopNotificationEnabled:e}=this.state;"default"===Notification.permission?Notification.requestPermission(e=>{m.a.setDesktopNotifications("granted"===e)}):"granted"===Notification.permission?m.a.setDesktopNotifications(!e):"denied"===Notification.permission&&this.showDialog()}handleUpdatePlanClick(){this.setState({showUserMenu:!1},()=>{document.getElementById("planChooserOverlay").classList.remove("hidden"),mixpanel.webapp.track("Opened pricing popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-pricing-popup"),ga("send","pageview","/pricing-popup")})}handlePopoverOpen(){this.setState({showUserMenu:!0})}handlePopoverClose(){this.setState({showUserMenu:!1}),m.a.setSelectedView(b.b)}updateUsernameHandler(e){m.a.setUsername(e.body.username)}updateEmailHandler(e){m.a.setEmail(e.body.email)}updateUserEmotarHandler(e){m.a.setEmotar(e.body.emotar)}updateUserAvatarHandler(e){m.a.setAvatar(e.body.avatar)}verifyUserHandler(){m.a.setVerified()}updateEmailNotificationsHandler(e){m.a.setEmailNotifications(e.body.emailNotifications)}createOrganizationHandler(e){f.b.addOrganization(e.body)}inviteOrganizationMembersHandler(e){f.b.addOrganization(e.body)}updateOrganizationLogoHandler(e){const{organizations:t}=this.state,n=e.params.oid;t.filter(e=>e._id===n)?f.b.updateOrganization(n,e.body):r.c.unsubscribe(g.o+n)}updateOrganizationNameHandler(e){const{organizations:t}=this.state,n=e.params.oid;t.filter(e=>e._id===n)?f.b.updateOrganization(n,e.body):r.c.unsubscribe(g.o+n)}removeMemberFromOrganizationHandler(e){const{userId:t,organizations:n}=this.state,i=e.params.oid,a=n.filter(e=>e._id===i);e.params.mid===t&&(r.c.unsubscribe(g.o+i),a&&f.b.removeOrganization(i))}componentDidMount(){this.registerUserSubscribers()}componentDidUpdate(e,t){t.organizations.length!==this.state.organizations.length&&this.registerOrganizationSubscribers()}render(){const{username:e,email:t,avatar:n,emotar:a,verified:s,paymentPlan:r,organizations:l,isEmailNotificationEnabled:u,isDesktopNotificationEnabled:h,isDialogVisible:p,selectedView:f,showUserMenu:g}=this.state,b=i.default.h("div",null,i.default.h(w,{username:e,email:t,avatarUrl:n,verified:s,paymentPlan:r,selectedEmotar:a,organizations:l,selectedView:f,isDesktopNotificationEnabled:h,isEmailNotificationEnabled:u,onEmailNotificationToggle:this.handleToggleEmailNotification,onDesktopNotificationToggle:this.handleToggleDesktopNotification,onUpdatePlanClick:this.handleUpdatePlanClick,onSelectedViewChange:m.a.setSelectedView,onEmotarChange:m.a.updateUserEmotar,onLogout:m.a.logout}),p&&i.default.h(o.a,{message:"You need to enable notifications from browser settings.",positiveButtonText:"OK",onPositiveButtonClick:this.closeDialog,hideNegativeButton:!0})),v=C(a,n);return i.default.h(d.a,{open:g,content:b,onClose:this.handlePopoverClose,onOpen:this.handlePopoverOpen},i.default.h("button",{class:"currentUser noSelect",title:e},i.default.h(c.a,{width:"36",height:"36",src:v})))}},{withProps:!0})},function(e,t,n){"use strict";var i=n(305);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(306),r=n(311),l=n(314),c=n(14),d=n(183),u=n(1),h=n(319);n.n(h);function p(){return i.default.h("div",{class:"menuSeparator"})}function m(e){const{avatarUrl:t,username:n,email:a,verified:s,paymentPlan:h,organizations:m,isDesktopNotificationEnabled:f,isEmailNotificationEnabled:g,onUpdatePlanClick:b,onDesktopNotificationToggle:v,onEmailNotificationToggle:y,onAvatarClick:C,onLogoutClick:w}=e;return i.default.h("div",{class:"userMenu"},i.default.h(o.a,{profileLink:"/profile",onAvatarClick:C,avatarUrl:t,username:n,info:a,verified:s}),m.length>0&&[i.default.h(p,{key:"separator"}),m.map(e=>{const t=Object(u._3)("organization-dashboard",{url:{oid:e._id}});return i.default.h(r.a,{key:e._id,avatarUrl:e.logo,organizationName:e.name,organizationLink:t})})],i.default.h(p,null),0===m.length&&i.default.h(l.a,{onClick:b,menuLabel:h,iconUrl:"img/icPlan.svg",actionContent:i.default.h(c.a,{class:"updatePlanButton",ripple:!0},"Update Plan")}),i.default.h(l.a,{onClick:v,menuLabel:"Desktop Notifications",iconUrl:"img/icNotification.svg",actionContent:i.default.h(d.a,{checked:f})}),i.default.h(l.a,{onClick:y,menuLabel:"Email Notifications",actionContent:i.default.h(d.a,{checked:g})}),i.default.h(p,null),i.default.h(l.a,{onClick:w,menuLabel:"Log out"}))}m.propTypes={avatarUrl:s.a.string.isRequired,username:s.a.string.isRequired,email:s.a.string.isRequired,verified:s.a.bool.isRequired,paymentPlan:s.a.string.isRequired,organizations:s.a.arrayOf(s.a.shape({logo:s.a.string.isRequired,name:s.a.string.isRequired,_id:s.a.string.isRequired})),isDesktopNotificationEnabled:s.a.bool.isRequired,isEmailNotificationEnabled:s.a.bool.isRequired,onUpdatePlanClick:s.a.func.isRequired,onDesktopNotificationToggle:s.a.func.isRequired,onEmailNotificationToggle:s.a.func.isRequired,onAvatarClick:s.a.func.isRequired,onLogoutClick:s.a.func.isRequired},t.a=m},function(e,t,n){"use strict";var i=n(307);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(166),r=n(310);n.n(r);class l extends i.default.Component{constructor(e){super(e),this.handleAvatarClick=this.handleAvatarClick.bind(this)}handleAvatarClick(e){const{onAvatarClick:t}=this.props;e.preventDefault(),t()}render(e){const{avatarUrl:t,username:n,info:a,verified:s,profileLink:r}=e;return i.default.h("a",{class:"menuUserItem",href:r},i.default.h(o.a,{onClick:this.handleAvatarClick,type:"user",width:"64",height:"64",src:t}),i.default.h("div",{class:"infoContainer"},i.default.h("span",{class:"username ellipsis",title:n},n),i.default.h("span",{class:"info ellipsis"},a),!s&&i.default.h("span",{class:"status"},"Not verified yet.")))}}l.propTypes={avatarUrl:s.a.string.isRequired,username:s.a.string.isRequired,info:s.a.string.isRequired,profileLink:s.a.string.isRequired,onAvatarClick:s.a.func.isRequired,verified:s.a.bool},t.a=l},function(e,t,n){"use strict";var i=n(0),a=n(35),s=n(309);n.n(s);t.a=function(e){const t=Object.assign({},e);return delete t.onClick,i.default.h("div",{class:"updatableAvatar",onClick:e.onClick},i.default.h(a.a,t))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(312);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(35),r=n(313);n.n(r);function l(e){const{avatarUrl:t,organizationName:n,organizationLink:a}=e;return i.default.h("a",{class:"menuOrganizationItem",href:a},i.default.h(o.a,{type:"organization",width:"64",height:"64",bgSize:36,src:t}),i.default.h("div",{class:"infoContainer"},i.default.h("span",{class:"organizationName ellipsis",title:n},n),i.default.h("span",{class:"info"},"Organization")))}l.propTypes={avatarUrl:s.a.string.isRequired,organizationName:s.a.string.isRequired,organizationLink:s.a.string.isRequired},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(315);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(5),r=n(316);n.n(r);function l(e){const{onClick:t,iconUrl:n,menuLabel:a,actionContent:s}=e;return i.default.h("div",{onClick:t,class:"menuItem noSelect"},i.default.h("div",{class:"menuIcon"},n&&i.default.h("img",{src:Object(o.b)(n)})),i.default.h("span",{class:"menuLabel ellipsis"},a),s)}l.propTypes={menuLabel:s.a.string.isRequired,iconUrl:s.a.string,actionContent:s.a.node,onClick:s.a.func.isRequired},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(318);n.n(s);t.a=class extends i.default.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange&&(e.preventDefault(),e.stopPropagation(),this.props.onChange())}render(e){return i.default.h("div",{onClick:this.handleChange,class:Object(a.a)("switch",{switchOn:e.checked})},i.default.h("input",{type:"checkbox",checked:e.checked,class:"preferenceCheckbox"}),i.default.h("div",{class:"switchKnob"}))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(321);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(322),r=n(166),l=n(14),c=n(5),d=n(1),u=n(329);n.n(u);function h(e){const{onEmotarClick:t,onBackButtonClick:n,avatarUrl:a,selectedEmotar:s}=e;let u=null;return s?u=Object(c.a)(s):a&&(u=a),i.default.h("div",{class:"emotars"},i.default.h("h2",null,i.default.h(l.a,{class:"backButton",onClick:n},i.default.h("img",{src:Object(c.b)("img/icNavUp.svg"),alt:"<"})," ",i.default.h("span",null,"Back")),i.default.h("span",null,"How is your mood today?")),i.default.h("div",{class:"avatarContainer"},i.default.h("a",{href:Object(d._3)("profile")},i.default.h(r.a,{src:u,width:"64",height:"64"}))),i.default.h(o.a,{onEmotarClick:t,avatarUrl:a,selectedEmotar:s}))}h.propTypes={onEmotarClick:s.a.func.isRequired,onBackButtonClick:s.a.func.isRequired,avatarUrl:s.a.string,selectedEmotar:s.a.string},t.a=h},function(e,t,n){"use strict";var i=n(323);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(324),r=n(35),l=n(327),c=n(3),d=n(328);n.n(d);class u extends i.default.Component{constructor(e){super(e),this.handleRandomClick=this.handleRandomClick.bind(this),this.handleSmallAvatarClick=this.handleSmallAvatarClick.bind(this)}handleRandomClick(){const{onEmotarClick:e}=this.props,t=Math.floor(Math.random()*l.a.length);e(l.a[t])}handleSmallAvatarClick(){this.props.onEmotarClick(null)}render(e){const{onEmotarClick:t,avatarUrl:n,selectedEmotar:a}=e,s=Object(c.a)("emotar",{selected:!!n&&!a});return i.default.h("div",{class:"emotarList"},n?i.default.h("div",{onClick:this.handleSmallAvatarClick,class:s},i.default.h(r.a,{width:"36",height:"36",src:n})):i.default.h(o.a,{onClick:this.handleRandomClick,emotar:"random",selected:"random"===a}),l.a.map(e=>i.default.h(o.a,{key:e,onClick:t,emotar:e,selected:e===a})))}}u.propTypes={onEmotarClick:s.a.func.isRequired,selectedEmotar:s.a.bool,avatarUrl:s.a.string},t.a=u},function(e,t,n){"use strict";var i=n(325);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(35),r=n(3),l=n(5),c=n(326);n.n(c);class d extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,emotar:t}=this.props;e(t)}render(e){const{emotar:t,selected:n}=e,a=Object(r.a)("emotar","noSelect",{selected:n}),s=Object(l.a)(t);return i.default.h("div",{onClick:this.handleClick,class:a},i.default.h(o.a,{src:s,width:"36",height:"36"}))}}d.propTypes={onClick:s.a.func.isRequired,emotar:s.a.string.isRequired,selected:s.a.bool},t.a=d},function(e,t){},function(e,t,n){"use strict";t.a=["sunglasses","thinking_face","heart_eyes","grin","sweat_smile","white_frowning_face","unamused","upside_down_face","relieved","nerd_face","weary","anguished","face_with_rolling_eyes","scream","smile","smirk","face_with_thermometer","face_with_head_bandage","panda_face","new_moon_with_face","tomato","full_moon_with_face","tennis","space_invader","monkey_face","tophat","lion_face","four_leaf_clover","shit","pig_nose","robot_face","mouse","mushroom","penguin","chestnut","koala","hamburger","jack_o_lantern","rabbit","lollipop","hamster","lemon","tv","gift","ghost","frog","eyes","dart","dark_sunglasses","chicken","cookie","grapes","bear","eggplant","alien","octopus","bread","dog","meat_on_bone","pizza"]},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(167),a=(n(141),n(331));n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return a.a})},function(e,t,n){"use strict";var i=n(54),a=(n.n(i),n(141)),s=n(168);t.a=new class extends i.ReduceStore{constructor(){super(a.a)}getInitialState(){return{userId:null,username:null,email:null,avatar:null,emotar:null,verified:null,paymentPlan:null,isDesktopNotificationEnabled:null,isEmailNotificationEnabled:null,selectedView:null}}loadUserInfo(e,t){return Object.assign({},e,{userId:t.userId,username:t.username,email:t.email,avatar:t.avatar,emotar:t.emotar,verified:t.verified,paymentPlan:t.paymentPlan,isDesktopNotificationEnabled:t.isDesktopNotificationEnabled,isEmailNotificationEnabled:t.isEmailNotificationEnabled})}updateUserAttribute(e,t,n){return Object.assign({},e,{[t]:n})}setSelectedView(e,t){return Object.assign({},e,{selectedView:t})}reduce(e,t){switch(t.type){case s.a.LOAD_USER_INFO:return this.loadUserInfo(e,t.user);case s.a.SET_USER_ATTRIBUTE:return this.updateUserAttribute(e,t.name,t.value);case s.a.SET_SELECTED_VIEW:return this.setSelectedView(e,t.selectedView);default:return e}}}},function(e,t,n){"use strict";var i=n(54),a=(n.n(i),n(143)),s=n(142);t.a=new class extends i.ReduceStore{constructor(){super(a.a)}getInitialState(){return{loading:null,error:null,organizations:[]}}addOrganization(e,t){return Object.assign({},e,{organizations:e.organizations.concat(t)})}updateOrganization(e,t,n){return Object.assign({},e,{organizations:e.organizations.map(e=>e._id===t?Object.assign({},e,n):e)})}removeOrganization(e,t){return Object.assign({},e,{organizations:e.organizations.filter(e=>e._id!==t)})}getOrganizationsRequested(e){return Object.assign({},e,{loading:!0})}getOrganizationsSuccess(e,t){return Object.assign({},e,{organizations:t,loading:!1})}getOrganizationsFailed(e,t){return Object.assign({},e,{loading:!1,error:t})}reduce(e,t){switch(t.type){case s.a.ADD_ORGANIZATION:return this.addOrganization(e,t.organization);case s.a.UPDATE_ORGANIZATION:return this.updateOrganization(e,t.id,t.organization);case s.a.REMOVE_ORGANIZATION:return this.removeOrganization(e,t.id);case s.a.GET_ORGANIZATIONS_REQUESTED:return this.getOrganizationsRequested(e);case s.a.GET_ORGANIZATIONS_SUCCESS:return this.getOrganizationsSuccess(e,t.organizations);case s.a.GET_ORGANIZATIONS_FAILED:return this.getOrganizationsFailed(e,t.error);default:return e}}}},function(e,t){},function(e,t,n){"use strict";var i=n(29),a=n(42),s=n(23),o=document.querySelector("main");function r(){s.c.set("windowsAppsNewReleasePointReminderOpen",!0).then(function(){a.b({group:"appUpdate",content:"New version of Zeplin is available. <a href='#'>Download</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a:function(e){e.preventDefault(),i.a.shell.openExternal("https://zpl.io/update-windows-64"),a.a("appUpdate"),i.a.ipcRenderer.send("remind-update-later"),Promise.all([s.c.set("windowsAppsNewReleasePointReminderOpen",!1),s.c.set("remindWindowsAppsNewReleasePoint",(new Date).getTime()+864e5)]).then(function(){setTimeout(r,86405e3)})}},bannerCloseText:"Remind me tomorrow",closeCallback:function(){i.a.ipcRenderer.send("remind-update-later"),Promise.all([s.c.set("windowsAppsNewReleasePointReminderOpen",!1),s.c.set("remindWindowsAppsNewReleasePoint",(new Date).getTime()+864e5)]).then(function(){setTimeout(r,86405e3)})},container:o,style:{zIndex:190}})})}!function(){if(i.a){var e=navigator.userAgent.match(/Zeplin( Windows v|\/)(\d+\.\d+\.\d+)/);if(e&&3===e.length&&-1!==["1.3.1","1.3.0","1.2.2","1.2.1","1.2.0","1.1.4","1.1.3","1.1.2","1.1.1","1.1.0","1.0.3","1.0.2","1.0.1","1.0.0","0.31.0","0.30.0","0.29.0","0.28.1","0.28.0","0.27.1","0.27.0","0.26.0","0.25.0"].indexOf(e[2]))return i.a&&i.a.features&&i.a.features.webviews&&i.a.ipcRenderer.on("active",function(e,t){t&&s.c.get("windowsAppsNewReleasePointReminderOpen").then(function(e){if(!e)return a.a("appUpdate"),s.c.set("windowsAppsNewReleasePointReminderOpen",!1),void s.c.get("remindWindowsAppsNewReleasePoint").then(function(e){var t=(new Date).getTime();e&&t<e&&setTimeout(r,e-t+5e3)});r()})}),i.a.ipcRenderer.on("close-all-banners",function(){a.a("appUpdate")}),void s.c.get("remindWindowsAppsNewReleasePoint").then(function(e){var t=(new Date).getTime();e&&t<e?setTimeout(r,e-t+5e3):r()});i.a.ipcRenderer.on("close-all-banners",function(){a.a("appUpdate"),a.a("pluginUpdate")}),i.a.ipcRenderer.on("app-update-downloaded",function(e,t){a.a("appUpdate"),a.b({group:"appUpdate",content:"New version of Zeplin, "+t+" is here. <a href='#'>Restart</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a:function(e){e.preventDefault(),a.a("appUpdate"),i.a.ipcRenderer.send("restart-app")}},bannerCloseText:"Remind me later",closeCallback:function(){i.a.ipcRenderer.send("remind-update-later",t)},container:o,style:{zIndex:190}})}),i.a.ipcRenderer.on("plugin-update-downloaded",function(e,t){var n;t.plugin&&t.panel?n="plugin ("+t.plugin.remote+") and panel ("+t.panel.remote+")":t.plugin?n="plugin ("+t.plugin.remote+")":t.panel&&(n="panel ("+t.panel.remote+")"),a.a("pluginUpdate"),a.b({group:"pluginUpdate",content:"New version of Photoshop "+n+" is here. <a href='#'>Install</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a:function(e){e.preventDefault(),a.a("pluginUpdate"),i.a.ipcRenderer.send("install-plugin-update",t)}},bannerCloseText:"Remind me later",closeCallback:function(){i.a.ipcRenderer.send("remind-plugin-install-later",t)},container:o,style:{zIndex:190}})})}}()},function(e,t,n){"use strict";var i=n(29),a=n(1),s=n(154),o=n(0),r=n(338);const l=!!i.a&&!!i.a.features&&!!i.a.features.webviews,c=!!i.a&&!!i.a.features&&!!i.a.features.figma,d=200,u=150,h=80,p=52,m=c?"subscribe-to-imports":"subscribe-to-exports",f=c?"imports-change":"exports-change",g=c?"imports-started":"exports-started",b=c?"clear-imports":"clear-exports",v=c?"retry-import":"retry-export",y=c?"cancel-import":"cancel-export",C="retry-getting-project";function w(e,t){s.b.handleImports(t)}function S(){i.a.ipcRenderer.on(f,Object(a.j)(w)),i.a.ipcRenderer.send(m)}function k(e){e.forEach(function(e){e.remove()})}function E(e){e.stopPropagation(),"height"===e.propertyName&&e.target.remove()}function j(e){e.stopPropagation();const t=e.target;t.removeEventListener("transitionend",j),t.classList.remove("resize"),t.style.transitionDuration="";const n=document.querySelectorAll(".screenImport"),i=document.querySelectorAll(".screenImport.hidden");0!==n.length&&i.length!==n.length||s.b.hideImportsIndicator(),i.length&&k(i),S()}function x(e){e.stopPropagation();const t=document.querySelector(".screenImports .body"),n=document.querySelector(".screenImports .list"),a=Array.from(document.querySelectorAll(".screenImport.done, .screenImport.failed"));if(0===a.length)return;i.a.ipcRenderer.removeAllListeners(f);var s=a.reduce(function(e,n){return!function(e,t){const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return n.bottom>=i.top&&n.top<=i.bottom}(n,t)?e.hideAndRemove.push(n):e.animateAndRemove.unshift(n),e},{hideAndRemove:[],animateAndRemove:[]});const o=s.hideAndRemove,r=s.animateAndRemove;let l=n.clientHeight,c=l,m=0;n.style.height=l+"px";var g=t.getBoundingClientRect();o.forEach(function(e){const i=e.getBoundingClientRect();l-=i.height,c-=e.height,n.style.height=l+"px";const a=i.bottom<g.top;e.classList.add("hidden"),a&&(t.scrollTop-=i.height)}),r.forEach(function(e){const t=e.getBoundingClientRect().height;c-=t,e.addEventListener("transitionend",E),e.style.transitionDelay=m+"ms",e.classList.add("clear"),m+=h});let v=m-h;const y=c<l,C=c<t.clientHeight-p;if(y&&C){l>t.clientHeight-p&&(n.style.height=t.clientHeight-p+"px"),n.addEventListener("transitionend",j),n.classList.add("resize"),n.style.transitionDuration=v+u+d+"ms",n.style.height=c+"px"}else n.style.height="auto",k(o),r.length>0?setTimeout(S,v+200):S();i.a.ipcRenderer.send(b)}i.a&&i.a.ipcRenderer&&(o.default.render(o.default.h(r.a,null),document.getElementById("screenImportsContainerRoot")),i.a.ipcRenderer.on(g,function(){l?(s.b.showImportsList(),i.a.ipcRenderer.once("active",function(e,t){t||s.b.hideImportsList()}),i.a.ipcRenderer.sendToHost("active")):s.b.showImportsList()}),s.c.register(e=>{switch(e.type){case s.a.GO_TO_IMPORTED_SCREEN:!function(e,t){location.assign("/project/"+e+"/screen/"+t)}(e.projectId,e.screenId);break;case s.a.RETRY_SCREEN_IMPORT:!function(e){i.a.ipcRenderer.send(v,e)}(e.id);break;case s.a.CANCEL_SCREEN_IMPORT:!function(e){i.a.ipcRenderer.send(y,e)}(e.id);break;case s.a.RETRY_GET_PROJECT_FOR_IMPORTS:!function(e){i.a.ipcRenderer.send(C,e)}(e.id);break;case s.a.CLEAR_SCREEN_IMPORTS:x(e.ev)}}),S())},function(e,t,n){"use strict";var i=n(144),a=n(145);const s={hideImportsIndicator(){a.a.dispatch({type:i.a.HIDE_IMPORTS_INDICATOR})},showImportsList(){a.a.dispatch({type:i.a.SHOW_IMPORTS_LIST})},hideImportsList(){a.a.dispatch({type:i.a.HIDE_IMPORTS_LIST})},handleImports(e){a.a.dispatch({type:i.a.HANDLE_IMPORTS,imports:e})},goToImportedScreen(e,t){a.a.dispatch({type:i.a.GO_TO_IMPORTED_SCREEN,projectId:e,screenId:t})},retryScreenImport(e){a.a.dispatch({type:i.a.RETRY_SCREEN_IMPORT,id:e})},cancelScreenImport(e){a.a.dispatch({type:i.a.CANCEL_SCREEN_IMPORT,id:e})},retryGetProjectForImports(e){a.a.dispatch({type:i.a.RETRY_GET_PROJECT_FOR_IMPORTS,id:e})},clearScreenImports(e){a.a.dispatch({type:i.a.CLEAR_SCREEN_IMPORTS,ev:e})}};t.a=s},function(e,t,n){"use strict";var i=n(54),a=(n.n(i),n(145)),s=n(144);t.a=new class extends i.ReduceStore{constructor(){super(a.a)}getInitialState(){return{screenImports:[],indicatorVisible:!1,listVisible:!1}}hideImportsIndicator(e){return Object.assign({},e,{indicatorVisible:!1})}showImportsList(e){return Object.assign({},e,{indicatorVisible:!0,listVisible:!0})}hideImportsList(e){return Object.assign({},e,{listVisible:!1})}handleImports(e,t){return Object.assign({},e,{screenImports:t,indicatorVisible:t.length>0,listVisible:0!==t.length&&e.listVisible})}reduce(e,t){switch(t.type){case s.a.HIDE_IMPORTS_INDICATOR:return this.hideImportsIndicator(e);case s.a.SHOW_IMPORTS_LIST:return this.showImportsList(e);case s.a.HIDE_IMPORTS_LIST:return this.hideImportsList(e);case s.a.HANDLE_IMPORTS:return this.handleImports(e,t.imports);case s.a.GO_TO_IMPORTED_SCREEN:return this.hideImportsList(e);default:return e}}}},function(e,t,n){"use strict";var i=n(339);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(154),s=n(340),o=n(55),r=n(363);n.n(r);function l(e){const{_id:t,screen:n={},project:{_id:i},progress:{update:a,isGettingProject:s,isGettingProjectFailed:o,countOfImagesToUpload:r,countOfUploadedImages:l,isApiOperationCompleted:c,isApiOperationFailed:d,apiOperationFailedError:u}}=e,{_id:h,name:p}=n;return{id:t,screenId:h,screenName:p,projectId:i,update:a,gettingProject:s,gettingProjectFailed:o,countOfImagesToUpload:r,countOfUploadedImages:l,apiOperationCompleted:c,apiOperationFailed:d,apiOperationFailedError:u}}t.a=Object(o.a)(class extends i.default.Component{static getStores(){return[a.d]}static calculateState(){const{screenImports:e,indicatorVisible:t,listVisible:n}=a.d.getState();if(0===e.length)return{indicatorVisible:!1,screenImportsProgress:0,anyScreenImportFailed:!1,listOpen:!1,importsSource:null,importsByProject:[]};const i=e.reduce((e,t,n)=>{const{importsByProject:i,screenImportsProgress:a,anyScreenImportFailed:s}=e,o=Math.floor((a*n+function(e){return e.progress.isApiOperationCompleted?100:Math.floor(e.progress.countOfUploadedImages/(e.progress.countOfImagesToUpload+1)*100)}(t))/(n+1)),r=s||!!t.progress.isApiOperationFailed,c=i.find(e=>e._id===t.project._id);let d=i;return c?c.screenImports.push(l(t)):d.push({_id:t.project._id,name:t.project.name,type:t.project.type,screenImports:[l(t)]}),{importsByProject:d,screenImportsProgress:o,anyScreenImportFailed:r}},{importsByProject:[],screenImportsProgress:0,anyScreenImportFailed:!1}),{importsByProject:s,screenImportsProgress:o,anyScreenImportFailed:r}=i;return{indicatorVisible:t,screenImportsProgress:o,anyScreenImportFailed:r,listOpen:n,importsSource:e[0].source||"Photoshop",importsByProject:s}}render(){const{indicatorVisible:e,screenImportsProgress:t,anyScreenImportFailed:n,listOpen:o,importsSource:r,importsByProject:l}=this.state;return e?i.default.h(s.a,{class:"screenImportsContainer",screenImportsProgress:t,anyScreenImportFailed:n,listOpen:o,onListOpen:a.b.showImportsList,onListClose:a.b.hideImportsList,importsSource:r,importsByProject:l,onScreenImportClick:a.b.goToImportedScreen,onRetryScreenImport:a.b.retryScreenImport,onCancelScreenImport:a.b.cancelScreenImport,onRetryGetProject:a.b.retryGetProjectForImports,onClearScreenImports:a.b.clearScreenImports}):null}})},function(e,t,n){"use strict";var i=n(341);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(137),r=n(342),l=n(30),c=n(345),d=n(14),u=n(362);n.n(u);class h extends i.default.Component{constructor(e){super(e),this.renderScreenImport=this.renderScreenImport.bind(this),this.renderProjectGroup=this.renderProjectGroup.bind(this)}renderScreenImport(e){const{onScreenImportClick:t,onRetryScreenImport:n,onCancelScreenImport:a,onRetryGetProject:s}=this.props,{id:o,screenId:r,screenName:l,projectId:d,update:u,gettingProject:h,gettingProjectFailed:p,countOfUploadedImages:m,countOfImagesToUpload:f,apiOperationCompleted:g,apiOperationFailed:b,apiOperationFailedError:v}=e;return h&&!p?i.default.h(c.c,null):h&&p?i.default.h(c.d,{id:o,onRetry:s}):f===m&&g&&!b?i.default.h(c.a,{key:o,id:o,update:u,screenName:l,projectId:d,screenId:r,onClick:t}):f===m&&g&&b?i.default.h(c.b,{key:o,id:o,update:u,screenName:l,errorMessage:v?v.message:null,onRetry:n}):g?void 0:i.default.h(c.e,{key:o,id:o,update:u,screenName:l,countOfImagesToUpload:f,countOfUploadedImages:m,onCancel:a})}renderProjectGroup(e){return i.default.h("div",{key:e._id},i.default.h("div",{class:"projectInformation"},i.default.h("div",{class:"ellipsis"},e.name,", ",e.type)),i.default.h("div",{class:"projectGroup"},e.screenImports.map(this.renderScreenImport)))}renderScreenImports(){const{importsSource:e="Photoshop",importsByProject:t,onClearScreenImports:n}=this.props,a=1===t.length?t[0].name:"Zeplin";return i.default.h("div",{class:"screenImports"},i.default.h("div",{class:"body"},i.default.h("div",{class:"title"},i.default.h("div",null,e),i.default.h(l.a,{asset:"img/icHand.png"}),i.default.h("div",{class:"ellipsis"},a)),i.default.h("div",{class:"list"},1===t.length?t[0].screenImports.map(this.renderScreenImport):t.map(this.renderProjectGroup))),i.default.h(d.a,{onClick:n},i.default.h("div",null),i.default.h("div",null),i.default.h("div",null)))}render(){const{class:e,screenImportsProgress:t,anyScreenImportFailed:n,listOpen:a,onListClose:s,onListOpen:l}=this.props;return i.default.h(o.a,{class:e,content:this.renderScreenImports(),open:a,onClose:s,onOpen:l,left:-354,top:2},i.default.h(r.a,{warning:n,progress:t}))}}h.propTypes={screenImportsProgress:s.a.number.isRequired,anyScreenImportFailed:s.a.bool.isRequired,listOpen:s.a.bool.isRequired,onListOpen:s.a.func.isRequired,onListClose:s.a.func.isRequired,importsSource:s.a.string.isRequired,importsByProject:s.a.arrayOf(s.a.shape({_id:s.a.string.isRequired,name:s.a.string.isRequired,type:s.a.string.isRequired,screenImports:s.a.arrayOf(s.a.shape({id:s.a.string.isRequired,screenId:s.a.string.isRequired,screenName:s.a.string.isRequired,projectId:s.a.string.isRequired,update:s.a.bool.isRequired,countOfImagesToUpload:s.a.number.isRequired,countOfUploadedImages:s.a.number.isRequired,apiOperationCompleted:s.a.bool.isRequired,apiOperationFailed:s.a.bool.isRequired,apiOperationFailedError:s.a.shape({message:s.a.string.isRequired})}))})),onScreenImportClick:s.a.func.isRequired,onRetryScreenImport:s.a.func.isRequired,onCancelScreenImport:s.a.func.isRequired,onRetryGetProject:s.a.func.isRequired,onClearScreenImports:s.a.func.isRequired},t.a=h},function(e,t,n){"use strict";var i=n(343);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(14),r=n(5),l=n(344);n.n(l);const c=15,d=2*c*Math.PI;function u(e){const{progress:t=0,warning:n=!1}=e,a=`${d*t/100} ${d*(100-t)/100}`;return i.default.h(o.a,{class:"screenImportsIndicator"},i.default.h("svg",{width:"32",height:"32",version:"1.1"},i.default.h("circle",{cx:"16",cy:"16",r:c}),i.default.h("circle",{cx:"16",cy:"16",r:c,strokeDasharray:a})),100===t&&i.default.h("img",{src:Object(r.b)("img/icImportsDone.svg")}),n&&i.default.h("div",{class:"warning"}))}u.defaultProps={progress:0,warning:!1},u.propTypes={progress:s.a.number,warning:s.a.bool},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(346),a=n(349),s=n(352),o=n(357),r=n(359);n.d(t,"c",function(){return i.a}),n.d(t,"d",function(){return a.a}),n.d(t,"e",function(){return o.a}),n.d(t,"b",function(){return r.a}),n.d(t,"a",function(){return s.a})},function(e,t,n){"use strict";var i=n(347);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(){return i.default.h("div",{class:"screenImport gettingProject noSelect"},"Getting project ready to import..")};var i=n(0),a=n(348);n.n(a)},function(e,t){},function(e,t,n){"use strict";var i=n(350);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(34),r=n(14),l=n(5),c=n(351);n.n(c);class d extends o.a{constructor(e){super(e),this.handleRetryClick=this.handleRetryClick.bind(this)}handleRetryClick(){const{onRetry:e,id:t}=this.props;e(t)}render(){return i.default.h("div",{class:"screenImport gettingProjectFailed noSelect"},"Fetching project failed.",i.default.h(r.a,{onClick:this.handleRetryClick},i.default.h("img",{src:Object(l.b)("img/icImportProgressFetchProjectRetry.svg")})))}}d.propTypes={id:s.a.string.isRequired,onRetry:s.a.func.isRequired},t.a=d},function(e,t){},function(e,t,n){"use strict";var i=n(353);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(30),r=n(146),l=n(3),c=n(34),d=n(356);n.n(d);const u={};class h extends c.a{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,projectId:t,screenId:n}=this.props;e(t,n)}render(){const{id:e,update:t,screenName:n}=this.props;u[e]||(u[e]=function(){switch(Math.floor(100*Math.random())){case 0:return"type1";case 1:case 2:return"type2";case 3:case 4:return"type3";default:return"type4"}}());const a=u[e];return i.default.h(r.a,{class:Object(l.a)("done",a),update:t,success:!0,screenName:n,progress:100,detail:function(e){switch(e){case"type1":return[i.default.h("div",null,"Done!"),i.default.h(o.a,{asset:"img/icDone.png"})];case"type2":return"This looks great!";case"type3":return[i.default.h("span",{class:"wow"},"wow."),i.default.h("span",{class:"suchDesigns"},"such designs."),i.default.h("span",{class:"amaze"},"amaze."),i.default.h("span",{class:"soColors"},"so colors.")];case"type4":default:return"Done!"}}(a),buttonIcon:"img/icImportDone.svg",onClick:this.handleClick})}}h.propTypes={id:s.a.string.isRequired,update:s.a.bool.isRequired,screenName:s.a.string.isRequired,projectId:s.a.string.isRequired,screenId:s.a.string.isRequired,onClick:s.a.func.isRequired},t.a=h},function(e,t,n){"use strict";t.a=function(e){const{class:t,onClick:n,update:r,success:l,screenName:c,progress:d,detail:u,detailTitle:h,buttonIcon:p,onButtonClick:m}=e;let f=r?"Replacing":"Importing";return f=l?f:f.replace("ing","ed"),i.default.h("div",{class:Object(s.a)("screenImport",t),onClick:n},i.default.h("div",{class:"information"},i.default.h("div",{class:"title ellipsis"},f,' "',c,'"'),i.default.h("div",{class:"progress"},d?i.default.h("div",{style:{width:`${d}%`}}):null),i.default.h("div",{class:"detail ellipsis",title:h||""},u)),i.default.h(a.a,{onClick:m},i.default.h("img",{src:Object(o.b)(p)})))};var i=n(0),a=n(14),s=n(3),o=n(5),r=n(355);n.n(r)},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(358);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(146),r=n(34);class l extends r.a{constructor(e){super(e),this.handleCancelClick=this.handleCancelClick.bind(this)}calculateProgress(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return Math.floor(e/(t+1)*100)}isTicklingBackend(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return e===t}handleCancelClick(){const{onCancel:e,id:t}=this.props;e(t)}renderProgress(){return i.default.h("div",{class:"progress"},i.default.h("div",{style:{width:`${this.calculateProgress()}%`}}))}renderDetail(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return this.isTicklingBackend()?"Tickling the backend":`Uploading Images…(${e} of ${t})`}render(){const{update:e,screenName:t}=this.props;return i.default.h(o.a,{class:"inprogress",update:e,screenName:t,progress:this.calculateProgress(),detail:this.renderDetail(),buttonIcon:"img/icImportCancel.svg",onButtonClick:this.handleCancelClick})}}l.propTypes={id:s.a.string.isRequired,update:s.a.bool.isRequired,screenName:s.a.string.isRequired,countOfUploadedImages:s.a.number.isRequired,countOfImagesToUpload:s.a.number.isRequired,onCancel:s.a.func.isRequired},t.a=l},function(e,t,n){"use strict";var i=n(360);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(146),r=n(34),l=n(361);n.n(l);class c extends r.a{constructor(e){super(e),this.handleRetryButtonClick=this.handleRetryButtonClick.bind(this)}handleRetryButtonClick(){const{onRetry:e,id:t}=this.props;e(t)}render(){const{update:e,screenName:t,errorMessage:n}=this.props;return i.default.h(o.a,{class:"failed",update:e,success:!1,screenName:t,detail:n||"Zeplin couldn't upload this one to the cloud.",detailTitle:n||"",buttonIcon:"img/icImportRetry.svg",onButtonClick:this.handleRetryButtonClick})}}c.propTypes={id:s.a.string.isRequired,update:s.a.bool.isRequired,screenName:s.a.string.isRequired,errorMessage:s.a.string,onRetry:s.a.func.isRequired},t.a=c},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.d(t,"b",function(){return ce}),n.d(t,"e",function(){return de}),n.d(t,"a",function(){return ue}),n.d(t,"c",function(){return he}),n.d(t,"d",function(){return le});n(365);var i,a,s,o,r=n(27),l=n(9),c=n(1),d=n(10),u=n(4),h=[],p=new Set,m=new Set,f=[],g=new Set,b=new Set,v={},y={},C=new Set,w=document.getElementById("inviteUserPopup"),S=document.getElementById("inviteeHandle"),k=w.querySelector(".userList"),E=document.getElementById("inviteeTemplate"),j=document.getElementById("inviteNewUserTemplate"),x=document.getElementById("typedUserAlreadyAddedTemplate"),D=document.getElementById("inviteByTagTemplate"),_=document.querySelector(".organizationInviteeList"),O=document.querySelector(".tagList"),L=document.querySelector(".showRemainingTags"),T=document.querySelector(".memberList"),R=document.querySelector(".membersWithTagHeader"),I=document.querySelector(".membersWithTagList"),A=document.querySelector(".wildlingList"),N=!0,P=3;function M(e){if(e.classList.contains("newUser")){if(!S.checkValidity()&&!/^\w{3,30}$/.test(S.value))return c._6(S.parentElement),void(N=!0);w.querySelector(".inputArea img").classList.remove("hidden")}else e.classList.remove("inviteRetry"),e.classList.add("inviteSpinner");if(e.classList.contains("newUser"))ne(S.value,e);else if(e.classList.contains("user")){var t=f.find(function(t){return t._id===e.dataset.uid});ne(t.username||t.email,e)}else if(e.classList.contains("member")){var n=v.members.find(function(t){return t.user._id===e.dataset.mid});ne(n.user.username||n.user.email,e)}else if(e.classList.contains("wildling")){var i=v.wildlings.find(function(t){return t.user._id===e.dataset.wid});ne(i.user.username||i.user.email,e)}else e.classList.contains("inviteByTag")&&function(e,t){fetch(Zeplin.urls.baseURL+"/organizations/"+v._id+"/projects/"+a+"/users",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({tag:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw d.a(e.status,t)})}).then(function(e){ie(e,t)}).catch(function(){t.classList.remove("inviteSpinner"),t.classList.add("inviteRetry"),l.a({done:{cb:function(){c.E(S),N=!0}}})})}(e.dataset.tag,e)}function U(){w.classList.contains("organizationProject")?V():$()}function B(e,t,n){var i=(n=n||{}).importance||1;return n.skipExactMatch||!1||e!==t?e.startsWith(t)?8*i:e.includes(t)?4*i:0:16}function z(e,t){e.parentElement.classList.toggle(t,!e.childElementCount)||Array.from(e.querySelectorAll(".invitee")).forEach(function(t){t.classList.remove("hidden","selected"),e.appendChild(t)})}function F(e){return O.querySelector("[data-tag='"+e+"']")}function q(e){return T.querySelector("[data-mid='"+e.user._id+"']")}function H(e){return A.querySelector("[data-wid='"+e.user._id+"']")}function W(e,t,n,i){t.forEach(function(t){var i=n(t);i.classList.remove("hidden","selected"),e.appendChild(i)});for(var a=0;a<e.childElementCount-t.length;a++){var s=e.children[a];s.classList.add("hidden"),s.classList.remove("selected")}e.parentElement.classList.toggle(i,0===t.length)}function Z(e,t,n){var i={},a=e.filter(function(e){if(b.has(e.user._id)){var a=n(e);if(!a)return!1;if(!a.classList.contains("inviteDone"))return!1}var s=0;return e.user.username&&(s+=B(e.user.username,t)),!!(s+=B(e.user.email,t,{skipExactMatch:!0,importance:.25}))&&(i[e.user._id]=s,!0)});return a.sort(function(e,t){return i[t.user._id]-i[e.user._id]}),a}function V(){Y(".wildlingList .newUser"),Y(".organizationInviteeList .userListTypedUserAlreadyAdded");var e,t,n=S.value.toLowerCase();if(w.classList.remove("noNewInvitees","noInvitees"),_.classList.remove("noTags","noMembers","hasMembersWithTag","noWildlings","writeAnEmailToInvite","showAddsToTheProjectOnlyInfo"),I.innerHTML="",S.placeholder="Invite with email/username",n){e=!!(t=g.has(n))||C.has(n);var i=Object.keys(y);i.sort();var a={},o=i.filter(function(e){var t=B(e.toLowerCase(),n);return!!t&&(a[e]=t,!0)}).sort(function(e,t){return a[t]-a[e]});W(O,o,F,"noTags");var r=Z(v.members,n,q);W(T,r,q,"noMembers");var l=F(o[0]);_.classList.toggle("hasMembersWithTag",1===o.length&&(y[o[0]]>0||l&&l.classList.contains("inviteDone")))&&(R.textContent=o[0],I.innerHTML="",v.members.forEach(function(e){var t=q(e);if((!b.has(e.user._id)||t&&t.classList.contains("inviteDone"))&&e.tags.includes(o[0])){var n=X(e);n.querySelector(".invitee").classList.toggle("inviteDone",t&&t.classList.contains("inviteDone")),I.appendChild(n)}}));var c=Z(v.wildlings,n,H);if(W(A,c,H,"noWildlings"),e||n.includes("@")){if(!e){_.classList.remove("noWildlings"),_.classList.add("showAddsToTheProjectOnlyInfo");var d=document.importNode(j.content,!0);d.querySelector(".invitee").classList.add("wildling"),d.querySelector(".inviteNewUserButtonText span").textContent=S.value,A.appendChild(d)}}else _.classList.add("writeAnEmailToInvite");if(t&&!_.querySelector(".invitee.inviteDone")){var u=document.importNode(x.content,!0);u.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),u.querySelector("span").textContent=S.value,_.appendChild(u)}}else{if(z(O,"noTags"),L.textContent){var h=Array.from(O.querySelectorAll(".inviteByTag")).map(function(e){return e.dataset.tag});h.sort(),h.forEach(function(e){var t=F(e);O.appendChild(t)});for(var p=O.firstElementChild,m=P;m<O.childElementCount;m++){var f=O.children[m];f.classList.add("hidden"),O.insertBefore(f,p)}O.childElementCount-P>0?(L.textContent=O.childElementCount-P,L.classList.toggle("multiple",O.childElementCount-P>1)):L.textContent=""}z(T,"noMembers"),z(A,"noWildlings")}var k=_.querySelectorAll(".invitee:not(.hidden)");if(k.length)k[0].classList.add("selected");else if(!t&&!_.classList.contains("writeAnEmailToInvite")){var E=v.members.filter(function(e){return!b.has(e.user._id)}),D=v.wildlings.filter(function(e){return!b.has(e.user._id)});E.length+D.length===0&&s.length>1?w.classList.add("noNewInvitees"):1===s.length&&(w.classList.add("noInvitees"),S.placeholder="Invite with email")}}function $(){Y(".userList .user.newUser"),Y(".userList .userListTypedUserAlreadyAdded"),k.classList.remove("writeAnEmailToInvite"),S.placeholder="Invite with email/username";var e,t,n=S.value.toLowerCase(),i=document.importNode(x.content,!0);if(n){e=!!(t=g.has(n))||m.has(n);var a={},s=f.filter(function(e){var t=0;return e.username&&(t+=B(e.username,n)),(t+=B(e.email,n,{skipExactMatch:!0,importance:.25}))>0&&(a[e._id]=t,!0)}).sort(function(e,t){return a[t._id]-a[e._id]});s.forEach(function(e){var t=G(e._id);t.classList.remove("hidden","selected"),k.appendChild(t)});for(var o=0;o<f.length-s.length;o++){var r=k.children[o].classList;r.add("hidden"),r.remove("selected")}}else f.forEach(function(e){var t=G(e._id);t.classList.remove("hidden","selected"),k.appendChild(t)});if(n){if(e||n.includes("@")){if(!e){var l=document.importNode(j.content,!0);l.querySelector(".invitee").classList.add("user"),l.querySelector(".inviteNewUserButtonText span").textContent=S.value,k.appendChild(l)}}else k.classList.add("writeAnEmailToInvite");t&&(i.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),i.querySelector("span").textContent=S.value,k.appendChild(i))}w.classList.remove("noInvitees"),w.classList.remove("noNewInvitees");var c=k.querySelectorAll(".user:not(.hidden)");c.length?c[0].classList.add("selected"):t||k.classList.contains("writeAnEmailToInvite")||(h.length?w.classList.add("noNewInvitees"):(w.classList.add("noInvitees"),S.placeholder="Invite with email"))}function G(e){return k.querySelector(".invitee[data-uid='"+e+"']")}function Y(e){var t=document.querySelector(e);t&&t.remove()}function K(e,t,n){var i=document.importNode(D.content,!0),a=i.querySelector(".inviteByTag"),s=i.querySelector(".tagName"),o=i.querySelector(".memberCount");return a.classList.toggle("hidden",!!n),a.dataset.tag=e,s.textContent=e,s.title=e,o.textContent=t+(t>1?" members":" member"),i}function X(e){var t=document.importNode(E.content,!0),n=t.querySelector(".invitee"),i=t.querySelector(".userImage"),a=t.querySelector(".username"),s=t.querySelector(".email"),o=t.querySelector(".organizationTags");n.classList.add("member"),n.dataset.mid=e.user._id,c.U(i,e.user),e.user.username?(a.textContent=e.user.username,a.title=e.user.username,s.textContent=e.user.email,s.title=e.user.email):(a.textContent=e.user.email,a.title=e.user.email,s.textContent="Pending Invitation");var r=e.tags.join(", ");return o.textContent=r,o.title=r,t}function J(e){var t=document.importNode(E.content,!0),n=t.querySelector(".invitee"),i=t.querySelector(".userImage"),a=t.querySelector(".username"),s=t.querySelector(".email"),o=t.querySelector(".inviteExtraInfo");return n.classList.add("wildling"),n.dataset.wid=e.user._id,c.U(i,e.user),a.textContent=e.user.username,a.title=e.user.username,s.textContent=e.user.email,s.title=e.user.email,e.user.username||(o.textContent="Pending Invitation"),t}function Q(e,t){var n=document.importNode(E.content,!0),i=n.querySelector(".invitee"),a=n.querySelector(".userImage"),s=n.querySelector(".username"),o=n.querySelector(".inviteExtraInfo"),r=e.username||e.email;(i.classList.add("user"),c.U(a,e),i.dataset.uid=e._id,s.textContent=r,s.title=r,e.username)?n.querySelector(".email").textContent=e.email:o.textContent="Pending invitation";return t&&i.classList.add("hidden"),n}function ee(e){p.has(e._id)||(h.push(e),p.add(e._id),e.username&&m.add(e.username),m.add(e.email))}function te(e){b.add(e._id),e.username&&g.add(e.username),g.add(e.email)}function ne(e,t){fetch(Zeplin.urls.baseURL+"/projects/"+a+"/users",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({handle:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw d.a(e.status,t)})}).then(function(e){ie(e,t)}).catch(function(e){w.querySelector(".inputArea img").classList.add("hidden"),he()||t.classList.contains("newUser")?(N=!1,d.b(e,{dialogCallback:function(){c.E(S),N=!0}})):(t.classList.remove("inviteSpinner"),t.classList.add("inviteRetry"),t.querySelector(".inviteExtraInfo").textContent=e.title)}).catch(function(){l.a({done:{cb:function(){c.E(S),N=!0}}})})}function ie(e,t){c.E(S),w.querySelector(".inputArea img").classList.add("hidden"),e.users?e.users.forEach(function(e){te(e.user)}):(te(e.user),t.classList.contains("user")&&ee(e.user));var n=e.users?e.users:[e];(mixpanel.master.track("Invited user"),i.dispatchEvent(new CustomEvent("usersInvited",{detail:{users:n}})),w.classList.contains("organizationProject"))&&((e.users?e.users:[e]).forEach(function(e){var t=v.members.find(function(t){return t.user._id===e.user._id});t&&t.tags.forEach(function(e){y[e]-=1})}),Object.keys(y).forEach(function(e){var t=y[e],n=F(e);0===t?n.classList.add("inviteDone"):n.querySelector(".memberCount").textContent=t+(t>1?" members":" member")}));if(t.classList.remove("inviteSpinner"),t.classList.add("inviteDone"),e.users&&e.users.forEach(function(e){Array.from(_.querySelectorAll(".member[data-mid='"+e.user._id+"']")).forEach(function(e){e.classList.add("inviteDone")})}),t.classList.contains("newUser"))if(t.remove(),t.classList.contains("user")){f.push(e.user);var a=Q(e.user);a.querySelector(".user").classList.add("inviteDone"),k.querySelector(".user.selected")||a.querySelector(".user").classList.add("selected"),se(a)}else{v.wildlings.push({user:e.user}),C.add(e.user.email);var s=J(e);s.querySelector(".wildling").classList.add("inviteDone"),A.querySelector(".wildling.selected")||s.querySelector(".wildling").classList.add("selected"),A.appendChild(s)}}function ae(e){Array.from(e.querySelectorAll(".invitee.inviteDone:not(.newUser)")).forEach(function(e){e.remove()})}function se(e){k.lastElementChild&&k.lastElementChild.classList.contains("user")?k.appendChild(e):k.insertBefore(e,k.lastElementChild)}function oe(e){var t=u.p+e,n=r.c.channel(t)||r.c.subscribe(t);n.bind("InviteUser",function(e){!function(e,t){if(ee(t),!i)return;if(a===e)te(t),c.b(f,function(e){return e._id===t._id});else{var n=f.some(function(e){return e._id===t._id});n||f.push(t)}var s=S.value,o=G(t._id);if(a===e&&o){if(o.classList.contains("selected")&&k.querySelector(".user:not(.hidden)")&&(o.nextElementSibling&&o.nextElementSibling.classList.contains("user")?o.nextElementSibling.classList.add("selected"):o.previousElementSibling&&o.previousElementSibling.classList.contains("user")&&!o.previousElementSibling.classList.contains("hidden")&&o.previousElementSibling.classList.add("selected")),o.remove(),o.classList.contains("newUser")||!k.querySelector(".user:not(.hidden)")){var r=document.importNode(x.content,!0);r.querySelector(".userListTypedUserAlreadyAdded").classList.add(S.value===Zeplin.user.username||S.value===Zeplin.user.email?"selfUser":"someUser"),r.querySelector("span").textContent=S.value,k.appendChild(r)}}else a!==e&&(o?o.classList.contains("newUser")&&(k.appendChild(Q(t)),o.classList.contains("selected")&&(o.nextElementSibling&&o.nextElementSibling.classList.contains("user")?o.nextElementSibling.classList.add("selected"):o.previousElementSibling&&o.previousElementSibling.classList.contains("user")&&!o.previousElementSibling.classList.contains("hidden")&&o.previousElementSibling.classList.add("selected")),o.remove()):se(Q(t,s&&!(t.username&&t.username.includes(s))&&!t.email.includes(s))))}(e.params.pid,e.body)}),n.bind("CreateUser",function(e){!function(e,t){var n=h.find(function(e){return e._id===t._id});if(!n)return;if(Object.assign(n,t),!i)return;var a=G(t._id);a&&(a.querySelector(".username").textContent=t.username,a.querySelector(".inviteExtraInfo").textContent="")}(e.params.pid,e.body)}),n.bind("RemoveUserFromProject",function(e){le(e.params.pid,e.params.mid)}),n.bind("DeleteUser",function(e){Zeplin.user._id!==e.params.uid&&function(e){var t=c.b(h,function(t){return t._id===e});if(!t)return;if(function(e){b.delete(e._id),p.delete(e._id),e.username&&(g.delete(e.username),m.delete(e.username)),g.delete(e.email),m.delete(e.email),c.b(f,function(t){return t._id===e._id})}(t),!i)return;var n=G(t._id);n&&(k.removeChild(n),n.classList.contains("selected")&&k.querySelector(".user:not(.hidden)")&&k.querySelector(".user:not(.hidden)").classList.add("selected"))}(e.params.uid)})}function re(e,t,n,i){var a=t(n),s=!(!S.value||n.user.username&&n.user.username.includes(S.value)||n.user.email.includes(S.value));a.querySelector(".invitee").classList.toggle("hidden",s),s?e.append(a):(e.insertBefore(a,e.querySelector(".invitee:not(.hidden)")),e.parentElement.classList.remove(i))}function le(e,t){if(a===e)if(w.classList.contains("organizationProject")){var n,s,o=v.members.find(function(e){return e.user._id===t});o?(n=o,s=q(o),o.tags.forEach(function(e){y[e]?y[e]+=1:y[e]=1;var t=F(e);if(t)t.querySelector(".memberCount").textContent=y[e]+(y[e]>1?" members":" member"),t.classList.remove("inviteDone");else{var n=K(e,y[e]);n.querySelector(".invitee").classList.toggle("hidden",!!S.value&&!e.includes(S.value))?O.appendChild(n):O.insertBefore(K(e,y[e]),O.querySelector(".invitee:not(.hidden)"))}})):s=H(n=v.wildlings.find(function(e){return e.user._id===t})),b.delete(t),g.delete(n.user.username),g.delete(n.user.email);var r=_.querySelector(".userListTypedUserAlreadyAdded");if(S.value===n.user.username&&r&&r.remove(),!i)return;s?s.classList.remove("inviteDone"):o?re(T,X,o,"noMembers"):re(A,J,n,"noWildlings")}else{var l=h.find(function(e){return e._id===t});if(function(e){b.delete(e._id),e.username&&(g.delete(e.username),m.add(e.username)),g.delete(e.email),m.add(e.email),f.some(function(t){return t._id===e._id})||f.push(e)}(l),!i)return;var c=S.value,d=G(l._id);d?d.classList.remove("inviteDone"):se(Q(l,c&&!(l.username&&l.username.includes(c))&&!l.email.includes(c)))}}function ce(e,t){r.g.bind("InviteUser",function(e){!function(e,t){t.forEach(function(e){ee(e.user),i&&!b.has(e.user._id)&&(f.some(function(t){return t._id===e.user._id})||(f.push(e.user),se(Q(e.user))))}),he()||U()}(e.params.pid,e.body.users)}),e.forEach(oe),t&&function(e){fetch(Zeplin.urls.baseURL+"/organizations/"+e+"/members",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t})}).then(function(e){(v=e).members.forEach(function(e){e.tags.forEach(function(e){y[e]?y[e]+=1:y[e]=1})})})}(t)}function de(e,t,n,r){w.classList.toggle("organizationProject",!!r),r?function(e,t,n){if(t!==a){k.innerHTML="",O.innerHTML="",L.textContent="",T.innerHTML="",A.innerHTML="",g=new Set,b=new Set,C=new Set,i=e,a=t,(s=n).forEach(function(e){te(e.user)}),v.members.forEach(function(e){b.has(e.user._id)?e.tags.forEach(function(e){y[e]-=1,0===y[e]&&delete y[e]}):(C.add(e.user.username).add(e.user.email),T.appendChild(X(e)))}),_.classList.toggle("noMembers",!T.childElementCount);var r=Object.keys(y);r.sort(),r.forEach(function(e){O.appendChild(K(e,y[e],!1))});var l=r.length-P;l>0&&(L.textContent=l,L.classList.toggle("multiple",l>1)),_.classList.toggle("noTags",!r.length),v.wildlings.forEach(function(e){b.has(e.user._id)||(C.add(e.user.username).add(e.user.email),A.appendChild(J(e)))}),_.classList.toggle("noWildlings",!A.childElementCount)}else Object.keys(y).forEach(function(e){0===y[e]&&delete y[e]}),o&&new Date-o>1e4&&(L.textContent=Object.keys(y).length-P,L.classList.toggle("multiple",Object.keys(y).length-P>1)),ae(O),ae(T),ae(A);o=0,e.appendChild(w),e.getBoundingClientRect().right+80>window.innerWidth&&w.classList.add("left");V(),w.classList.remove("hidden"),_.scrollTop=0,S.focus()}(e,t,n):function(e,t,n){t!==a?(k.innerHTML="",O.innerHTML="",L.textContent="",T.innerHTML="",A.innerHTML="",f=[],g=new Set,b=new Set,i=e,a=t,(s=n).forEach(function(e){te(e.user)}),h.forEach(function(e){b.has(e._id)||(f.push(e),e.username&&m.add(e.username),m.add(e.email))}),f.forEach(function(e){k.appendChild(Q(e))})):(ae(k),b.forEach(function(e){c.b(f,function(t){return t._id===e})}));e.appendChild(w),e.getBoundingClientRect().right+80>window.innerWidth&&w.classList.add("left");$(),w.classList.remove("hidden"),k.scrollTop=0,S.focus()}(e,t,n)}function ue(){w.classList.add("hidden"),w.classList.remove("left"),w.querySelector(".inputArea img").classList.add("hidden"),S.value="",S.dispatchEvent(new Event("input")),N=!0,o||(o=new Date)}function he(){return w.classList.contains("hidden")}fetch(Zeplin.urls.baseURL+"/users/acquaintances",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw d.a(e.status,t)})}).then(function(e){h=e.acquaintances,p=new Set(h.map(function(e){return e._id}))}).catch(function(){}),function(){function e(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".invitee");!t||t.classList.contains("inviteDone")||t.classList.contains("inviteSpinner")||!e.target.classList.contains("action")&&!e.target.closest(".inviteNewUserButton")||(e.stopPropagation(),M(t))}}var t,n;S.addEventListener("input",function(){S.parentElement.classList.toggle("typed",!!S.value),N=!0,U(),i&&i.dispatchEvent(new CustomEvent("listRefreshed"))}),w.addEventListener("click",function(e){e.stopPropagation()}),w.addEventListener("contextmenu",function(e){e.stopPropagation()}),k.addEventListener("click",e),_.addEventListener("click",e),w.addEventListener("mouseenter",function(e){t=e.clientX,n=e.clientY}),w.addEventListener("mousemove",function(e){if(e.stopPropagation(),t!==e.clientX||n!==e.clientY){var i=w.querySelector(".selected");i&&i.classList.remove("selected"),e.target.closest(".invitee")&&(e.target.closest(".invitee").classList.add("selected"),t=e.clientX,n=e.clientY)}}),document.addEventListener("keydown",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:ue();break;case Zeplin.KEY_CODE.ENTER:if(he()||!N)break;var t=w.querySelector(".selected");if(!t||t.classList.contains("inviteDone")||t.classList.contains("inviteSpinner"))break;N=!1,M(t);break;case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:if(he())break;N=!0,e.preventDefault(),function(e){w.classList.contains("organizationProject")?function(e){var t=_.querySelector(".invitee.selected");if(t){var n,i=Array.from(_.querySelectorAll(".invitee:not(.hidden)")),a=i.findIndex(function(e){return e.classList.contains("selected")});if((n=e.keyCode===Zeplin.KEY_CODE.ArrowUp?a-1:a+1)>-1&&n<i.length){var s=i[n];t.classList.remove("selected"),s.classList.add("selected"),c.S(s,_)}}else{var o=_.querySelector(".invitee:not(.hidden)");o&&(o.classList.add("selected"),c.S(o,_))}}(e):function(e){var t=k.querySelector(".selected");if(t){var n=e.keyCode===Zeplin.KEY_CODE.ArrowUp?t.previousElementSibling:t.nextElementSibling;n&&n.classList.contains("user")&&!n.classList.contains("hidden")&&(t.classList.remove("selected"),n.classList.add("selected"),c.S(n))}else{var i=k.querySelector(".user:not(.hidden)");i&&(i.classList.add("selected"),c.S(i))}}(e)}(e)}}),L.addEventListener("click",function(e){e.stopPropagation(),L.textContent="",Array.from(O.querySelectorAll(".inviteByTag.hidden")).forEach(function(e){e.classList.remove("hidden"),O.appendChild(e)})})}()},function(e,t,n){"use strict";var i=n(1);function a(e){const t=parseInt(e.dataset.maxFontSize,10),n=parseInt(e.dataset.minFontSize,10);let a=t;e.addEventListener("input",function(){if(e.value){if(Object(i.A)(e.value,a+"px Roboto")>e.clientWidth&&a>n)for(;Object(i.A)(e.value,a+"px Roboto")>e.clientWidth&&a>n;)a-=.2;else if(Object(i.A)(e.value,a+"px Roboto")<=e.clientWidth&&a<t)for(;Object(i.A)(e.value,a+"px Roboto")<=e.clientWidth&&a<t;)a+=.2}else a=t;e.style.fontSize=a+"px"})}window.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("input[data-elastic-font-size]");Array.from(e).forEach(a)})},function(e,t,n){"use strict";var i=n(4),a=window.performance,s="JS_Timing",o=`version:${i.z};page:${location.pathname.match(/\/(\w+)(.html)?/)[1]}`,r=1;function l(e,t){(t=t||{}).end?a.measure(e,t.start,t.end):t.start?a.measure(e,t.start):a.measure(e);var n=a.getEntriesByName(e);if(n.length){var i=n[n.length-1],r=t.labels,l=t.minTime||0;r&&(r=Object.keys(r).map(function(e){return e+":"+r[e]},[]).join(";")),i.duration>l&&function(e,t,n){n=n?n+";"+o:o,ga("legacyTracker.send","timing",s,e,t,n)}(e,Math.round(i.duration),r),a.clearMeasures(e)}}var c=!1;function d(){c||(c=!0,l("page.timeToFirstInteraction"))}function u(){l("page.domContentLoaded",{start:"navigationStart",end:"domContentLoadedEventStart"})}var h,p,m,f,g=!1;function b(){}window.addEventListener("load",function(){g=!0}),a&&a.mark&&a.measure&&a.timing&&a.getEntriesByName?(h=function(){var e="_mark_"+r;return a.mark(e),r++,e},p=l,m=function(){g?u():window.addEventListener("load",u)},f=function(){document.addEventListener("click",function e(t){d(),document.removeEventListener("click",e,!0)},!0),document.addEventListener("scroll",function e(t){d(),document.removeEventListener("scroll",e,!0)},!0)}):(h=b,p=b,m=b,f=b),t.a={mark:h,measure:p,measurePageDefaults:m,measureFirstInteraction:f}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,r,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(s(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),n.apply(this,r)}else if(a(n))for(r=Array.prototype.slice.call(arguments,1),o=(c=n.slice()).length,l=0;l<o;l++)c[l].apply(this,r);return!0},n.prototype.addListener=function(e,t){var o;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(o=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=!1;function a(){this.removeListener(e,a),n||(n=!0,t.apply(this,arguments))}return a.listener=t,this.on(e,a),this},n.prototype.removeListener=function(e,t){var n,s,o,r;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,s=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(r=o;r-- >0;)if(n[r]===t||n[r].listener&&n[r].listener===t){s=r;break}if(s<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){(t=e.exports=n(411)).Stream=t,t.Readable=t,t.Writable=n(369),t.Duplex=n(147),t.Transform=n(415),t.PassThrough=n(532)},function(e,t,n){"use strict";(function(t,i){var a=n(185);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;e.entry=null;for(;i;){var a=i.callback;t.pendingcb--,a(n),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var o,r=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?t:a.nextTick;b.WritableState=g;var l=n(173);l.inherits=n(156);var c={deprecate:n(531)},d=n(412),u=n(186).Buffer,h=i.Uint8Array||function(){};var p,m=n(413);function f(){}function g(e,t){o=o||n(147),e=e||{};var i=t instanceof o;this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var l=e.highWaterMark,c=e.writableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=l||0===l?l:i&&(c||0===c)?c:d,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,s=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,s){--t.pendingcb,n?(a.nextTick(s,i),a.nextTick(k,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(s(i),e._writableState.errorEmitted=!0,e.emit("error",i),k(e,t))}(e,n,i,t,s);else{var o=w(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||C(e,n),i?r(y,e,n,o,s):y(e,n,o,s)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function b(e){if(o=o||n(147),!(p.call(b,this)||this instanceof o))return new b(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function v(e,t,n,i,a,s,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(a,t.onwrite):e._write(a,s,t.onwrite),t.sync=!1}function y(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),k(e,t)}function C(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,a=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var r=0,l=!0;n;)a[r]=n,n.isBuf||(l=!1),n=n.next,r+=1;a.allBuffers=l,v(e,t,!0,t.length,a,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,d=n.encoding,u=n.callback;if(v(e,t,!1,t.objectMode?1:c.length,c,d,u),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),k(e,t)})}function k(e,t){var n=w(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}l.inherits(b,d),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===b&&(e&&e._writableState instanceof g)}})):p=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,n){var i=this._writableState,s=!1,o=!i.objectMode&&function(e){return u.isBuffer(e)||e instanceof h}(e);return o&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=f),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),a.nextTick(t,n)}(this,n):(o||function(e,t,n,i){var s=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),a.nextTick(i,o),s=!1),s}(this,i,e,n))&&(i.pendingcb++,s=function(e,t,n,i,a,s){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,n));return t}(t,i,a);i!==o&&(n=!0,a="buffer",i=o)}var r=t.objectMode?1:i.length;t.length+=r;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:a,isBuf:n,callback:s,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,r,i,a,s);return l}(this,i,o,e,t,n)),s},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||C(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,k(e,t),n&&(t.finished?a.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n(402).setImmediate,n(64))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(419)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var i=n(174),a=n(423),s=n(424),o=n(425);s=n(424);function r(e,t,n,i,a){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=a}r.prototype={getContentWorker:function(){var e=new a(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new a(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},r.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new s("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new s("compressedSize")).withStreamInfo("compression",t)},e.exports=r},function(e,t,n){"use strict";var i=n(32);var a=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function(e,t,n,i){var s=a,o=i+n;e^=-1;for(var r=i;r<o;r++)e=e>>>8^s[255&(e^t[r])];return-1^e}(0|t,e,e.length,0):function(e,t,n,i){var s=a,o=i+n;e^=-1;for(var r=i;r<o;r++)e=e>>>8^s[255&(e^t.charCodeAt(r))];return-1^e}(0|t,e,e.length,0):0}},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";var i=n(577),a=n(1);function s(e){return e=e.replace(/_/g," "),i.a.find(function(t){return t.aliases.includes(e)})}t.a={addCustomEmojis:function(e){var t={};Object.keys(e).forEach(function(n){var a=e[n];if(n=n.replace(/_/g," "),a.startsWith("alias:"))t[n]=a.substring(6);else{var o=s(n);o?o.aliases.push(n):i.a.push({emoji:a,aliases:[n],customEmoji:!0})}}),Object.keys(t).forEach(function(e){var n=s(t[e]);n&&n.aliases.push(e)})},getSuggestedEmojis:function(e){var t=[];return e=e.toLowerCase().replace(/_/g," ").trim(),i.a.forEach(function(n){for(var i=0;i<n.aliases.length;i++)if(Object(a.Y)(n.aliases[i],e)||n.aliases[i].startsWith(e))return void t.push({emoji:n.emoji,alias:n.aliases[i],customEmoji:n.customEmoji,formattedAlias:n.aliases[i].replace(/\s/g,"_")})}),t},searchEmoji:s}},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return d});var i,a=n(9),s=document.getElementById("deleteProjectDialog"),o=document.getElementById("projectNameInput"),r=document.getElementById("deleteProjectDialogCancelButton"),l=document.getElementById("deleteProjectDialogDoneButton");function c(e){i=e}function d(e,t){s.dataset.pid=e,s.dataset.projectName=t,s.showModal()}a.b.registerDialog(s),o.addEventListener("input",function(){s.querySelector("button.done").disabled=o.value!==s.dataset.projectName,o.setCustomValidity(o.value===s.dataset.projectName?"":"Project name doesn't match provided value")}),r.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&s.close()}),s.addEventListener("close",function(){o.value="",o.setCustomValidity(""),o.parentElement.classList.remove("typed"),s.querySelector("button.done").disabled=!0}),o.addEventListener("keydown",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),e.stopPropagation(),o.value===s.dataset.projectName&&(s.close(),i(s.dataset.pid))}}),l.addEventListener("click",function(){o.value===s.dataset.projectName&&(s.close(),i(s.dataset.pid))})},function(e,t,n){"use strict";var i=n(598);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(622);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(627);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(661);t.a=i.a},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(665),a=n(666),s=n(184);function o(e){return e.serialize()}function r(e){const t=Object.assign({},e,{snapshot:Object.assign({},e.snapshot)}),n=e.snapshot.layers||[];return t.snapshot.layers=n.map(e=>{return new s.a(e).toObject()}),{model:"Version",data:t}}class l{constructor(e){this._id=e._id,this._name=e.name,this._description=e.description,this._manifestURL=e.manifestURL,this._default=e.default,this._users=e.users,this._manifest=e.manifest,this._local=e.local,this._options={},this._project=null,this._loaded=!1}static loadManifest(e){return fetch(e).then(t=>{if(!t.ok)throw Error("Cannot load extension manifest: "+e);return t.json()})}static createLocal(e){const t=e.endsWith("manifest.json")?e:`${e.replace(/\/$/,"")}/manifest.json`;return l.loadManifest(t).then(e=>new l({_id:e.name,name:e.name,description:e.description,manifestURL:t,manifest:e,default:!1,users:[{user:{displayName:Zeplin.user.displayName||Zeplin.user.username},role:"owner"}],local:!0}))}workerLogger(e,t={}){this._local?(console.error(`Zeplin extension error (${this._name}):`,e),console.error("Data:",t)):Raven.captureException(e,{extra:Object.assign({extension:{name:this._name,id:this._id}},t)})}initWorker(e){const t=new i.a(new Worker(Zeplin.config.extensionWorkerPath),{errorLogger:this.workerLogger.bind(this),methods:["load","layer","screen","component","comment","styleguideColors","styleguideTextStyles","exportStyleguideColors","exportStyleguideTextStyles"]});return this._supervisor=t,this._supervisor.load(e)}initOptions(e,t,n){const i=n.reduce((e,t)=>{return e[t.id]=t.default,e},{}),s=a.a.create(e,t,i);return s.getAll().then(e=>{this._storage=s,this._options=e})}load(e){const t=this._manifestURL;return this._project=e,(this._local?Promise.resolve(this._manifest):l.loadManifest(t)).then(n=>(this._manifest=n,this.initOptions(this._id,e.id,this.optionsSchema).then(()=>this.initWorker(new URL(n.moduleURL,t).toString())).then(()=>(this._loaded=!0,this)))).catch(()=>this)}reload(){if(this._loaded)return this._supervisor.load(new URL(this._manifest.moduleURL,this._manifestURL).toString())}get manifest(){return this._manifest}get id(){return this._id}get name(){return this._name}get description(){return this._description}get optionsSchema(){return this._manifest&&this._manifest.options||[]}get options(){return this._options}get default(){return this._default}get loaded(){return this._loaded}get author(){const{user:e={displayName:"Anonymous"}}=this._users.find(({role:e})=>"owner"===e);return{displayName:e.displayName,url:this._manifest&&this._manifest.author&&this._manifest.author.url}}get repository(){return this._manifest&&this._manifest.repository}get local(){return this._local}terminate(){this._supervisor&&this._supervisor.terminate(),this._local&&a.a.clear(this._id)}setOption(e,t){this._options[e]=t,this._storage.set(e,t)}getOption(e){return this._options[e]}getContext(){return{model:"Context",data:{project:this._project.toObject(),options:this._options}}}styleguideColors(e){return this._supervisor.styleguideColors(this.getContext(),e.map(o))}styleguideTextStyles(e){return this._supervisor.styleguideTextStyles(this.getContext(),e.map(o))}layer(e,t){const n=function e(t,n,i=[]){if(!t.layers||0===t.layers.length)return null;for(const[a,s]of t.layers.entries()){if(s._id===n)return i.concat(a);const t=e(s,n,i.concat(a));if(t)return t}return null}(t.snapshot,e.id);return n?this._supervisor.layer(this.getContext(),n,r(t)):Promise.resolve(null)}screen(e,t){return this._supervisor.screen(this.getContext(),r(e),function(e){const{name:t,description:n,tags:i}=e;return{model:"Screen",data:{name:t,description:n,tags:i}}}(t))}component(e,t){return this._supervisor.component(this.getContext(),r(e),function(e){const{name:t,description:n}=e;return{model:"Component",data:{name:t,description:n}}}(t))}comment(e){return this._supervisor.comment(this.getContext(),e)}exportStyleguideColors(e){return this._supervisor.exportStyleguideColors(this.getContext(),e.map(o))}exportStyleguideTextStyles(e){return this._supervisor.exportStyleguideTextStyles(this.getContext(),e.map(o))}}},function(e,t,n){"use strict";var i=n(1);const a=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2});t.a=class{constructor(e){this.project=e}percentage(e,t=0){return`${i.R(100*e,t)}%`}withUnit(e){return`${e}${this.project.dimensionSuffix}`}withTextUnit(e){return`${e}${this.project.textDimensionSuffix}`}length(e){return this.withUnit(i.R(e/this.project.densityDivisor,1))}textLength(e){return this.withTextUnit(i.R(e/this.project.densityDivisor,1))}letterSpacing(e){return this.withTextUnit(i.R(e/this.project.densityDivisor,2))}colorString(e,t){switch(this.project.type){case"android":return e.toHexString(!0);case"ios":case"osx":return e.toRGBABase();case"web":return e.toCSS(t);default:return e.toHexString()}}alpha(e){return a.format(e)}}},function(e,t,n){"use strict";var i=n(680);t.a=i.a},function(e,t,n){"use strict";var i=n(737);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a={DESELECT_LAYER:"deselectLayer",COPY_LAYER_CODE:"copyLayerCode",COPY_LAYER_CONTENT:"copyLayerContent",TOGGLE_LAYOUT_GRID:"toggleLayoutGrid",COPY_SCREEN_LINK:"copyScreenLink",UPDATE_SCREEN:"updateScreen",OPEN_MANAGE_TAGS:"openManageTags",OPEN_SOURCE_FILE:"openSourceFile",OPEN_SOURCE_FOLDER:"openSourceFolder",LOAD_DOTS:"loadDots",SELECT_DOT:"selectDot",CHANGE_DOT_FILTER:"changeDotFilter",OPEN_NOTE_MODE:"openNoteMode",FOLLOW_FLOW_LINK:"followFlowLink",CHANGE_DOT_POSITION:"changeDotPosition",REVERT_DOT_POSITION:"revertDotPosition",CANCEL_DOT_POSITION:"cancelDotPosition",COMMIT_DOT_POSITION:"commitDotPosition",UPDATE_DOT_STATUS:"updateDotStatus",COPY_DOT_LINK:"copyDotLink",DELETE_DOT:"deleteDot",OPEN_DOT_MENU:"openDotMenu",CLOSE_DOT_MENU:"closeDotMenu",COPY_SCREEN_CODE:"copyScreenCode"}},function(e,t,n){"use strict";var i=n(45);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(754);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(771);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(798);n.d(t,"c",function(){return i.a});var a=n(475);n.d(t,"a",function(){return a.a});var s=n(806);n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";var i=n(815);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(817);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(824);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(854);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(5),s=n(27),o=n(1),r=n(46),l=n(395),c=n(35),d=n(3),u=n(398);n.n(u);const h=180;function p(e){const t=Math.floor(e.latestVersion.snapshot.height*h/e.latestVersion.snapshot.width);return i.default.h(l.a,{height:t,key:e._id,source:e.latestVersion.snapshot.url})}function m(e,t){if(!e||!e.length)return i.default.h("div",{class:"projectUsersEmpty"},"No members in this project, be the first!");const n=function(e){return e.sort(o.W.role),e=e.map(({user:e})=>Object.assign({},e,{avatar:Object(o.C)(e).src,title:"invited"!==e.status?e.username:`Pending… (${e.email})`}))}(e),a=n.slice(0,t).map(e=>i.default.h(c.a,{src:e.avatar,title:e.title,class:"userImageFrame",width:"36",height:"36"}));if(n.length===t+1)a.push(i.default.h(c.a,{src:n[t].avatar,title:n[t].title,class:"userImageFrame",width:"36",height:"36"}));else if(n.length>t+1){const s=n.slice(t).map(e=>e.title).join("\n"),o=i.default.h("div",{class:"remainingUsers",title:s},"+",e.length-t);a.push(o)}return i.default.h("div",{class:"projectUsers"},a)}t.a=class extends i.default.Component{constructor(e){super(),this.centerScreensUsersHeader=this.centerScreensUsersHeader.bind(this),this.handleJoinClick=this.handleJoinClick.bind(this),this.state={usersLimit:5}}centerScreensUsersHeader(){const e=Math.floor(this.base.getBoundingClientRect().width),t=h+24,{requiredMinimumPadding:n,defaultPadding:i,projectData:a}=this.props,s=Math.floor((e-n)/t),o=e-s*t;let r=i;a.screens.length&&(r=o/2),this.base.style=`padding-left: ${r}px; padding-right: ${r}px;`;const l=s*t-24-36,c=Math.floor(l/42);c!==this.state.usersLimit&&this.setState({usersLimit:c})}handleJoinClick(){this.props.onJoinClick(this.props.projectData._id)}componentDidMount(){this.centerScreensUsersHeader(),window.addEventListener("resize",this.centerScreensUsersHeader)}componentDidUpdate(e,t){!e.projectData&&this.props.projectData&&this.centerScreensUsersHeader()}componentWillUnmount(){window.removeEventListener("resize",this.centerScreensUsersHeader)}render(e,t){const{projectData:n,loadingJoin:o=!1,hideJoinButton:l,headerSticky:c}=e,{usersLimit:u}=t,h=Object(d.a)("projectPreviewHeader",{sticky:c});return i.default.h("div",{class:"projectPreview",key:n._id},i.default.h("div",{class:h},i.default.h("div",null,i.default.h("h1",null,n.name),i.default.h("h5",null,i.default.h("span",{class:"projectPreviewType"},s.b[n.type]),"unknown"!==n.density&&i.default.h("span",{class:"projectPreviewDensity"},n.density))),!l&&i.default.h("button",{type:"button",class:"joinProject",onclick:this.handleJoinClick},o?i.default.h("img",{src:a.b("img/icSpinnerWhite.svg"),class:"spinning"}):i.default.h("span",null,"Join"),i.default.h(r.a,{class:"peach"}))),m(n.users,u),function(e){return e&&e.length?i.default.h("div",{class:"projectPreviewScreens"},e.map(p)):i.default.h("div",{class:"projectPreviewScreensEmpty"},i.default.h("h1",null,"No designs in this project yet!"),i.default.h("h3",null,"Join and upload the first!"))}(n.screens))}}},function(e,t,n){"use strict";var i=n(396);t.a=i.a},function(e,t,n){"use strict";var i=n(0),a=n(397),s=n(3);t.a=class extends i.default.Component{constructor(e){super(e),this.handleLoad=this.handleLoad.bind(this),this.state={loading:!0}}handleLoad(){this.setState({loading:!1})}render(e,t){const n=Object(s.a)({loading:t.loading},"projectPreviewScreen","noSelect");return i.default.h("div",{class:n,style:{height:e.height}},i.default.h(a.a,{source:e.source,onLoad:this.handleLoad}))}}},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(11),o=n(2),r=n.n(o);class l extends i.default.Component{componentDidMount(){const{source:e}=this.props;e&&Object(a.Q)(this.nodeRefs.img,e)}componentWillReceiveProps(e){const{source:t}=e,{source:n}=this.props;t&&n!==t&&Object(a.Q)(this.nodeRefs.img,t)}render(){const e=Object.assign({},this.props);return delete e.source,delete e.src,delete e.srcset,i.default.h("img",Object.assign(e,{ref:Object(s.a)(this,"img")}))}}l.propTypes={source:r.a.string.isRequired},t.a=l},function(e,t){},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return r});var i=n(1);const a=Object.freeze(["yellow","orange","peach","green","turquoise","cornflowerBlue","deepPurple"]),s={fecf33:"yellow",f69833:"orange",ee6723:"peach",c8cf2d:"green","0dcfda":"turquoise","419bf9":"cornflowerBlue",db7cee:"deepPurple"};function o(e){return s[e]}function r(e,t){if(!e.comments||!e.comments.length)return!1;const n=Object(i.M)(t.username);return e.comments.some(e=>n.test(e.note)||e.author&&e.author._id===t._id)}},,,,,,,,function(e,t,n){"use strict";var i=n(511);t.a=i.a},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=Object.freeze(["normal","darken","multiply","color-burn","lighten","screen","color-dodge","overlay","soft-light","hard-light","difference","exclusion","hue","saturation","color","luminosity","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","dissolve","linear-burn","linear-dodge","darker-color","lighter-color","vivid-light","linear-light","pin-light","hard-mix","subtract","divide"])},function(e,t,n){"use strict";var i=n(408),a=n(33),s=n(517),o=n(50),r=["color","gradient"];function l(e,t,n){var o=Object.assign({},e);if(o.type=o.fillType,delete o.fillType,"color"===o.type)o.color=new a.a(o.color),delete o.gradient;else{if("gradient"!==o.type)throw new TypeError("Unknown fill type: '"+o.type+"'. Possible values: "+JSON.stringify(r));o.gradient=new s.a(o.gradient,t,n),delete o.color}Object.defineProperties(this,{type:{get:function(){return o.type},set:function(e){if(-1===r.indexOf(e))throw new TypeError("Unknown fill type: '"+e+"'. Possible values: "+JSON.stringify(r));o.type=e}},color:{get:function(){return o.color},set:function(e){o.type="color",o.color=new a.a(e),delete o.gradient}},gradient:{get:function(){return o.gradient},set:function(e){o.type="gradient",o.gradient=new s.a(e,t,n),delete o.color}},opacity:{get:function(){return o.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");o.opacity=e}},blendMode:{get:function(){return o.blendMode},set:function(e){if(-1===i.a.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(i.a));o.blendMode=e}},fill:{get:function(){return"color"===o.type?this.color:this.gradient},set:function(){}}})}l.prototype=Object.create(o.a.prototype),l.prototype.constructor=l,l.prototype.toObject=function(){var e={fillType:this.type,opacity:this.opacity,blendMode:this.blendMode,fill:this.fill.toObject()};return this.color?e.color=this.color.toObject():this.gradient&&(e.gradient=this.gradient.toObject()),e},t.a=l},function(e,t,n){e.exports=n(526)},function(e,t,n){"use strict";(function(t){var i=n(185);e.exports=v;var a,s=n(527);v.ReadableState=b;n(367).EventEmitter;var o=function(e,t){return e.listeners(t).length},r=n(412),l=n(186).Buffer,c=t.Uint8Array||function(){};var d=n(173);d.inherits=n(156);var u=n(528),h=void 0;h=u&&u.debuglog?u.debuglog("stream"):function(){};var p,m=n(529),f=n(413);d.inherits(v,r);var g=["error","close","destroy","pause","resume"];function b(e,t){a=a||n(147),e=e||{};var i=t instanceof a;this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var s=e.highWaterMark,o=e.readableHighWaterMark,r=this.objectMode?16:16384;this.highWaterMark=s||0===s?s:i&&(o||0===o)?o:r,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(414).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function v(e){if(a=a||n(147),!(this instanceof v))return new v(e);this._readableState=new b(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),r.call(this)}function y(e,t,n,i,a){var s,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,k(e)}(e,o)):(a||(s=function(e,t){var n;(function(e){return l.isBuffer(e)||e instanceof c})(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(o,t)),s?e.emit("error",s):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),i?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):C(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?C(e,o,t,!1):j(e,o)):C(e,o,t,!1))):i||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function C(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&k(e)),j(e,t)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=f.destroy,v.prototype._undestroy=f.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=l.from(e,t),t=""),n=!0),y(this,e,t,!1,n)},v.prototype.unshift=function(e){return y(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(e){return p||(p=n(414).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var w=8388608;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=w?e=w:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(E,e):E(e))}function E(e){h("emit readable"),e.emit("readable"),O(e)}function j(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(x,e,t))}function x(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function D(e){h("readable nexttick read 0"),e.read(0)}function _(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var i;e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,i=1,a=n.data;e-=a.length;for(;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(o===s.length?a+=s:a+=s.slice(0,e),0===(e-=o)){o===s.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++i}return t.length-=i,a}(e,t):function(e,t){var n=l.allocUnsafe(e),i=t.head,a=1;i.data.copy(n),e-=i.data.length;for(;i=i.next;){var s=i.data,o=e>s.length?s.length:e;if(s.copy(n,n.length-e,0,o),0===(e-=o)){o===s.length?(++a,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=s.slice(o));break}++a}return t.length-=a,n}(e,t);return i}(e,t.buffer,t.decoder),n);var n}function T(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function I(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}v.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?T(this):k(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&T(this),null;var i,a=t.needReadable;return h("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",a=!0),t.ended||t.reading?h("reading or ended",a=!1):a&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(n,t))),null===(i=e>0?L(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&T(this)),null!==i&&this.emit("data",i),i},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,t){var n=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,h("pipe count=%d opts=%j",a.pipesCount,t);var r=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?c:v;function l(t,i){h("onunpipe"),t===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),e.removeListener("close",g),e.removeListener("finish",b),e.removeListener("drain",d),e.removeListener("error",f),e.removeListener("unpipe",l),n.removeListener("end",c),n.removeListener("end",v),n.removeListener("data",m),u=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function c(){h("onend"),e.end()}a.endEmitted?i.nextTick(r):n.once("end",r),e.on("unpipe",l);var d=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,O(e))}}(n);e.on("drain",d);var u=!1;var p=!1;function m(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==I(a.pipes,e))&&!u&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function f(t){h("onerror",t),v(),e.removeListener("error",f),0===o(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",b),v()}function b(){h("onfinish"),e.removeListener("close",g),v()}function v(){h("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",f),e.once("close",g),e.once("finish",b),e.emit("pipe",n),a.flowing||(h("pipe resume"),n.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var i=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<a;s++)i[s].emit("unpipe",this,n);return this}var o=I(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},v.prototype.on=function(e,t){var n=r.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var a=this._readableState;a.endEmitted||a.readableListening||(a.readableListening=a.needReadable=!0,a.emittedReadable=!1,a.reading?a.length&&k(this):i.nextTick(D,this))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(_,e,t))}(this,e)),this},v.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var a in e.on("end",function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(a){(h("wrapped data"),n.decoder&&(a=n.decoder.write(a)),!n.objectMode||null!==a&&void 0!==a)&&((n.objectMode||a&&a.length)&&(t.push(a)||(i=!0,e.pause())))}),e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var s=0;s<g.length;s++)e.on(g[s],this.emit.bind(this,g[s]));return this._read=function(t){h("wrapped _read",t),i&&(i=!1,e.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=L}).call(t,n(64))},function(e,t,n){e.exports=n(367).EventEmitter},function(e,t,n){"use strict";var i=n(185);function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i.nextTick(a,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(i.nextTick(a,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var i=n(186).Buffer,a=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===a||!a(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=r,t=4;break;case"base64":this.text=d,this.end=u,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function r(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function d(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},s.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var a=o(t[i]);if(a>=0)return a>0&&(e.lastNeed=a-1),a;if(--i<n||-2===a)return 0;if((a=o(t[i]))>=0)return a>0&&(e.lastNeed=a-2),a;if(--i<n||-2===a)return 0;if((a=o(t[i]))>=0)return a>0&&(2===a?a=0:e.lastNeed=a-3),a;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=s;var i=n(147),a=n(173);function s(e){if(!(this instanceof s))return new s(e);i.call(this,e),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){r(e,t,n)}):r(this,null,null)}function r(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a.inherits=n(156),a.inherits(s,i),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var a=this._readableState;(i.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var n=this;i.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){"use strict";var i=n(32),a=n(72),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,n,a,o,r,l,c,d=[],u=0,h=e.length,p=h,m="string"!==i.getTypeOf(e);u<e.length;)p=h-u,m?(t=e[u++],n=u<h?e[u++]:0,a=u<h?e[u++]:0):(t=e.charCodeAt(u++),n=u<h?e.charCodeAt(u++):0,a=u<h?e.charCodeAt(u++):0),o=t>>2,r=(3&t)<<4|n>>4,l=p>1?(15&n)<<2|a>>6:64,c=p>2?63&a:64,d.push(s.charAt(o)+s.charAt(r)+s.charAt(l)+s.charAt(c));return d.join("")},t.decode=function(e){var t,n,i,o,r,l,c=0,d=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var u,h=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===s.charAt(64)&&h--,e.charAt(e.length-2)===s.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=a.uint8array?new Uint8Array(0|h):new Array(0|h);c<e.length;)t=s.indexOf(e.charAt(c++))<<2|(o=s.indexOf(e.charAt(c++)))>>4,n=(15&o)<<4|(r=s.indexOf(e.charAt(c++)))>>2,i=(3&r)<<6|(l=s.indexOf(e.charAt(c++))),u[d++]=t,64!==r&&(u[d++]=n),64!==l&&(u[d++]=i);return u}},function(e,t){var n=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(540);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,a){return e.call(t,n,i,a)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var i=n(370),a=n(188).document,s=i(a)&&i(a.createElement);e.exports=function(e){return s?a.createElement(e):{}}},function(e,t,n){"use strict";(function(t){var i=n(32),a=n(553),s=n(51),o=n(416),r=n(72),l=n(174),c=null;if(r.nodestream)try{c=n(554)}catch(e){}function d(e,n){return new l.Promise(function(a,s){var r=[],l=e._internalType,c=e._outputType,d=e._mimeType;e.on("data",function(e,t){r.push(e),n&&n(t)}).on("error",function(e){r=[],s(e)}).on("end",function(){try{var e=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return o.encode(t);default:return i.transformTo(e,t)}}(c,function(e,n){var i,a=0,s=null,o=0;for(i=0;i<n.length;i++)o+=n[i].length;switch(e){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(s=new Uint8Array(o),i=0;i<n.length;i++)s.set(n[i],a),a+=n[i].length;return s;case"nodebuffer":return t.concat(n);default:throw new Error("concat : unsupported type '"+e+"'")}}(l,r),d);a(e)}catch(e){s(e)}r=[]}).resume()})}function u(e,t,n){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=n,i.checkSupport(o),this._worker=e.pipe(new a(o)),e.lock()}catch(e){this._worker=new s("error"),this._worker.error(e)}}u.prototype={accumulate:function(e){return d(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){i.delay(t,arguments,n)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=u}).call(t,n(172).Buffer)},function(e,t,n){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},function(e,t,n){"use strict";var i=n(32),a=n(51);function s(e){a.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}i.inherits(s,a),s.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=s},function(e,t,n){"use strict";var i=n(32),a=n(51);function s(e){a.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(s,a),s.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}a.prototype.processChunk.call(this,e)},e.exports=s},function(e,t,n){"use strict";var i=n(51),a=n(373);function s(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n(32).inherits(s,i),s.prototype.processChunk=function(e){this.streamInfo.crc32=a(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=s},function(e,t,n){"use strict";var i=n(51);t.STORE={magic:"\0\0",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},t.DEFLATE=n(557)},function(e,t,n){"use strict";e.exports=function(e,t,n,i){for(var a=65535&e|0,s=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{s=s+(a=a+t[i++]|0)|0}while(--o);a%=65521,s%=65521}return a|s<<16|0}},function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,a){var s=i,o=a+n;e^=-1;for(var r=a;r<o;r++)e=e>>>8^s[255&(e^t[r])];return-1^e}},function(e,t,n){"use strict";var i=n(73),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var o=new i.Buf8(256),r=0;r<256;r++)o[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;function l(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,t.string2buf=function(e){var t,n,a,s,o,r=e.length,l=0;for(s=0;s<r;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<r&&56320==(64512&(a=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(a-56320),s++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(l),o=0,s=0;o<l;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<r&&56320==(64512&(a=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(a-56320),s++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,a=t.length;n<a;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,i,a,s,r=t||e.length,c=new Array(2*r);for(i=0,n=0;n<r;)if((a=e[n++])<128)c[i++]=a;else if((s=o[a])>4)c[i++]=65533,n+=s-1;else{for(a&=2===s?31:3===s?15:7;s>1&&n<r;)a=a<<6|63&e[n++],s--;s>1?c[i++]=65533:a<65536?c[i++]=a:(a-=65536,c[i++]=55296|a>>10&1023,c[i++]=56320|1023&a)}return l(c,i)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+o[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},function(e,t,n){"use strict";var i=n(32),a=n(72),s=n(434),o=n(571),r=n(572),l=n(436);e.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||a.uint8array?"nodebuffer"===t?new r(e):a.uint8array?new l(i.transformTo("uint8array",e)):new s(i.transformTo("array",e)):new o(e)}},function(e,t,n){"use strict";var i=n(435);function a(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}n(32).inherits(a,i),a.prototype.byteAt=function(e){return this.data[this.zero+e]},a.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),a=e.charCodeAt(3),s=this.length-4;s>=0;--s)if(this.data[s]===t&&this.data[s+1]===n&&this.data[s+2]===i&&this.data[s+3]===a)return s-this.zero;return-1},a.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),a=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&n===s[1]&&i===s[2]&&a===s[3]},a.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=a},function(e,t,n){"use strict";var i=n(32);function a(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=a},function(e,t,n){"use strict";var i=n(434);function a(e){i.call(this,e)}n(32).inherits(a,i),a.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=a},function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return m});var i,a,s,o,r,l,c=n(1),d=0,u=[],h=!1;function p(e){s&&!s.classList.contains("hidden")&&m(),l=e.cb.autoComplete,s=e.elements.suggestedListContainer,o=s.querySelector(".suggestedListBox"),r=e.elements.textContainer,d=e.index,u=e.list,i=0,a=0,s.classList.remove("hidden");var t=o.querySelector(".suggestedItem[data-index='"+d+"']");t.classList.add("selected"),c.S(t),h||(h=!0,o.addEventListener("mousemove",g),o.addEventListener("click",b),r.addEventListener("keydown",f,!0))}function m(){if(h&&(r.removeEventListener("keydown",f,!0),o.removeEventListener("mousemove",g),o.removeEventListener("click",f)),s&&!s.classList.contains("hidden")){var e=o.querySelector(".suggestedItem.selected");e&&e.classList.remove("selected"),s.classList.add("hidden"),s.innerHTML="",o.innerHTML="",r=null,h=!1,u=[],d=0}}function f(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),l(u[o.querySelector(".suggestedItem.selected").dataset.index]);break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),m();break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),d<u.length-1&&v(++d);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),d>0&&v(--d)}}function g(e){if(e.stopPropagation(),i!==e.clientX||a!==e.clientY){var t=e.target.closest(".suggestedItem");t.classList.contains("selected")||v(t.dataset.index),i=e.clientX,a=e.clientY}}function b(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest(".suggestedItem");l(u[t.dataset.index])}function v(e){d=e;var t=o.querySelector(".suggestedItem.selected");t&&t.classList.remove("selected");var n=o.querySelector(".suggestedItem[data-index='"+d+"']");n&&(n.classList.add("selected"),c.S(n))}},function(e,t,n){"use strict";var i=n(597);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(624);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(625);t.a=i.a},function(e,t,n){"use strict";t.a={ADD_COLOR:"addColor",REMOVE_COLOR:"removeColor",UPDATE_COLOR:"updateColor",ADD_TEXT_STYLE:"addTextStyle",REMOVE_TEXT_STYLE:"removeTextStyle",UPDATE_TEXT_STYLE:"updateTextStyle",SET_PREF:"setPref",RENAME_ASSET:"renameAsset",DOWNLOAD_ASSET:"downloadAsset",DOWNLOAD_MULTIPLE_ASSET:"downloadMultipleAsset",OPEN_EXTENSION_SETTINGS:"openExtensionSettings",OPEN_SCREEN_FROM_COMPONENT:"openScreenFromComponent",OPEN_COMPONENT_FROM_LAYER:"openComponentFromLayer",CHANGE_EXPORT_TARGET:"changeExportTarget",OPEN_EXPORT_TARGET:"openExportTarget",RENAME_PROJECT:"renameProject",OPEN_DENSITY_CHANGE_MODAL:"openDensityChangeModal",COPY_WEB_LINK:"copyWebLink",COPY_APP_URI:"copyAppURI",ADD_TO_SLACK:"addToSlack",OPEN_SHARE_SCENE_DIALOG:"openShareSceneDialog",COPY_SCENE_LINK:"copySceneLink",UNSHARE_SCENE:"unshareScene",OPEN_SLACK_PREFERENCES:"openSlackPreferences",REMOVE_SLACK_INTEGRATION:"removeSlackIntegration",HIDE_SLACK_RECONNECTION_AUNTIE:"hideSlackReconnectionAuntie",RECONNECT_SLACK_INTEGRATION:"reconnectSlackIntegration",ASSIGN_ADMIN:"assignAdmin",UNASSIGN_ADMIN:"unassignAdmin",TRANSFER_OWNERSHIP:"transferOwnership",REMOVE_MEMBER:"removeMember",LEAVE:"leave",SET_SECTION_HEADERS_PADDING:"setSectionHeadersPadding",OPEN_LINK:"openLink",SHOW_INVITE_POPUP:"showInvitePopup",RENAME_SECTION:"renameSection",CHANGE_SECTION_DESCRIPTION:"changeSectionDescription",COPY_SECTION_WEB_LINK:"copySectionWebLink",COPY_SECTION_APP_URI:"copySectionAppURI",DOWNLOAD_SECTION_SCREEN_IMAGES:"downloadSectionScreenImages",OPEN_SECTION_MOVE_DIALOG:"openSectionMoveDialog",SECTION_DELETE:"deleteSection",RENAME_SCREEN:"renameScreen",OPEN_MANAGE_TAGS_POPUP:"openManageTagsPopup",SET_SCREEN_AS_PROJECT_THUMBNAIL:"setScreenAsThumbnail",DOWNLOAD_SCREEN_IMAGE:"downloadScreenImage",COPY_SCREEN_WEB_LINK:"copyScreenWebLink",COPY_SCREEN_APP_URI:"copyScreenAppURI",OPEN_MOVE_SCREEN_DIALOG:"openMoveScreenDialog",DELETE_SCREEN:"deleteScreen",SEND_COPY_EXTENSION_CODE_EVENTS:"sendCopyExtensionCodeEvents"}},function(e,t,n){"use strict";var i=n(45);n.d(t,"a",function(){return i.a})},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(644);n.n(s);t.a=function(e){const{class:t,disabled:n,full:s}=e,o=Object(a.a)("slackLogo",t,{disabled:n});return s?i.default.h("svg",{width:"87",height:"22",class:o},i.default.h("path",{d:"M4.71 13.86a2.28 2.28 0 1 1-2.28-2.29H4.7v2.29zM5.86 13.86a2.28 2.28 0 1 1 4.57 0v5.71a2.28 2.28 0 1 1-4.57 0v-5.71z"}),i.default.h("path",{d:"M8.14 4.68a2.28 2.28 0 1 1 2.29-2.29v2.29H8.14zM8.14 5.84a2.28 2.28 0 1 1 0 4.57H2.41a2.28 2.28 0 1 1 0-4.57h5.73z"}),i.default.h("path",{d:"M17.3 8.12a2.28 2.28 0 1 1 2.3 2.3h-2.3v-2.3zM16.16 8.12a2.28 2.28 0 1 1-4.57 0V2.4a2.28 2.28 0 1 1 4.57 0v5.73z"}),i.default.h("path",{d:"M13.88 17.29a2.28 2.28 0 1 1-2.3 2.28V17.3h2.3zM13.88 16.14a2.28 2.28 0 1 1 0-4.57h5.73a2.28 2.28 0 1 1 0 4.57h-5.73z"}),i.default.h("path",{class:"text",d:"M27.63 17.24l1.07-2.5a7.16 7.16 0 0 0 4.23 1.32c1.13 0 1.84-.43 1.84-1.1-.02-1.83-6.74-.4-6.8-5-.01-2.34 2.07-4.14 5.01-4.14 1.75 0 3.5.43 4.75 1.42l-1 2.55a7.58 7.58 0 0 0-3.92-1.25c-.92 0-1.52.43-1.52.99.01 1.8 6.79.81 6.85 5.21 0 2.4-2.02 4.07-4.93 4.07-2.13 0-4.09-.5-5.58-1.57m41.21-3.4a3.1 3.1 0 1 1 0-3.05l2.96-1.64a6.5 6.5 0 1 0 0 6.34l-2.96-1.65zM39.63.44h3.71v18.14h-3.7zm33.62 0v18.13h3.71v-5.44l4.4 5.44h4.75l-5.6-6.46 5.18-6.03h-4.54l-4.19 5V.45zM54.36 13.88a3.42 3.42 0 0 1-2.9 1.54 3.1 3.1 0 1 1 0-6.2c1.25 0 2.36.69 2.9 1.59v3.07zm0-7.8v1.47c-.6-1.02-2.11-1.73-3.7-1.73-3.25 0-5.81 2.88-5.81 6.48 0 3.6 2.56 6.51 5.82 6.51 1.58 0 3.08-.7 3.69-1.73v1.47h3.7V6.08h-3.7z"})):i.default.h("svg",{width:"16",height:"16",class:o},i.default.h("path",{d:"M3.406 10.09c0 .916-.748 1.665-1.664 1.665A1.669 1.669 0 0 1 .077 10.09c0-.916.749-1.664 1.665-1.664h1.664v1.664zM4.245 10.09c0-.916.749-1.664 1.665-1.664s1.664.748 1.664 1.664v4.168c0 .916-.748 1.665-1.664 1.665a1.669 1.669 0 0 1-1.665-1.665V10.09z"}),i.default.h("path",{d:"M5.91 3.406a1.669 1.669 0 0 1-1.665-1.664c0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665v1.664H5.91zM5.91 4.245c.916 0 1.664.749 1.664 1.665S6.826 7.574 5.91 7.574H1.742A1.669 1.669 0 0 1 .077 5.91c0-.916.749-1.665 1.665-1.665H5.91z"}),i.default.h("path",{d:"M12.594 5.91c0-.916.748-1.665 1.664-1.665.916 0 1.665.749 1.665 1.665s-.749 1.664-1.665 1.664h-1.664V5.91zM11.755 5.91c0 .916-.749 1.664-1.665 1.664A1.669 1.669 0 0 1 8.426 5.91V1.742c0-.916.748-1.665 1.664-1.665.916 0 1.665.749 1.665 1.665V5.91z"}),i.default.h("path",{d:"M10.09 12.594c.916 0 1.665.748 1.665 1.664 0 .916-.749 1.665-1.665 1.665a1.669 1.669 0 0 1-1.664-1.665v-1.664h1.664zM10.09 11.755a1.669 1.669 0 0 1-1.664-1.665c0-.916.748-1.664 1.664-1.664h4.168c.916 0 1.665.748 1.665 1.664 0 .916-.749 1.665-1.665 1.665H10.09z"}))}},function(e,t,n){"use strict";var i=n(653);t.a=i.a},function(e,t,n){"use strict";var i=n(655);t.a=i.a},function(e,t,n){"use strict";t.a=function(e){var t,n=new URL(e);switch(n.hostname){case"www.bitbucket.org":case"www.github.com":case"www.gitlab.com":case"bitbucket.org":case"github.com":case"gitlab.com":var i=n.hostname.split(".");t=i[i.length-2];break;case"www.twitter.com":case"twitter.com":t=n.pathname.split("/")[1]||e.replace(/https?:\/\//,"");break;default:t=e.replace(/https?:\/\//,"")}return{url:e,text:t}}},function(e,t,n){"use strict";var i=n(449),a=n(450),s=n(451),o=n(39),r=n(381);const l={loadExtensions(e,t){s.a.getEnabledExtensions(e.id).then(n=>{if(n.length>0)return n;let i=t.filter(e=>e.default).map(e=>e.id);return 0===i.length&&1===t.length&&(i=[t[0].id]),s.a.setEnabledExtensions(e.id,i),i}).then(n=>{a.a.dispatch({type:i.a.LOAD_EXTENSIONS,project:e,extensions:t,enabledExtensions:Array.from(n)})})},updateExtensionOption(e,t,n){a.a.dispatch({type:i.a.UPDATE_EXTENSION_OPTION,id:e,name:t,value:n})},enableExtension(e){a.a.dispatch({type:i.a.ENABLE_EXTENSION,id:e})},disableExtension(e){a.a.dispatch({type:i.a.DISABLE_EXTENSION,id:e})},removeExtension(e,t,n=!1){a.a.dispatch({type:i.a.REMOVE_EXTENSION_REQUESTED,pid:e,id:t}),(n?Promise.resolve():Object(o.B)(e,t)).then(()=>{a.a.dispatch({type:i.a.REMOVE_EXTENSION_SUCCESS,pid:e,id:t}),n||mixpanel.webapp.track("Removed extension",{extension:t})}).catch(n=>{a.a.dispatch({type:i.a.REMOVE_EXTENSION_FAIL,pid:e,id:t,error:n})})},addExtension(e,t){Object(o.a)(e.id,t).then(e=>{const t=new r.a(e);a.a.dispatch({type:i.a.ADD_EXTENSION_REQUESTED,extension:t,local:!1})})},addLocalExtension(e){a.a.dispatch({type:i.a.ADD_EXTENSION_REQUESTED,extension:e,local:!0})},loadExtension(e,t){t.load(e).then(()=>{a.a.dispatch({type:i.a.LOAD_EXTENSION,extension:t})})},reloadLocalExtensions(){a.a.dispatch({type:i.a.RELOAD_LOCAL_EXTENSIONS})}};t.a=l},function(e,t,n){"use strict";t.a={LOAD_EXTENSIONS:"loadExtensions",ADD_EXTENSION_REQUESTED:"addExtensionRequested",ADD_EXTENSION:"addExtension",ADD_LOCAL_EXTENSION:"addLocalExtension",LOAD_EXTENSION:"loadExtension",RELOAD_LOCAL_EXTENSIONS:"reloadLocalExtensions",REMOVE_EXTENSION_REQUESTED:"removeExtensionRequested",REMOVE_EXTENSION_SUCCESS:"removeExtensionSuccess",REMOVE_EXTENSION_FAIL:"removeExtensionFail",ENABLE_EXTENSION:"enableExtension",DISABLE_EXTENSION:"disableExtension",UPDATE_EXTENSION_OPTION:"updateExtensionOption"}},function(e,t,n){"use strict";var i=n(45);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(23);t.a={disableExtension:function(e,t){return i.b.get(e,"extensions").then(function(n){const a=n.filter(e=>e!==t);return i.b.set(e,"extensions",a)})},enableExtension:function(e,t){return i.b.get(e,"extensions").then(n=>(n.push(t),i.b.set(e,"extensions",n)))},getEnabledExtensions:function(e){return i.b.get(e,"extensions")},setEnabledExtensions:function(e,t){return i.b.set(e,"extensions",t)}}},function(e,t,n){"use strict";var i=n(682);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(684);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(700);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(702);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(706);t.a=i.a},function(e,t,n){"use strict";var i=n(707);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});const i="A sweet, short description."},function(e,t,n){"use strict";t.a={UPDATE_COMPONENT:"updateComponent",UPDATE_COMPONENT_SECTION:"updateComponentSection",COPY_SECTION_WEB_LINK:"copySectionWebLink",COPY_SECTION_APP_URI:"copySectionAppURI",DELETE_SECTION:"deleteSection"}},function(e,t,n){"use strict";var i=n(45);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(726);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(731);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a={SET_PREF:"setPref"}},function(e,t,n){"use strict";var i=n(45);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(745);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(746);t.a=i.a},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return o});var i=n(163);const a={png:0,jpg:1,svg:2,pdf:3};function s(e,t){return a[e]-a[t]}function o(e,t){return"default"===t?e.displayName:"original"===t?e.layerName:Object(i.a)(e.layerName,t)}},function(e,t,n){"use strict";var i=n(755);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(758);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(759);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(761);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(763);n.d(t,"a",function(){return i.a})},function(e,t){},function(e,t,n){"use strict";var i=n(785);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(800);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(852);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(871);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var i=n(0),a=n(57),s=n(179),o=n(384),r=n(886),l=n(148),c=n(3),d=n(1),u=n(912);n.n(u);const h=[{id:"info",title:"Information"},{id:"colors",title:"Colors"},{id:"assets",title:"Assets"},{id:"notes",title:"Notes"}];t.b=class extends i.default.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleTabChange=this.handleTabChange.bind(this),this.state={selectedTab:h[0].id}}get selectedView(){return"layerDetails"in this.props?"layerDetails":"resourceView"}handleTabChange(e){this.setState({selectedTab:e})}handleDocumentClick(e){this.base.contains(e.target)||"layerDetails"!==this.selectedView||this.props.onCloseLayerView()}componentDidMount(){document.addEventListener("click",this.handleDocumentClick)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick)}getChildContext(){const{projectId:e,projectType:t,screenId:n,screenName:i,projectUser:a}=this.props;return{projectId:e,projectType:t,screenId:n,screenName:i,projectUser:a,userRole:a.role,permissions:{canManageColors:d.O.canManageColors(a),canManageScreens:d.O.canManageColors(a),canManageTextStyles:d.O.canManageTextStyles(a)}}}render(e){const{layerDetails:t,resources:n,initialWidth:u,onCloseLayerView:h}=e,p="resourceView"===this.selectedView;return i.default.h(l.a,{class:"screenSidebar",resizingSide:"left",initialWidth:u,minWidth:260,onRelease:a.b.setScreenSidebarWidth},i.default.h("div",{class:"sidebarViews",onClick:d.Z},i.default.h("div",{class:Object(c.a)("sidebarView",{scrollable:p})},p?i.default.h(r.a,Object.assign({selectedTab:this.state.selectedTab,onTabChange:this.handleTabChange},n)):i.default.h(o.a,Object.assign({onCopyCode:s.b.copyLayerCode,onCopyContent:s.b.copyLayerContent,onCloseClick:h},t)))))}}},function(e,t,n){"use strict";var i=n(896);t.a=i.a},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a,s,o,r,l,c,d,u,h,p,m,f,g,b,v,y,C,w,S,k,E=n(18),j=n.n(E),x=(n(195),n(196),n(74),n(301),n(334),n(335),n(27)),D=n(42),_=n(9),O=n(510),L=n(1),T=n(23),R=n(10),I=n(364),A=n(29),N=n(53),P=n(513),M=n(514),U=n(33),B=n(71),z=n(184),F=n(366),q=n(520),H=n.n(q),W=n(521),Z=n.n(W),V=n(17),$=n.n(V),G=n(574),Y=n(163),K=n(575),X=n(576),J=n(578),Q=n(579),ee=n(580),te=n(375),ne=n(376),ie=n(4),ae=n(0),se=n(581),oe=n(587),re=n(613),le=n(616),ce=n(649),de=n(669),ue=n(672),he=n(840),pe=n(175),me=n(169),fe=n(57),ge=n(179),be=n(177),ve=n(178),ye=n(381),Ce=n(39),we=n(37),Se=n(394),ke=n(885),Ee=n(382),je=n(399),xe=n(154),De=document.getElementById("loading"),_e=document.querySelector(".projectOverview"),Oe=document.getElementById("screenCount"),Le=document.getElementById("tags"),Te=document.getElementById("taglessProjectInfoLine"),Re=document.getElementById("resetTags"),Ie=document.getElementById("densityDialog"),Ae=document.getElementById("densityDialogSubmitButton"),Ne=document.getElementById("densityHelp"),Pe=document.getElementById("densityTooltip"),Me=document.querySelector("title"),Ue=document.getElementById("dashboardTab"),Be=document.getElementById("styleguideTab"),ze=document.querySelector("header"),Fe=document.querySelector(".headerTitle"),qe=document.getElementById("upLink"),He=document.getElementById("arrowLeft"),We=document.getElementById("arrowRight"),Ze=document.getElementById("header"),Ve=document.getElementById("headerExtra"),$e=document.getElementById("inviteUserPopup"),Ge=document.getElementById("inviteUserPopupAnchor"),Ye=document.getElementById("shareSceneDialog"),Ke=document.getElementById("zoomIn"),Xe=document.getElementById("zoomDropdownLabel"),Je=document.getElementById("zoomDropdown"),Qe=document.getElementById("zoomOut"),et=document.getElementById("maymusCheckbox"),tt=document.getElementById("screenView"),nt=document.getElementById("dotgrid"),it=document.getElementById("screenContainer"),at=document.getElementById("cursorImage"),st=document.getElementById("dots"),ot=document.getElementById("dotPopup"),rt=document.getElementById("dotPopupAnchor"),lt=document.getElementById("dotColors"),ct=document.getElementById("dotComments"),dt=document.getElementById("newComment"),ut=document.getElementById("newCommentButtons"),ht=document.getElementById("newCommentButton"),pt=document.getElementById("newCommentMirror"),mt=document.getElementById("newCommentNote"),ft=document.getElementById("newCommentSendButton"),gt=document.getElementById("newCommentArea"),bt=document.getElementById("layers"),vt=document.getElementById("links"),yt=document.getElementById("rulers"),Ct=document.getElementById("topRuler"),wt=document.getElementById("rightRuler"),St=document.getElementById("bottomRuler"),kt=document.getElementById("leftRuler"),Et=document.getElementById("leftDistance"),jt=document.getElementById("leftDistanceValue"),xt=document.getElementById("rightDistance"),Dt=document.getElementById("rightDistanceValue"),_t=document.getElementById("topDistance"),Ot=document.getElementById("topDistanceValue"),Lt=document.getElementById("bottomDistance"),Tt=document.getElementById("bottomDistanceValue"),Rt=document.getElementById("layoutGridContainer"),It=document.getElementById("screenImage"),At=document.getElementById("suggestedUsersContainer"),Nt=document.getElementById("suggestedEmojisContainer"),Pt=document.getElementById("searchScreenContainer"),Mt=document.getElementById("screenSearchText"),Ut=document.getElementById("suggestedScreensContainer"),Bt=document.getElementById("jumpToScreen"),zt=document.getElementById("searchPopup"),Ft=document.getElementById("manageTagsContainer"),qt=document.getElementById("createTagContainer"),Ht=qt.querySelector("span"),Wt=document.getElementById("manageTagsPopup"),Zt=document.getElementById("selectTags"),Vt=document.getElementById("tagOfScreenTemplate"),$t=document.getElementById("tagSuggestionTemplate"),Gt=document.getElementById("tagsOfScreen"),Yt=document.getElementById("tagSuggestions"),Kt=document.getElementById("manageTagsDone"),Xt=document.getElementById("tagSearchText"),Jt=document.getElementById("tagMenuTemplate"),Qt=document.getElementById("versionsSidebarResizer"),en=document.querySelector(".versionsSidebarWrapper"),tn=document.getElementById("shareSceneButton"),nn=document.getElementById("cancelShareSceneButton"),an=document.getElementById("sharedSceneContainer"),sn=document.getElementById("unsharedSceneContainer"),on=document.getElementById("sceneShortLink"),rn=document.getElementById("copySceneShortLink"),ln=document.getElementById("openSceneNewTab"),cn=document.getElementById("versionsTutorialCircle"),dn=document.getElementById("screenSearch"),un=document.querySelector(".menuBar"),hn=document.querySelector(".searchArea"),pn=document.getElementById("popoutWidget"),mn=document.getElementById("sortOptions"),fn=document.getElementById("androidResFolderReminderDialog"),gn=document.getElementById("androidResFolderReminderDoneButton"),bn=document.getElementById("sectionTemplate"),vn=document.getElementById("sections"),yn=document.getElementById("sectionDivider"),Cn=document.getElementById("screenStatusIndicator"),wn=document.getElementById("projectStatusIndicator"),Sn={},kn={},En="",jn=!1,xn=-2,Dn=null,_n=null,On=null,Ln=null,Tn="",Rn=null,In=[],An=!1,Nn=!1,Pn=1,Mn=null,Un=null,Bn=L.M(Zeplin.user.username),zn=!1,Fn=[],qn=!0,Hn=!0,Wn=!1,Zn=!1,Vn=6,$n={},Gn=null,Yn=null,Kn=Pi(1100,Cn),Xn=!0,Jn=!1,Qn=!1,ei=!!A.a&&!!A.a.features&&"popout"in A.a.features,ti=!!A.a&&!!A.a.features&&!!A.a.features.integrations&&A.a.features.integrations.slack,ni=!!A.a&&!!A.a.features&&!!A.a.features.revampedMenu,ii=!!A.a&&!!A.a.features&&!!A.a.features.dashboardShortcutIsAltA,ai=!!A.a&&!!A.a.features&&!!A.a.features.webviews,si=!ai,oi=!1,ri=ei&&A.a.features.popout,li=new G.a({mac:document.body.classList.contains("mac")}),ci=!1,di=Pi(700,wn),ui="open",hi=null,pi=document.getElementById("gridCanvas");const mi={defaults:{hideDensityMismatchWarning:!1,hideNoVectorAssetInfo:!1,flowLinkInfoDismissed:!1,hideSourceFileInfo:!1},init(){return T.c.getAll().then(e=>{Object.assign(this,{values:e})})},get(e){return this.values[e]||this.defaults[e]},set(e,t){this.values[e]=t,T.c.set(e,t)}},fi=document.querySelector(".overviewContent .previewContent"),gi=new we.a(Se.a,fi),bi=document.querySelector(".screenContent"),vi=new we.a(ke.a,bi),yi=document.querySelector(".tabContent.styleguideContent");let Ci=new we.a(ue.a,yi);const wi=new we.a(de.a,bt),Si=document.querySelector(".noScreensRoot"),ki=new we.a(oe.a,Si),Ei=document.querySelector(".projectOverviewLoadingRoot"),ji=new we.a(re.a,Ei),xi=document.querySelector(".projectSidebarRoot"),Di=new we.a(le.a,xi);let _i,Oi=!0;const Li={selectedTab:"colorsAndFonts",selectedStyleguideId:"local",selectedSection:"colors",sortType:"default",filterValue:"",cseid:"",selectionComponent:null,selection:null},Ti={jpg:"image/jpeg",js:"application/javascript",javascript:"application/javascript",pdf:"application/pdf",png:"image/png",svg:"image/svg+xml",xml:"application/xml"},Ri={fecf33:"yellow",f69833:"orange",ee6723:"peach",c8cf2d:"green","0dcfda":"turquoise","419bf9":"cornflowerBlue",db7cee:"deepPurple"},Ii={yellow:{name:"yellow",r:254,g:207,b:51,a:1},orange:{name:"orange",r:246,g:152,b:51,a:1},peach:{name:"peach",r:238,g:103,b:35,a:1},green:{name:"green",r:200,g:207,b:45,a:1},turquoise:{name:"turquoise",r:13,g:207,b:218,a:1},cornflowerBlue:{name:"cornflowerBlue",r:65,g:155,b:249,a:1},deepPurple:{name:"deepPurple",r:219,g:124,b:238,a:1}};function Ai(){var e=A.a.features.versions?{name:Dn.name,width:_n.snapshot.width,height:_n.snapshot.height,url:_n.snapshot.url}:{name:Dn.name,currentSnapshot:{width:_n.snapshot.width,height:_n.snapshot.height,url:_n.snapshot.url}};A.a.ipcRenderer.send("open-popout",e,i.id)}function Ni(){if(function(){if(!ni||!si||!i)return;N.a.addRecentProject(i),N.a.bindProjectPreferences(i)}(),$s(),Vs(),si){var e=s?L._3("organization-projects",{url:{oid:s._id}}):L._3("projects");"dashboard"===Tn&&"styleguide"===Tn&&(qe.href=e),A.a.ipcRenderer.send("preload-url",e)}}function Pi(e,t){var n=Array.from(t.querySelectorAll(".loadingBar")),i=t.querySelector(".whiteBar"),a=1,s=!1,o=!0;function r(t){return a=(a+1)%9999,t.animate([{transform:"scaleX(0)",zIndex:a},{transform:"scaleX(1)",zIndex:a}],{duration:e,fill:"forwards",easing:"cubic-bezier(0.165, 0.84, 0.44, 1.0)"})}return{start:function(){o&&(s=!1,o=!1,function e(t){r(n[t]).addEventListener("finish",function(){s?o||(r(i),o=!0):e((t+1)%n.length)})}(0))},stop:function(){s||(s=!0)}}}function Mi(e,t){if(A.a)A.a.shell.openExternal(e);else{var n=!0;t&&"inNewTab"in t&&(n=t.inNewTab);var i=window.location;if(n){var a=window.open("","_blank");a.opener=null,i=a.location}i.assign(e)}}function Ui(e,t){return"Your organization role is "+L.D(e.role)+" "+function(e){const t=L.z(e);return"<img src='"+Zeplin.urls.appURL+"/img/"+t+".png' srcset='"+Zeplin.urls.appURL+"/img/"+t+"@2x.png 2x, "+Zeplin.urls.appURL+"/img/"+t+"@3x.png 3x' alt=''>"}(e.role)+", only "+L.D("rook")+"s or higher can "+t}function Bi(e){h=L._4(e),lr(),J.checkStatus()}function zi(e){var t=e.match(/\/project\/([0-9a-z]+)(?:\/screen\/([0-9a-z]+))?/i);if(t){var n={pid:decodeURIComponent(t[1])};return t[2]&&(n.sid=decodeURIComponent(t[2])),n}}_.b.registerDialog(Ie),_.b.registerDialog(Ye),_.b.registerDialog(fn),ne.a(function(){De.classList.remove("hidden"),fetch(Zeplin.urls.baseURL+"/projects/"+i.id,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).then(function(){ca()}).catch(function(e){De.classList.add("hidden"),R.b(e)})}),document.body.classList.toggle("features-popout",ei)?ri&&(pn.classList.remove("disabled"),pn.dataset.tooltip="Pop screen out",A.a.ipcRenderer.on("open-popout",Ai),pn.addEventListener("click",Ai)):pn&&pn.remove(),document.body.classList.toggle("windows-app-dashboard-shortcut-is-alt-a",ii),ni&&(A.a.ipcRenderer.on("new-project",function(){location.assign(L._3("projects",{query:{newProject:"true"}}))}),A.a.ipcRenderer.on("leave-project",function(){_.a({message:'Leave "'+i.name+'"?',done:{name:"LEAVE",cb:function(){jl(Zeplin.user._id)}},cancel:{name:"CANCEL"}})}),A.a.ipcRenderer.on("delete-project",function(){ne.b(i.id,i.name)}),A.a.ipcRenderer.on("delete-screen",function(){_.a({message:'Delete "'+Dn.name+'"?',done:{name:"DELETE SCREEN",cb:function(){_l(Dn._id).then(function(){ua(i.id,Mo())})}},cancel:{name:"CANCEL"}})}),A.a.ipcRenderer.on("set-as-thumbnail",function(){xl(Dn._id).then(function(){$s()})}),A.a.ipcRenderer.on("add-tag",function(){Il(Dn._id)}),A.a.ipcRenderer.on("manage-tags",function(){Il(Dn._id)}),A.a.ipcRenderer.on("dashboard",function(){ua(i.id,Mo())}),A.a.ipcRenderer.on("styleguide",function(){ha(i.id)}),A.a.ipcRenderer.on("zoom-in",Nr),A.a.ipcRenderer.on("zoom-out",Pr),A.a.ipcRenderer.on("actual-size",function(){Pn=1,nt.classList.add("zooming"),Ds()}),A.a.ipcRenderer.on("jump-to-screen",function(){yn.classList.add("hidden"),i.screens&&i.screens.length&&Pt.classList.contains("hidden")&&Go()}),A.a.ipcRenderer.on("show-versions",ks),A.a.ipcRenderer.on("hide-versions",Es),N.a.onOpenRecentProject=function(e){da(L._3("project",{url:{pid:e}}))},N.a.onProjects=ca),document.body.classList.toggle("features-webviews",ai)&&(A.a.ipcRenderer.on("load-url",function(e,t){i&&new URL(t).href.match(/\/project\/([0-9a-z]+)/)[1]===i.id||(oi=!0),da(t)}),A.a.ipcRenderer.on("projects",la),A.a.ipcRenderer.on("active",function(e,t){if(!(si=t))return i&&"dashboard"!==Tn&&ua(i.id,Mo()),zo(),void wc();oi||(Sc(),Ni())}));var Fi=L.x();function qi(){localStorage.setItem("slackState",Fi)}function Hi(e){if(e&&e.length&&Dn&&Dn.dots){var t=e.some(function(e){return"open"===va(e)});t&&"open"!==ui?Tr("open",null):t||"resolved"===ui||Tr("resolved",null),e.forEach(function(e){var t=document.querySelector(".dot[data-id='"+e+"']");t&&va(e)===ui&&t.classList.add("highlight")}),document.querySelector(".dot.highlight")||_.a({message:"Notes not available anymore."})}}function Wi(e){if(e&&e.length)if(Array.isArray(e)){var t,n=On.comments.length;if(e.forEach(function(e){var i=ct.querySelector(".comment[data-id='"+e+"']");i&&i.classList.add("highlight");var a=Array.from(i.parentElement.children).indexOf(i);a<n&&(n=a,t=i)}),t){var i=ot.getBoundingClientRect().top,a=t.getBoundingClientRect().top-i;setTimeout(function(){"scrollBy"in Element.prototype?ct.scrollBy({top:a-24,behavior:"smooth"}):ct.scrollTop+=a-24},200)}else _.a({message:"Comments not available anymore."})}else{var s="string"==typeof e?ct.querySelector(".comment[data-id='"+e+"']"):e;if(!s)return void _.a({message:"Comment not available anymore."});s.classList.add("new"),s.scrollIntoView(),setTimeout(function(){s.classList.add("highlight"),setTimeout(function(){s.classList.remove("highlight"),s.addEventListener("transitionend",function e(){s.removeEventListener("transitionend",e),s.classList.remove("new")})},1e3)},150)}}function Zi(){Array.from(vn.querySelectorAll(".screenLink.highlight")).forEach(function(e){e.classList.remove("highlight")})}function Vi(){var e=L.O.canManageScreens(a);Array.from(vn.querySelectorAll(".screen .screenName")).forEach(function(t){t.readOnly=!e}),Array.from(vn.querySelectorAll(".section .sectionName")).forEach(function(t){t.readOnly=!e}),Array.from(vn.querySelectorAll(".section .sectionDescription")).forEach(function(t){t.readOnly=!e}),document.body.classList.toggle("canManageScreens",e),Te.querySelector(".capableInfoLine").classList.toggle("hidden",!e);var t=Te.querySelector(".unableInfoLine");t.querySelector("span").textContent=L.D("rook"),t.classList.toggle("hidden",e);var n=document.getElementById("manageTagsButton");n&&(n.classList.toggle("disabled",!e),e?(n.dataset.tooltip="Manage tags.",n.dataset.tooltipType="text"):(n.dataset.tooltip=function(e,t){var n=Ui(e,t);return L.m("<p>"+n+"</p><p><a href='https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members' target='_blank'>Learn more</a> about roles or contact organization Admins to update your role!</p>")}(a,"organize screens using tags."),n.dataset.tooltipType="html")),ot.classList.toggle("canRemoveNotes",L.O.canRemoveNotes(a))}function $i(){L.O.canUpdateProject(a)&&ee.a(i.id,i.integration.slacks.map(function(e){return e._id}))}let Gi,Yi,Ki,Xi,Ji,Qi,ea;function ta(e){return e.latestVersion.snapshot.layers?Promise.resolve():fetch(e.latestVersion.fullSnapshotUrl).then(e=>e.ok?e.json():{layers:[]}).then(t=>(t.layers||(t.layers=[]),Oa(t.layers,{x:0,y:0}),t.assets||(t.assets=[]),t.assets.forEach(n=>{Dr(e._id,t,n)}),t)).catch(()=>({layers:[],assets:[]})).then(t=>{e.latestVersion.snapshot=t})}function na(e){ea=e,ir(),ia()}function ia(e){const t=Lr.bind(null,i.id),n=Object.assign({project:i,assetNamingConvention:S,showOptimizedSVG:Yi,bitmapInfoHidden:mi.get("hideNoVectorAssetInfo"),densityWarningHidden:mi.get("hideDensityMismatchWarning"),leftSidebarInitialWidth:Xi,sidebarInitialWidth:Ji,projectUser:a,descriptionFormatter:Xr,onTabChange(e){const t="components"===e?"project-styleguide-components":"project-colors-textstyles";da(L._3(t,{url:{pid:i.id}})),Ci.update(Object.assign(Li,{selectedTab:e}))},onSectionChange(e,t){da(L._3(`project-styleguide-${t.toLowerCase()}`,{url:{pid:i.id}})),Ci.update(Object.assign(Li,{styleguideId:e,section:t}))},onSort(e){Ci.update(Object.assign(Li,{sortType:e}))},onFilter(e){Ci.update(Object.assign(Li,{filterValue:e}))},onComponentSelect(e,t){e&&ll(e),t=e?t:null,Li.selection&&t&&Li.selection._id===t._id||!Li.selection&&!t||Ci.update(Object.assign(Li,{selectionComponent:e,selection:t}))},onComponentsVisible(e){e.length&&("pawn"===a.role&&s&&s.transitionFinished?(e.forEach(e=>{delete e.latestVersion.snapshot.layers,delete e.latestVersion.snapshot.assets}),Ci.update({project:i})):Promise.all(e.map(ta)).then(()=>{Ci.update({project:i})}))},onExportClick:ul,onSettingsClick:t,onManageExtensionsClick:t},Li);ea&&Object.assign(n,{assetExportTarget:{name:ea.projectName,type:ea.projectFolderType,path:ea.projectFolder,pathParts:ea.projectFolderPathParts}}),Ci.render(Object.assign(n,e))}function aa(e){if(Bi(e.users),function(e){var t=x.c.channel(g);function n(t){if(t.params.mid===Zeplin.user._id){if(t.params.uid===Zeplin.user._id)return void ca();var n=qa(t.params.uid,!0),i=n?n.user.username:"Anonymous";_.a({title:i+' removed you from "'+e.name+'".',message:"You won't be able to access its resources from now on.\nIf you think this is a mistake, please contact "+i},{defer:!0}),ca()}else e.removeUser(t.params.mid),Bi(e.users)}t.bind("UpdateProjectDensity",function(e){bl(e.body.density)}),t.bind("UpdateProjectName",function(e){gl(e.body.name)}),t.bind("ArchiveProject",function(t){if(t.params.uid!==Zeplin.user._id){var n=qa(t.params.uid,!0),i=n?n.user.username:"Anonymous";_.a({title:i+' archived "'+e.name+'".',message:"You won't be able to access its resources from now on."+(n?"\nIf you think this is a mistake, please contact "+i:"")},{defer:!0})}ca()}),t.bind("DeleteProject",function(t){if(t.params.uid!==Zeplin.user._id){var n=qa(t.params.uid,!0),i=n?n.user.username:"Anonymous";_.a({title:i+' deleted "'+e.name+'".',message:"You won't be able to access its resources from now on."+(n?"\nIf you think this is a mistake, please contact "+i:"")},{defer:!0})}ca()}),t.bind("InviteUser",function(t){e.addUser(t.body),Bi(e.users)}),t.bind("CreateUser",function(t){e.updateUserInfo(t.params.uid,{username:t.body.username,status:"registered"}),Bi(e.users)}),t.bind("UpdateUsername",nc),t.bind("UpdateEmail",nc),t.bind("UpdateUserEmotar",nc),t.bind("UpdateUserAvatar",nc),t.bind("UpdateUserSubscription",function(t){var n=e.findUser(t.params.uid);n&&(Object.assign(n.user,t.body),"owner"===n.role&&x.a().then(function(t){var i=t.find(function(e){return e.id===n.user.paymentPlan}),a=e.versionLimit;if(e.versionLimit=i.versionLimit,a>e.versionLimit){if(e.screens.forEach(function(t){t.versions.length>e.versionLimit&&(t.versions.length=e.versionLimit)}),Dn){var s=Dn.versions.some(function(e){return e._id===_n._id});s||(ir(),_n=Dn.versions[0],bi.classList.remove("oldVersion"),Hs(Dn),L.V("Displayed version is not available anymore.",document.querySelector("main"))),Dn.versions.length===e.versionLimit&&bi.classList.contains("versionsShown")&&Ss(Dn)}}else a<e.versionLimit&&(e.screens.forEach(function(e){e.totalVersionCount&&e.totalVersionCount>a&&delete e.totalVersionCount}),Dn&&(!Dn.totalVersionCount||Dn.totalVersionCount>a)&&za(Dn).then(function(e){bi.classList.contains("versionsShown")&&Ss(e)}))}))}),t.bind("DeleteUser",function(t){Zeplin.user._id!==t.params.uid&&(e.removeUser(t.params.uid),Bi())}),t.bind("CreateColor",function(e){wl(e.body)}),t.bind("UpdateColor",function(e){kl(e.params.cid,e.body)}),t.bind("UpdateColorsOrder",function(t){t.body.colors.forEach(({_id:t,to:n})=>e.updateColorOrder(t,n)),ia()}),t.bind("DeleteColor",function(e){Sl(e.params.cid)}),t.bind("UpdateScreen",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});Object.assign(n,t.body),"name"in t.body&&(Dn===n&&(ra(),Ze.textContent=t.body.name,Ze.title=t.body.name),No())}),t.bind("UpdateSectionScreens",function(t){if(e.findSection(t.params.seid)){var n=t.body.screens.filter(function(t){return!!e.findScreen(t)});Js(t.params.seid,n,t.body.index)}}),t.bind("UpdateSectionScreensOrder",function(t){var n=e.findScreenSection(t.body.screens[0]._id);n&&(t.body.screens.forEach(function(t){e.updateScreenOrder(n._id,t._id,t.to)}),un.classList.contains("searching")||un.querySelector('#sortOptions input[type="checkbox"]:checked')||No())}),t.bind("UpdateScreensTags",function(t){t.body.screens.forEach(function(t){var n=e.screens.find(function(e){return e._id===t._id});if(n){switch(t.operation){case"add":n.tags=(n.tags||[]).concat(t.tags);break;case"remove":t.tags.forEach(function(e){n.tags.splice(n.tags.indexOf(e),1)})}Dn===n&&($s(),ir()),Ft.classList.contains("hidden")||Tl(e.tags,Rl(Ft.dataset.sid).tags,Xt.value)}}),ts(),"dashboard"===Tn?Bo():No()}),t.bind("DeleteScreen",function(t){var n=e.findScreenSection(t.params.sid);if(n){var i=e.removeScreen(n._id,t.params.sid);if(i&&(ts(),"dashboard"===Tn?Bo():No(),Dn===i)){var a=qa(t.params.uid,!0),s=a?a.user.username:"Anonymous";_.a({title:s+" deleted this screen",message:"You won't be able to access \""+i.name+'" from now on.'}),ua(e.id,Mo())}}}),t.bind("CreateSection",function(t){var n=Object.assign({},t.body);delete n.index,e.addSection(n,t.body.index),No()}),t.bind("UpdateSectionsOrder",function(t){t.body.sections.forEach(function(t){e.updateSectionOrder(t._id,t.to)}),un.classList.contains("searching")||un.querySelector('#sortOptions input[type="checkbox"]:checked')||No()}),t.bind("UpdateSection",function(t){var n=e.findSection(t.params.seid);n&&(Object.assign(n,t.body),No())}),t.bind("DeleteSection",function(t){e.removeSection(t.params.seid),No()}),t.bind("UpdateDot",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots){var i=n.dots.find(function(e){return e._id===t.params.did}),a=document.querySelector(".dot[data-id='"+i._id+"']");if(Object.assign(i,t.body),"color"in t.body){var s=Ri[new U.a(t.body.color).hexBase()];On===i&&(ys(ot),ot.classList.add(s)),a&&(ys(a),a.classList.add(s),a.dataset.color=s)}"x"in t.body&&"y"in t.body&&a&&(tr(),Vl(),a.addEventListener("transitionend",function e(){a.removeEventListener("transitionend",e),a.classList.remove("backToFuture")}),a.classList.add("backToFuture"),a.dataset.position=t.body.x<=.5?"left":"right",a.style.left="calc("+100*t.body.x+"% - 10px)",a.style.top="calc("+100*t.body.y+"% - 10px)"),"status"in t.body&&(On===i&&ot.classList.contains(t.body.status)&&Qo(),a&&(vs(a),a.classList.add(t.body.status))),ir()}}),t.bind("DeleteDot",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots){hl(n,t.params.did);var i=Ea(t.params.sid);if(i){var a=document.querySelector(".dot[data-id='"+t.params.did+"']");a&&(Mn===a&&Qo(),a.remove()),ir()}}}),t.bind("DeleteDotComment",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots){var i,a=n.dots.find(function(e){return e._id===t.params.did});a&&1!==a.comments.length?(pl(a,t.params.cmid),i=document.querySelector(".comment[data-id='"+t.params.cmid+"']")):(hl(n,t.params.did),On===a&&Qo(),i=document.querySelector(".dot[data-id='"+t.params.did+"']")),i&&i.remove(),ir()}}),t.bind("AuthSlack",tc),t.bind("DeleteIntegration",function(t){e.removeIntegration("slacks",t.params.inid),lr()}),t.bind("CreateTextStyle",function(e){Ol(new B.a(e.body))}),t.bind("UpdateTextStyle",function(t){e.removeTextStyle(t.params.tsid),e.addTextStyle(t.body),ia(),ir()}),t.bind("DeleteTextStyle",function(e){ml(e.params.tsid)}),t.bind("UpdateProjectAccessibility",function(t){e.public=t.body.public,e.public&&cl()}),t.bind("UpdateUserRole",function(t){e.changeUserRole(t.params.mid,t.body.role),Bi(e.users),Vi(),ia(),ir(),$s(),"pawn"!==a.role&&D.a("transition")}),t.bind("TransferOwnership",function(t){document.body.classList.toggle("organizationProject",!!t.params.oid),t.body.users.forEach(function(n){e.changeUserRole(n.user._id,n.role),n.user._id===a.user._id&&(Zeplin.user.paymentPlan=n.user.paymentPlan),n.user._id!==t.params.mid&&n.user._id!==t.params.uid||e.changeUserPaymentPlan(n.user._id,n.user.paymentPlan)}),Bi(e.users),ia(),ir(),Vi(),t.params.oid?Ca(e.id).then(function(){"pawn"===a.role&&(s.transitionFinished&&e.screens.forEach(function(e){delete e.versions[0].snapshot.layers,delete e.versions[0].snapshot.assets}),"screen"===Tn&&Hs(Dn))}):(s&&"screen"===Tn&&Hs(Dn),D.a("transition"),s=null)}),t.bind("RemoveUserFromProject",n),t.bind("RemoveMemberFromOrganization",n),t.bind("CreateScreenV3",Ql),t.bind("CreateScreenVersion",ec),t.bind("UpdateScreenVersionCommitColor",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n){var i=n.versions.find(function(e){return e._id===t.params.vid});if(i&&(i.commit=i.commit||{},Object.assign(i.commit,t.body),Dn===n&&bi.classList.contains("versionsShown"))){var a=document.querySelector(".version[data-id='"+t.params.vid+"']");if(!a)return;var s=Ri[new U.a(i.commit.color).hexBase()];ys(a),a.classList.add(s);var o=a.querySelector(".commitMessage");ys(o),o.classList.add(s)}}}),t.bind("UpdateScreenVersionCommitMessage",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n){var i=n.versions.find(function(e){return e._id===t.params.vid});if(i&&(i.commit=i.commit||{},Object.assign(i.commit,t.body),Dn===n&&bi.classList.contains("versionsShown"))){var a=document.querySelector(".version[data-id='"+t.params.vid+"']");if(!a)return;var s=Ra.get(a);s.value=i.commit.message}}}),t.bind("DeleteScreenVersion",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n){var i=n.versions[0]._id;e.removeVersion(t.params.sid,t.params.vid),(!n.versions.length||n.versions.length<e.versionLimit&&n.totalVersionCount>=e.versionLimit?za(n):Promise.resolve(n)).then(function(e){var a=Ea(t.params.sid);a&&i===t.params.vid&&L.Q(a.querySelector(".screenImage"),n.versions[0].snapshot.url),Dn===n&&(_n._id===t.params.vid&&(ir(),_n=e.versions[0],Hs(n,_n),L.V("Displayed version is not available anymore.",document.querySelector("main"))),bi.classList.contains("versionsShown")?Ss(e):Zs(n))})}}),t.bind("CreateDotV2",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});n&&n.dots&&(n.dots.push(t.body),Dn===n&&Cs(t.body),ir());var i=t.body.comments[0];t.params.uid!==Zeplin.user._id&&Bn.test(i.note)&&fl({title:i.author.username+" mentioned you",body:i.note,notifier:i.author,handler:function(){da(L._3("project-screen",{url:{pid:t.params.pid,sid:t.params.sid},query:{did:t.body._id,cmid:i._id}}))}})}),t.bind("CreateDotCommentV2",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid}),i=t.params.uid!==Zeplin.user._id;if(n&&n.dots){var a=n.dots.find(function(e){return e._id===t.params.did});if(a){var s,o=a._id;a.comments.push(t.body),ir(),On===a&&(s=tl(t.body,n._id,o)),i&&Dn===n&&On===a&&(Wi(s),Hr(document.querySelector(".dot[data-id='"+o+"']")))}}i&&Bn.test(t.body.note)&&fl({title:t.body.author.username+" mentioned you",body:t.body.note,notifier:t.body.author,handler:function(){da(L._3("project-screen",{url:{pid:t.params.pid,sid:t.params.sid},query:{did:t.params.did,cmid:t.body._id}}))}})}),t.bind("UpdateDotCommentNote",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid}),i=t.params.uid!==Zeplin.user._id;if(n&&n.dots){var a=n.dots.find(function(e){return e._id===t.params.did});if(a){var s=a.comments.find(function(e){return e._id===t.params.cmid}),o=new Date(s.created),r=t.body.updated?new Date(t.body.updated):new Date;if(s.note=t.body.note,s.updated=r,ir(),i&&Dn===n&&On===a){var l=document.querySelector(".comment[data-id='"+t.params.cmid+"']"),c=l.querySelector(".commentMirror");c.innerHTML=Jr(t.body.note),c.classList.toggle("jumboEmojis",Fa(c,t.body.note)),l.querySelector(".commentEdited").setAttribute("datetime",r-o>3e5?r:""),Wi(l),Hr(document.querySelector(".dot[data-id='"+a._id+"']"))}}}if(i&&Bn.test(t.body.note)){var d=qa(t.params.uid,!0);if(!d)return;fl({title:d.user.username+" mentioned you",body:t.body.note,notifier:d.user,handler:function(){da(L._3("project-screen",{url:{pid:t.params.pid,sid:t.params.sid},query:{did:t.params.did,cmid:t.params.cmid}}))}})}}),t.bind("UpdateProjectUpdated",function(t){e.id===t.params.pid&&(e.updated=t.body.updated)}),t.bind("RequestPaymentFail",function(e){var t={currentRole:a.role};Object.assign(t,e.params),e.params.oid||"owner"===a.role||(t.ownerEmail=e.body.email),x.d(t)}),t.bind("AddProjectExtension",function(t){Or(e,t.body._id,!1)}),t.bind("RemoveExtensionFromProject",function(t){pe.a.removeExtension(e,t.params.eid,!0)}),t.bind("CreateComponent",t=>{const{params:{csid:n},body:i}=t,a=n.split("/");e.addComponent(a,i),ia(),"screen"===Tn&&_n&&_n.snapshot.layers&&(Oa(_n.snapshot.layers,{x:0,y:0}),Is(_n.snapshot))}),t.bind("UpdateComponent",t=>{const{params:{csid:n,coid:i},body:a}=t,s=n.split("/");if(e.updateComponent(s,i,a),ia(),"screen"===Tn&&(_n&&_n.snapshot.layers&&(Oa(_n.snapshot.layers,{x:0,y:0}),Is(_n.snapshot)),"name"in a)){const t=L._3("project-styleguide-components",{url:{pid:e.id},query:{coid:i}});qe.href===t&&(qe.querySelector("span").textContent=a.name)}}),t.bind("UpdateComponentsOrder",t=>{const{body:{components:n}}=t;n.forEach(({csid:t,tcsid:n,coid:i,to:a})=>{const s=t.split("/"),o=n.split("/");e.updateComponentOrder(s,o,i,a)}),ia()}),t.bind("DeleteComponent",t=>{const{params:{csid:n,coid:i}}=t,a=n.split("/");if(e.removeComponent(a,i),Li.selectionComponent&&Li.selectionComponent._id===i&&Object.assign(Li,{selectionComponent:null,selection:null}),ia(),"screen"===Tn){_n&&_n.snapshot.layers&&(Oa(_n.snapshot.layers,{x:0,y:0}),Is(_n.snapshot));const t=L._3("project-styleguide-components",{url:{pid:e.id},query:{coid:i}});qe.href===t&&(qe.href=L._3("project-dashboard",{url:{pid:e.id}}),qe.querySelector("span").textContent="Dashboard")}}),t.bind("CreateComponentSection",t=>{const{params:{csid:n},body:{_id:i,name:a,description:s,index:o,components:r}}=t,l=n?n.split("/"):[],c=r.map(({csid:t,coid:n})=>e.removeComponent(t.split("/"),n)).filter(Boolean),d={_id:i,name:a,description:s,components:c};e.addComponentSection(l,o,d),ia()}),t.bind("UpdateComponentSection",t=>{const{params:{csid:n},body:i}=t,a=n.split("/");e.updateComponentSection(a,i),ia()}),t.bind("MergeComponentSections",t=>{const{body:{componentSections:n}}=t;n.forEach(({csid:t,tcsid:n,flatten:i})=>{const a=t.split("/"),s=n.split("/");e.mergeComponentSection(a,s,{flatten:i})}),ia()}),t.bind("UpdateComponentSectionsOrder",t=>{const{body:{componentSections:n}}=t;n.forEach(({csid:t,tcsid:n,to:i})=>{const a=t.split("/"),s=n?n.split("/"):[];e.updateComponentSectionOrder(a,s,i)}),ia()}),t.bind("DeleteComponentSection",t=>{const{params:{csid:n}}=t,i=n.split("/");e.removeComponentSection(i),ia()})}(e),A.a&&function(){Wl&&(A.a.ipcRenderer.removeAllListeners(Wl.createScreen),A.a.ipcRenderer.removeAllListeners(Wl.createVersion),A.a.ipcRenderer.removeAllListeners(Wl.authSlack));if(!i||!i.id)return;Wl=function(e){return{createScreen:"project:"+e+":createScreen",createVersion:"project:"+e+":createVersion",authSlack:"project:"+e+":authSlack"}}(i.id),A.a.ipcRenderer.on(Wl.createScreen,function(){var e=arguments[arguments.length-1];if("string"==typeof e.body.latestVersion.creator){var t=qa(e.body.latestVersion.creator,!0);e.body.latestVersion.creator={_id:t.user._id,email:t.user.email,username:t.user.username,emotar:t.user.emotar,avatar:t.user.avatar}}if(e.body.latestVersion.commit=e.body.latestVersion.commit||{},"string"==typeof e.body.latestVersion.commit.author){var n=qa(e.body.latestVersion.commit.author,!0);e.body.latestVersion.commit.author={_id:n.user._id,email:n.user.email,username:n.user.username,emotar:n.user.emotar,avatar:n.user.avatar}}Ql(e)}),A.a.ipcRenderer.on(Wl.createVersion,function(){var e=arguments[arguments.length-1];if("string"==typeof e.body.creator){var t=qa(e.body.creator,!0);e.body.creator={_id:t.user._id,email:t.user.email,username:t.user.username,emotar:t.user.emotar,avatar:t.user.avatar}}if(e.body.commit=e.body.commit||{},"string"==typeof e.body.commit.author){var n=qa(e.body.commit.author,!0);e.body.commit.author={_id:n.user._id,email:n.user.email,username:n.user.username,emotar:n.user.emotar,avatar:n.user.avatar}}ec(e)}),A.a.ipcRenderer.on(Wl.authSlack,tc)}(),Dn=null,On=null,Ln=null,cr(),Mn=null,Un=null,ri&&A.a.ipcRenderer.send("popout:menuitem:enabled",!1),document.body.dataset.projectType=e.type,T.b.get(kn.pid,"noResourceInfoDismissed").then(function(e){Gi=e}),jn=!0,Ze.textContent=e.name,Ze.title=e.name,b=function(e){var t={scope:"incoming-webhook,emoji:read,links:read,links:write",client_id:"2330702581.8730394641",redirect_uri:L._3("huggingSlack",{query:{pid:e.id}}),state:Fi},n=[];for(var i in t)n.push(i+"="+encodeURIComponent(t[i]));return"https://slack.com/oauth/authorize?"+n.join("&")}(e),e.integration&&e.integration.slacks&&e.integration.slacks.length&&$i(),oa(e.density),lr(),ts(),Le.classList.remove("loading"),No(),CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||Ha(),T.b.get(kn.pid,"versionsSidebarWrapperWidth").then(function(e){Hl(e,en),en.classList.add("collapsed")}),ea=null,A.a&&A.a.features&&A.a.features.downloadAssets&&K.d(i.id,i.type,na),Vi(),s)"past_due"===s.subscriptionStatus&&x.d({oid:s._id,currentRole:a.role});else{var t=i.findOwner();"past_due"===t.user.subscriptionStatus&&x.d({currentRole:a.role,ownerEmail:t.user.email})}fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/integrations/slacks/emojis",{headers:Zeplin.headers}).then(function(e){if(e.ok)return e.json()}).catch(function(){}).then(function(e){e&&"emoji"in e&&te.a.addCustomEmojis(e.emoji)}).then(Yl)}function sa(){var e;switch(i.type){case"android":e="android";break;case"ios":case"osx":e="iosx";break;case"web":default:e="web"}return e+"Density"}function oa(e){i.density=e;var t=document.querySelector("input[name='"+sa()+"'][value='"+e+"']");t&&(t.checked=!0,t.dispatchEvent(new Event("change")))}function ra(){var e="";"dashboard"===Tn?e="Dashboard - ":"styleguide"===Tn?e="Styleguide - ":Dn&&(e=Dn.name+" - "),Me.textContent=e+(i?i.name+" - ":"")+"Zeplin"}function la(){s?location.replace(L._3("organization-projects",{url:{oid:s._id}})):location.replace(L._3("projects"))}function ca(){var e;if(ai)return si&&(e=JSON.parse(sessionStorage.getItem("deferredDialog")))&&sessionStorage.removeItem("deferredDialog"),void A.a.ipcRenderer.sendToHost("close-project-webview",s?L._3("organization-projects",{url:{oid:s._id}}):L._3("projects"),e);la()}function da(e,t){switch((t=t||{}).navigationOperation){case"replace":li.history.replace(e,t);break;case"push":default:li.history.push(e,t)}}function ua(e,t){t=t||{},da(L._3("project-dashboard",{url:{pid:e},query:t}))}function ha(e){da(L._3("project-styleguide",{url:{pid:e}}))}function pa(e,t,n){da(L._3("project-screen",{url:{pid:e,sid:t}}),n)}function ma(){tr(),x.f("project-dashboard"),Tn="dashboard",document.removeEventListener("keydown",Ho),document.removeEventListener("keyup",Wo),window.removeEventListener("blur",Vo),document.addEventListener("keydown",Zo),xn=-2,Dn=null,qe.href=s?L._3("organization-projects",{url:{oid:s._id}}):L._3("projects"),qe.querySelector("span").textContent="Projects",ze.dataset.selection="dashboard",Ue.checked=!0,Nl(),CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||(Ha(),window.addEventListener("resize",Wa)),window.addEventListener("resize",Ao),!Vs()&&ri&&A.a.ipcRenderer.send("popout:menuitem:enabled",!1),$s()}var fa;function ba(e){tr(),x.f("project-styleguide"),Tn="styleguide",document.removeEventListener("keydown",Zo),document.removeEventListener("keydown",Ho),document.removeEventListener("keyup",Wo),window.removeEventListener("blur",Vo),xn=-1,Dn=null,qe.href=s?L._3("organization-projects",{url:{oid:s._id}}):L._3("projects"),qe.querySelector("span").textContent="Projects",ze.dataset.selection="styleguide",Be.checked=!0,Zi(),CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||(clearTimeout(fa),window.removeEventListener("resize",Wa)),window.removeEventListener("resize",Ao),!Vs()&&ri&&A.a.ipcRenderer.send("popout:menuitem:enabled",!1),ia(e),$s()}function va(e){if(e){var t=Dn.dots.find(function(t){return t._id===e});if(t)return t.status}}function ya(e){if("apiData"in Zeplin&&e in Zeplin.apiData){var t=Zeplin.apiData[e];return delete Zeplin.apiData[e],t}}function Ca(e){var t,n=ya("projectOrganization");if(n)t=Promise.resolve(n);else{var o=F.a.mark();t=fetch(Zeplin.urls.baseURL+"/projects/"+e+"/organization",{method:"GET",headers:Zeplin.headers}).then(function(e){if(F.a.measure("api.getProjectOrganization",{start:o,minTime:50,labels:{status:e.status}}),e.ok)return e.json()})}return t.then(function(e){if(s=e)return s.transitionFinished=-1===e.transitionLeft,ai&&A.a.ipcRenderer.send("preload-url",qe.href=L._3("organization-projects",{url:{oid:s._id}})),"screen"!==Tn&&(qe.href=L._3("organization-projects",{url:{oid:s._id}})),"pawn"!==a.role||s.transitionFinished||function(e){if("dismissed"===sessionStorage.getItem("transitionBannerStatus"+i.id))return;D.b({content:"This project now belongs to an organization but looks like you're not a member yet. For "+(1===e?"a day":e+" days")+", you'll be able to access resources but if you're a designer or a developer, <a href='#'>request an invite</a> from admins.",type:"info",contentType:"html",group:"transition",closeCallback:function(){sessionStorage.setItem("transitionBannerStatus"+i.id,"dismissed")},bodyCallbacks:{a:function(e){e.preventDefault(),Fs(s._id,document.querySelector("main")),sessionStorage.setItem("transitionBannerStatus"+i.id,"dismissed"),D.a("transition")}}})}(Math.ceil(e.transitionLeft/1e3/60/60/24)),"pawn"!==a.role?function(e){var t=ya("organizationMembers");if(t)return Promise.resolve(t);var n=F.a.mark();return fetch(Zeplin.urls.baseURL+"/organizations/"+e+"/members",{headers:Zeplin.headers}).then(function(e){return F.a.measure("api.getOrganizationMembers",{start:n,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(e.ok)return t;throw R.a(e.status,t)})})}(e._id).then(function(e){Object.assign(s,e)}):void 0}).catch(function(){})}function wa(e){R.b(e,{clientErrorHandler:function(){_.a({title:e.title,message:e.message},{defer:!0}),ca()}})}function Sa(e){zn||wc();var t,n=ya("project");if(n)t=Promise.resolve(n);else{var o=F.a.mark();t=fetch(Zeplin.urls.baseURL+"/v2/projects/"+e,{headers:Zeplin.headers}).then(function(e){return F.a.measure("api.getProject",{start:o,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(!e.ok)throw R.a(e.status,t);return 206===e.status&&(t.partial=!0),t})})}return t.then(t=>{if(function(e){const t=ie.p+e;g!==t&&(g&&x.c.unsubscribe(g),g=t,x.c.subscribe(g))}(t._id),!t.partial)return Promise.all([Ce.t(e),Ce.n(e)]).then(([e,n])=>(function(e){let t;i=new M.a(e),a=i.findUser(Zeplin.user._id),document.body.classList.toggle("organizationProject",L.J(i)),s=null,L.J(i)?t=Ca(i.id):(t=Promise.resolve(),ai&&A.a.ipcRenderer.send("preload-url",qe.href=L._3("projects")));return w=pe.b.addListener(lr),Promise.all([x.a(),t,function(){const e=T.b.get(kn.pid,"styleguideLeftSidebarWidth").then(e=>{Xi=e}),t=T.b.get(kn.pid,"styleguideSidebarWidth").then(e=>{Ji=e}),n=T.b.get(kn.pid,"screenSidebarWidth").then(e=>{Ki=e}),i=T.b.get(kn.pid,"projectInfoWidth").then(e=>{Qi=e});return Promise.all([e,t,n,i])}(),function(e){Promise.all(e.extensions.map(t=>new ye.a(t).load(e))).then(t=>{pe.a.loadExtensions(e,t)}).catch(R.b)}(i),function(e){if("android"!==e.type)return T.b.get(e.id,"assetNamingConvention").then(e=>{S=e});S="snakeCase"}(i),function(e){return T.b.get(e,"showOptimizedSVG").then(e=>{Yi=e})}(i.id),function(e){return T.b.get(e,"fixedThumbnailSize").then(e=>{k=e})}(i.id)]).then(function([e]){let t;aa(i),t=L.J(i)?s.paymentPlan:i.findOwner().user.paymentPlan;const n=e.find(e=>e.id===t);i.versionLimit=n.versionLimit,I.b([i.id],s&&"pawn"!==a.role&&s._id),function(e){var t=new URL(e.url);dl(t.toString()).then(function(t){e.shortUrl=t,lr()}).catch(function(){e.shortUrl=t.toString(),lr()})}(i),i.public&&cl(),zn=!1})})(Object.assign(t,e,n))).catch(e=>{zn?(zn=!1,navigator.onLine&&location.reload()):wa(e)}).then(()=>{ai?(oi=!1,A.a.ipcRenderer.sendToHost("active")):Sc()},()=>{ai?(oi=!1,A.a.ipcRenderer.sendToHost("active")):Sc()});_i=t,i=null,function(){ze.dataset.selection="preview",Tn="preview",Me.textContent="Zeplin - Project Preview",Ze.textContent=_i.name+" Preview",Ze.title=_i.name+" Preview",Ca(_i._id),ai&&qe.addEventListener("click",Dc);Sc(),function(){const e=x.c.channel(g);e.bind("UpdateProjectName",jc.onNameChange),e.bind("ArchiveProject",jc.onProjectNotAvailable),e.bind("DeleteProject",jc.onProjectNotAvailable),e.bind("InviteUser",jc.onProjectChannelInviteUser),e.bind("CreateUser",jc.onCreateUser),e.bind("UpdateUserEmotar",jc.onUpdateUserProfile),e.bind("UpdateUserAvatar",jc.onUpdateUserProfile),e.bind("RemoveUserFromProject",jc.onRemoveUserFromProject),e.bind("DeleteUser",jc.onDeleteUser),e.bind("UpdateProjectDensity",jc.onUpdateProjectDensity),e.bind("CreateScreenV3",jc.onCreateScreenV3),e.bind("CreateScreenVersion",jc.onCreateScreenVersion),e.bind("DeleteScreen",jc.onDeleteScreen),e.bind("UpdateSectionScreensOrder",jc.onUpdateSectionScreensOrder)}(),gi.render({projectData:_i,onJoinClick:xc,requiredMinimumPadding:96,defaultPadding:108,hideJoinButton:!1,headerSticky:!0})}()}).catch(wa)}function ka(e){return vn.querySelector(".screen[data-view-index='"+e+"']")}function Ea(e){return vn.querySelector(".screen[data-id='"+e+"']")}function ja(e,t){var n=(t=t||{}).padding||0,i=t.unit||0;return e*Pn+n+i}function xa(e,t){if(void 0===e||null===e)return"";if("%"===t)return L.R(100*e,1)+"%";var n="text"===t?i.textDimensionSuffix:i.dimensionSuffix;return L.R(e/i.densityDivisor,1)+n}function Da(e,t){return 100*e/t+"%"}function _a(){Kn.stop(),ze.classList.remove("online")}function Oa(e,t,n,a){for(const s of e){s.absoluteRect={x:s.rect.x+t.x,y:s.rect.y+t.y,width:s.rect.width,height:s.rect.height};let e=n,o=a;if(void 0!==s.componentName){const t=i.findComponentByName(s.componentName);t&&(e=t,o=s.absoluteRect)}e&&(s.component={id:e._id,name:e.name,rect:o}),"group"===s.type&&(Array.isArray(s.layers)?Oa(s.layers,s.absoluteRect,e,o):s.layers=[])}}function La(e,t){if(!navigator.onLine)return ze.className="offline",Promise.resolve();if(!e||!t)return Promise.resolve();var n=F.a.mark();return fetch(Zeplin.urls.baseURL+"/v3/projects/"+i.id+"/screens/"+e._id+"/versions/"+t._id+"/snapshot",{headers:Zeplin.headers}).then(function(e){return F.a.measure("api.getSnapshot",{start:n,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(e.ok)return"string"==typeof t.snapshot?function(e){var t=F.a.mark();return fetch(e).then(function(e){return F.a.measure("cdn.getSnapshot",{start:t,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(e.ok)return t.layers=t.layers||[],t;throw R.a(e.status)})})}(t.snapshot):t.snapshot;throw R.a(e.status,t)})}).then(function(n){return n.layers.unshift(function(e,t){var n={_id:t._id,name:e,opacity:1,borderRadius:0,blendMode:"normal",rect:{x:0,y:0,width:t.width,height:t.height},type:"shape",fills:[],borders:[],shadows:[]};t.backgroundColor&&n.fills.push({fillType:"color",color:t.backgroundColor});return n}(e.name,n)),Oa(n.layers,{x:0,y:0}),Object.assign(t.snapshot,n)}).catch(function(e){return R.b(e),t.snapshot})}function Ta(e){e instanceof Date||(e=new Date(e));var t=new Date;if(t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()){if(t.getDate()===e.getDate())return"today";if(t.getDate()-e.getDate()==1)return"yesterday"}return L.p(e,{year:"numeric",month:"long",day:"numeric"})}Array.from(document.querySelectorAll("input[name='androidDensity']")).forEach(function(e){e.addEventListener("change",function(e){var t=document.querySelector("input[name='androidTabletDensity'][value='"+e.target.value+"']");t?t.checked=!0:(t=document.querySelector("input[name='androidTabletDensity']:checked"))&&(t.checked=!1)})}),Array.from(document.querySelectorAll("input[name='androidTabletDensity']")).forEach(function(e){e.addEventListener("change",function(e){document.querySelector("input[name='androidDensity'][value='"+e.target.value+"']").checked=!0})}),Ae.addEventListener("click",function(){var e=document.querySelector("input[name='"+sa()+"']:checked");e&&e.value!==i.density&&function(e){L.O.canUpdateProject(a)&&(Di.update({density:e}),fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/density",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({density:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).then(function(){bl(e)}).catch(function(e){lr(),R.b(e)}))}(e.value)}),Ie.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&Pe.classList.add("hidden")}),Ie.addEventListener("keydown",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:Pe.classList.contains("hidden")||(e.preventDefault(),e.stopPropagation(),Pe.classList.add("hidden"));break;case Zeplin.KEY_CODE.SPACE:var t=Ie.querySelector("label:focus");t&&t.click();break;case Zeplin.KEY_CODE.ENTER:Ae.click()}}),Ne.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.stopPropagation(),e.preventDefault(),Pe.classList.toggle("hidden"))}),Pe.addEventListener("click",function(e){e.stopPropagation()}),Array.from(document.querySelectorAll(".projectTab")).forEach(function(e){e.addEventListener("change",function(e){switch(e.target.value){case"styleguide":ha(i.id);break;case"dashboard":default:ua(i.id,Mo())}})});var Ra=new WeakMap,Ia=document.querySelector(".versions");function Aa(e,t,n){var i=Ia.querySelector(".version.editing");if(i&&Ra.get(i).cancelEditing(),bi.classList.contains("versionsShown")){var a=document.querySelector(".version.selected");a&&a.classList.remove("selected");var s=document.querySelector(".version[data-id='"+t._id+"']");s&&s.classList.add("selected"),s&&n&&n.scrollIfNecessary&&L.S(s)}Hs(e,_n=t),document.querySelector(".oldVersionWarning time").textContent=Ta(t.created),bi.classList.toggle("oldVersion",e.versions[0]._id!==_n._id)}function Na(e,t){t&&("folder"===e?A.a.ipcRenderer.send("show-item-in-folder",t):"file"===e&&A.a.ipcRenderer.send("open-item",t))}var Pa=document.getElementById("versionTemplate"),Ma=document.getElementById("nodeColorChooserTemplate");function Ua(e,t,n,s){t.commit=t.commit||{},t.commit.message=t.commit.message||"",t.commit.color=t.commit.color||Ii.yellow;var o=new Date(e.created),r=new Date(t.created),l=o.getDate()!==r.getDate()||o.getMonth()!==r.getMonth()||o.getFullYear()!==r.getFullYear();l&&Ia.appendChild(function(e){var t=document.importNode(Ba.content,!0);return t.querySelector(".versionHeaderText").textContent=Ta(e),t}(r));var c=document.importNode(Pa.content,!0),d=c.querySelector(".version"),u=d.querySelector(".versionNodeDot"),h=d.querySelector(".commitMessage"),p=new P.a(h,Xr);Ra.set(d,p),d.dataset.id=t._id;var m,f=Ri[new U.a(t.commit.color).hexBase()];return d.classList.add(f),h.classList.add(f),!l&&e.creator&&t.creator&&e.creator._id===t.creator._id?d.classList.add("sameCreator"):(L.U(d.querySelector(".versionAuthorImage"),t.creator),d.querySelector(".versionAuthorName").textContent=t.creator?t.creator.username:"Anonymous"),d.classList.toggle("canDelete",L.O.canManageScreens(a)),d.classList.toggle("versionOwner",t.creator&&t.creator._id===a.user._id),m=t.creator&&t.creator._id===Zeplin.user._id?1===s.length?"Got any notes?":"What has changed in this version?":"No commit message yet.",p.placeholder=m,t.commit.message?p.value=t.commit.message:d.classList.add("empty"),d.querySelector(".versionMetadata time").textContent=L.p(r,{hour:"numeric",minute:"numeric"}),u.addEventListener("mouseenter",function(){if(!en.classList.contains("collapsed")&&"pawn"!==a.role){var e=document.importNode(Ma.content,!0),n=e.querySelector(".nodeColorChooser");n.classList.add(f),n.addEventListener("mouseleave",function(){n.addEventListener("transitionend",function(e){n.remove()})}),n.addEventListener("click",function(e){if(e.stopPropagation(),e.target.classList.contains("nodeColor")&&f!==e.target.dataset.color){var s=Ii[e.target.dataset.color];ys(n),n.classList.add(s.name),ys(d),d.classList.add(s.name),ys(h),h.classList.add(s.name),function(e,t,n){if("pawn"===a.role)return Promise.reject(R.a(403,{title:"You’re not allowed to do this",message:"Please contact the organization admins."}));var s={color:n};return fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/screens/"+e._id+"/versions/"+t._id+"/commit/color",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(s)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).then(function(){return mixpanel.webapp.track("Updated version color"),Object.assign(t.commit,s)})}(Dn,t,s).then(function(e){f=e.color.name}).catch(function(e){var t=Ii[f];ys(n),n.classList.add(t.name),ys(d),d.classList.add(t.name),ys(h),h.classList.add(t.name),R.b(e)})}}),u.appendChild(e)}}),d.addEventListener("click",function(){d.classList.contains("selected")||Aa(Dn,t)}),h.addEventListener("autocomplete",function(){var e=h.querySelector("textarea"),t=X.manageSuggestedEmojis(e,h.querySelector(".mirror"));if(t){var n=h.getBoundingClientRect(),i=e.getBoundingClientRect(),a=e.value,s=a.substring(0,e.selectionEnd),o=a.substr(s.lastIndexOf("\n")+1),r=o.length-(a.length-e.selectionEnd)-1,l=o.substring(0,r),c=L.A(l,"15px Roboto");if(t.style.top=n.top+h.offsetHeight-90+"px",c+200>n.width){t.style.left="auto";var u=h.offsetWidth-c;u+200>i.right&&(u=0),t.style.right=u+"px"}else t.style.right="auto",t.style.left=n.left+c+"px";d.appendChild(t),X.open()}}),h.addEventListener("submit",function(){var e=p.value,n=X.formatEmojiString(p.value.trim(),!0);p.value=n,d.classList.remove("editing"),X.close(),t.commit.message!==n&&function(e,t,n){if(!L.O.canManageScreens(a))return Promise.reject(R.a(403,{title:"You’re not allowed to do this",message:"Please contact the organization admins."}));if(!t.creator||t.creator._id!==a.user._id)return Promise.reject(R.a(403,{title:"You can’t edit this commit",message:"You can only edit your own commits."}));var s={message:n};return fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/screens/"+e._id+"/versions/"+t._id+"/commit/message",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(s)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).then(function(){return mixpanel.webapp.track("Updated version commit message"),Object.assign(t.commit,s)})}(Dn,t,n).then(function(e){d.classList.toggle("empty",!n)}).catch(function(t){p.value=e,R.b(t,{clientErrorDialogCallback:function(){p.cancelEditing()},serverErrorDialogCallback:function(){p.startEditing()}})})}),h.addEventListener("cancel",function(){d.classList.remove("editing")}),Array.from(d.querySelectorAll(".commitMessageEditButton, .enterCommitMessageButton")).forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation(),Aa(Dn,t),d.classList.add("editing"),p.startEditing()})}),d.querySelector(".commitDeleteButton").addEventListener("click",function(e){e.stopPropagation(),1===Dn.totalVersionCount?_.a({title:'Delete  "'+Dn.name+'"?',message:"Deleted screens cannot be restored.",done:{name:"DELETE",cb:function(){_l(Dn._id),ua(i.id,Mo())}},cancel:{name:"CANCEL"}}):_.a({title:"Delete version?",message:"Deleted versions cannot be restored.",done:{name:"DELETE",cb:function(){var e=Dn.versions[0]._id;(function(e,t){return L.O.canManageScreens(a)?fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/screens/"+e._id+"/versions/"+t._id,{method:"DELETE",headers:Zeplin.headers}).then(function(){return mixpanel.webapp.track("Deleted version"),i.removeVersion(e._id,t._id)}):Promise.reject(R.a(403,{title:"You’re not allowed to do this",message:"Please contact the organization admins."}))})(Dn,t).then(function(){return Dn.versions.length<i.versionLimit&&Dn.totalVersionCount>=i.versionLimit?za(Dn):Dn}).then(function(){var n=Dn.versions[0];e===t._id&&L.Q(Ea(Dn._id).querySelector(".screenImage"),n.snapshot.url),_n._id===t._id&&(dr(),Hs(Dn,_n=n)),Ss(Dn)}).catch(R.b)}},cancel:{name:"CANCEL"}})}),Ia.appendChild(c),t}Ia.addEventListener("click",function(e){e.stopPropagation()});var Ba=document.getElementById("versionHeaderTemplate");function za(e){en.classList.add("loading");var t=ya("versions");return(t?Promise.resolve(t):fetch(Zeplin.urls.baseURL+"/v2/projects/"+i.id+"/screens/"+e._id+"/versions",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw R.a(e.status,t)})})).then(function(t){return e.versions.forEach(function(e){if("layers"in e.snapshot){var n=t.versions.find(function(t){return e._id===t._id});n&&Object.assign(n.snapshot,e.snapshot)}}),Object.assign(e,t)}).catch(function(t){return e})}function Fa(e,t){var n=X.replace(t.replace(L.l,""),!1,!0).trim();return(!n||"️"===n)&&(e.childElementCount>0&&e.childElementCount<=5)}function qa(e,t){var n=i.findUser(e);return!n&&t&&s&&s.members?s.members.find(function(t){return t.user._id===e}):n}function Ha(){Array.from(vn.querySelectorAll(".screenGrid")).forEach(function(e){e.style.width=244*Math.floor(_e.clientWidth/244)+"px"}),fa=setTimeout(Ha,1e3),Ao()}function Wa(){clearTimeout(fa),requestAnimationFrame(Ha)}window.requestIdleCallback=window.requestIdleCallback||function(e,t){var n=4;return t&&"timeout"in t&&(n=t.timeout),setTimeout(e,n)},window.cancelIdleCallback=window.cancelIdleCallback||clearTimeout;var Za={},Va=new IntersectionObserver(function(e,t){e.forEach(function(e){var n=e.target;if(0===e.intersectionRatio)return cancelIdleCallback(Za[n.dataset.id]),void delete Za[n.dataset.id];var a=i.findScreen(n.dataset.id);Za[n.dataset.id]=requestIdleCallback(function(){t.unobserve(n),delete Za[n.dataset.id],L.Q(n.querySelector(".screenImage"),a.versions[0].snapshot.url)},{timeout:300})})},{root:_e,threshold:[0,.01]});const $a=240,Ga=200,Ya=520,Ka=30,Xa=80,Ja=240;var Qa=document.getElementById("screenTemplate");function es(){Array.from(vn.querySelectorAll(".screenName")).forEach(function(e){e.parentNode.querySelector(".screenNameMirror").textContent=e.value})}function ts(){var e=Ys(),t=Ks()||"untagged"in kn;if(Le.innerHTML="",i.screens&&i.screens.length&&(i.tags.forEach(function(t){var n=document.createElement("div");n.classList.add("tag"),n.classList.toggle("selected",-1!==e.indexOf(t)),n.dataset.tag=L.m(t),n.textContent=t,Le.appendChild(n)}),Le.childElementCount)){var n=document.createElement("div");n.classList.add("tag","untagged"),t&&n.classList.add("selected"),n.textContent="Untagged",Le.appendChild(n)}}function ns(e,t){switch(e.format){case"jpg":case"png":return ms(e,t)+("1x"===e.density?"":"@"+e.density);case"pdf":case"svg":return ms(e,t)}}function is(e){return"svg"===e.format&&Yi&&Object.assign(e,e.optimized),fetch(e.url).then(function(e){return e.arrayBuffer()}).then(function(t){return Object.assign({data:t},e)})}function as(e,t){return e.contents.filter(function(e){return e.format===t}).map(function(t){return Object.assign({localName:e.localName,layerName:e.layerName,displayName:e.displayName},t)})}function ss(e,t){t=t||function(e){return e.displayName};var n={},i=new Z.a;return e.forEach(function(e){var a=t(e)+e.format;a in n||(n[a]=0);var s=++n[a];s>1&&((e=Object.assign({},e)).displayName+="_"+s,e.layerName+="_"+s),i.file(t(e)+"."+e.format,e.data)}),i}function os(e,t,n=!1){const i=n?`assets_${e}`:ms(t[0],"snakeCase");return ss(t,function(e){const t=ms(e,"snakeCase");return"svg"===e.format?t:`drawable-${e.density}/${t}`}).generateAsync({type:"blob"}).then(function(e){return{data:URL.createObjectURL(e),name:`${i}_${(new Date).toISOString().substr(0,10)}.zip`}})}function rs(e,t,n=!1){let i;if(1===t.length){const e=t[0],n=new Blob([e.data],{type:Ti[e.format]});return i=`${ns(e,S)}.${e.format}`,Promise.resolve({data:URL.createObjectURL(n),name:i})}const a=(new Date).toISOString().substr(0,10),s=ss(t,function(e){return ns(e,S)});return i=`${n?`assets_${e}`:ms(t[0],S)}_${a}.zip`,s.generateAsync({type:"blob"}).then(function(e){return{data:URL.createObjectURL(e),name:i}})}function ls(e){var t=document.createElement("a");t.href=e.data,t.download=e.name||"assets.zip",t.classList.add("hidden"),document.body.appendChild(t),t.addEventListener("click",function(n){n.stopPropagation(),setTimeout(function(){URL.revokeObjectURL(e.data)},1500),t.remove()}),t.click()}function cs(e,t){Object.keys(e).forEach((n,a)=>{setTimeout(()=>{K.b({projectId:i.id,projectType:i.type,format:n,assets:e[n],namingConvention:t})},a>0?300:0)})}function ds(e,t){"android"===i.type?T.b.get(kn.pid,"androidResFolderReminderSeen").then(function(t){t?cs(e):(T.b.set(kn.pid,"androidResFolderReminderSeen",!0),gn.addEventListener("click",function(t){t.stopPropagation(),cs(e)}),fn.showModal())}):cs(e,t)}function us(e,t,n,a){if(!L.f())return;let s;if(A.a&&A.a.features&&A.a.features.downloadAssets){let e;if(0===(e="all"===n?t.snapshot.assets:[t.snapshot.assets.find(function(e){return e._id===n})]).length)return;ds({[a]:e},S)}else(function(e,t,n){var i;if("all"===t)i=[].concat.apply([],e.snapshot.assets.map(function(e){return as(e,n)}));else{var a=e.snapshot.assets.find(function(e){return e._id===t});if(!a)return Promise.reject("Asset with id "+t+" not found.");i=as(a,n)}return Promise.all(i.map(is))})(t,n,a).then(t=>{(s="android"===i.type&&"svg"!==a?os(e,t,"all"===n):rs(e,t,"all"===n)).then(ls)})}function hs(e,t,n){if(!L.f())return;let a;if(A.a&&A.a.features&&A.a.features.downloadAssets){const e={};return n.forEach(({assetId:n,format:i})=>{const a=t.snapshot.assets.find(function(e){return e._id===n});if(!a)return;let s;i in e?s=e[i]:(s=[],e[i]=s),s.push(a)}),void ds(e,S)}(function(e,t){const n=t.map(({assetId:t,format:n})=>{const i=e.snapshot.assets.find(function(e){return e._id===t});return i?as(i,n).map(is):null}).filter(Boolean);return n.length?Promise.all(n.reduce((e,t)=>e.concat(t))):Promise.reject("Selected assets not found.")})(t,n).then(t=>{(a="android"===i.type?os(e,t,!0):rs(e,t,!0)).then(ls)})}function ps(e){return e.find(function(e){return e.density===i.baseDensity&&"png"===e.format})}function ms(e,t){return e.localName?e.localName:"default"===t?e.displayName:"original"===t?e.layerName:Object(Y.a)(e.layerName,t)}function fs(e){"group"===e.type?("bottom"===e.interactionLevel&&bs(e),e.layers.forEach(function(e){fs(e)}),"top"===e.interactionLevel&&bs(e)):bs(e)}var gs=document.getElementById("layerTemplate");function bs(e){var t=document.importNode(gs.content,!0),n=t.querySelector(".layer"),i=ja(e.rect.width),a=ja(e.rect.height),s=_n.snapshot.width,o=_n.snapshot.height;n.dataset.id=e._id,n.classList.toggle("wideEnough",i>120),n.classList.toggle("longEnough",a>120),n.classList.toggle("tooNarrow",i<3),n.classList.toggle("tooShort",a<3),n.style.width=Da(e.rect.width,s),n.querySelector(".layerWidth").textContent=xa(e.rect.width),n.style.height=Da(e.rect.height,o),n.querySelector(".layerHeight").textContent=xa(e.rect.height),n.style.left=Da(e.absoluteRect.x,s),n.style.top=Da(e.absoluteRect.y,o),bt.appendChild(t)}function vs(e){e.classList.remove("open","resolved")}function ys(e){e.classList.remove(...Object.keys(Ii))}function Cs(e){const t=document.createElement("div"),n=Ri[new U.a(e.color).hexBase()];return t.classList.add("dot",n,e.status||"open"),t.classList.toggle("mentioned",Object(je.c)(e,Zeplin.user)),t.dataset.id=e._id,t.textContent=e.name||"?",t.dataset.color=n,t.dataset.position=e.x<=.5?"left":"right",t.style.left="calc("+100*e.x+"% - 13px)",t.style.top="calc("+100*e.y+"% - 13px)",st.appendChild(t),st.lastElementChild}function ws(e,t){var n=X.formatEmojiString(mt.value.trim(),!0);if(n){Xn=!1;var a=e._id,s=tl({author:{_id:Zeplin.user._id,email:Zeplin.user.email,username:Zeplin.user.username,emotar:Zeplin.user.emotar,avatar:Zeplin.user.avatar},note:n,created:Date.now(),updated:Date.now()},a);Hr(t),s.classList.add("loading"),Qr(),dt.classList.remove("composing"),Un.comments=[{note:n}];var o=Un;delete o.name,fetch(Zeplin.urls.baseURL+"/v2/projects/"+i.id+"/screens/"+a+"/dots",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(o)}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw R.a(e.status,t)})}).then(function(n){On=n,T.b.set(kn.pid,"lastNoteColorUsed",o.color.name),t.dataset.id=On._id,t.dataset.name=On.name,ot.dataset.id=On._id,e.dots.push(On),ir(),pt.innerHTML="&nbsp;",mt.value="",$n[a]&&$n[a].comment&&($n[a].comment=null),s.dataset.id=On.comments[0]._id,s.querySelector(".commentLink").href=L._3("project-screen",{url:{pid:i.id,sid:a},query:{did:On._id,cmid:On.comments[0]._id}}),s.classList.remove("loading"),Xn=!0,mixpanel.webapp.track("Created dot")}).catch(function(e){s.remove(),dt.classList.add("composing"),mt.focus(),R.b(e)})}}function Ss(e){if(e===Dn){if(Ia.scrollTop=0,Ia.innerHTML="",e.versions.reduce(Ua,{}),_n){var t=document.querySelector(".version[data-id='"+_n._id+"']");t&&t.classList.add("selected")}bi.classList.toggle("oldVersion",e.versions[0]._id!==_n._id);var n=e.totalVersionCount-i.versionLimit;if(n>0){var a=document.importNode(document.getElementById("versionLimitExceeded").content,!0),s=a.querySelector(".versionLimitExceeded");s.classList.toggle("plural",n>1),s.querySelector(".remainingVersionCount").textContent=n,s.querySelector("a").addEventListener("click",function(){mixpanel.webapp.track("Clicked version limits learn more button")}),Ia.appendChild(a)}else{var o=document.importNode(document.getElementById("initialCommit").content,!0);Ia.appendChild(o)}en.classList.remove("loading")}}function ks(){Dn.totalVersionCount?Ss(Dn):za(Dn).then(Ss),cn.classList.add("hidden"),T.c.set("versionsTutorialSeen",!0),document.querySelector(".versionsToggle").classList.remove("hasNewVersions"),T.b.set(i.id,Dn._id,"versionsLastSeen",new Date(Dn.versions[0].created)),bi.classList.add("versionsShown"),en.classList.remove("collapsed"),Vs()}function Es(){en.classList.toggle("collapsed")?bi.classList.contains("oldVersion")?en.classList.add("compact"):bi.classList.remove("versionsShown"):en.classList.contains("compact")?en.classList.remove("compact"):bi.classList.remove("versionsShown"),Vs()}lt.addEventListener("click",function(e){e.target.classList.contains("dotColor")&&function(e,t,n,a){var s=document.querySelector(".dot[data-id='"+t+"']"),o=s.dataset.color;if(ys(s),s.classList.add(e),s.dataset.color=e,ys(ot),ot.classList.add(e),"undefined"!==t){var r=n._id;fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/screens/"+r+"/dots/"+t,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({color:Ii[e]})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).then(function(){a.color=Ii[e],ir(),T.b.set(kn.pid,"lastNoteColorUsed",e),mixpanel.webapp.track("Changed dot color")}).catch(function(e){ys(s),s.classList.add(o),s.dataset.color=o,ys(ot),ot.classList.add(o),R.b(e)})}else Un.color=Ii[e]}(e.target.dataset.color,ot.dataset.id,Dn,On)}),document.querySelector(".versionsToggle").addEventListener("click",ks),document.querySelector(".versionsCollapser").addEventListener("click",Es);var js,xs=!1;function Ds(e){var t=!("updateSelectedIndex"in(e=e||{}))||e.updateSelectedIndex,n=!("saveZoomLevel"in e)||e.saveZoomLevel;if(Xe.textContent=(100*Pn).toFixed(),Ke.disabled=Pn>=5,Qe.disabled=Pn<=.25,It.classList.toggle("pixelated",Pn>=2),t){for(var i=0;i<Je.childElementCount;i++){if(parseFloat(Je.children[i].value)===Pn){Je.selectedIndex=i;break}}Je.childElementCount===i&&(Je.selectedIndex=-1)}xs||(requestAnimationFrame(function(){_n&&Ps(_n.snapshot,"zoom"),nt.classList.contains("zooming")?it.addEventListener("transitionend",function e(){it.removeEventListener("transitionend",e),nt.classList.remove("zooming"),_n&&Ps(_n.snapshot,"zoom"),Zr()}):Zr(),wi.isRendered()&&wi.update({zoomFactor:Pn}),xs=!1}),xs=!0),n&&(clearTimeout(js),js=setTimeout(function(){T.b.set(kn.pid,"zoomLevel",Pn)},1e3))}function _s(){!function(e){Rt.classList.toggle("hidden",!e),clearTimeout(Os),Os=setTimeout(function(){T.b.set(kn.pid,"layoutGridEnabled",e)},1e3)}(o=!o)}let Os;function Ls(e){bt.innerHTML="",vt.innerHTML="",yt.classList.add("hidden"),It.width/Pn===e.width&&It.height/Pn===e.height||(It.src=""),It.src=e.url}function Ts(e){var t=20*Pn;nt.style.width=ja(e.width,{padding:240,unit:"px"}),nt.style.height=ja(e.height,{padding:120,unit:"px"}),nt.style.backgroundImage="linear-gradient(to bottom, transparent 0px, transparent "+2*Pn+"px, #FFF "+2*Pn+"px, #FFF "+t+"px), linear-gradient(to right, #C8C3C7 0, #C8C3C7 "+2*Pn+"px, #FFF "+2*Pn+"px, #FFF "+t+"px)",nt.style.backgroundPosition=window.innerWidth/2-151-Pn*e.width/2+"px "+(-3*t+58)+"px",nt.style.backgroundSize=t+"px "+t+"px",it.style.width=ja(e.width,{unit:"px"}),it.style.height=ja(e.height,{unit:"px"}),It.style.width=ja(e.width,{unit:"px"}),It.style.height=ja(e.height,{unit:"px"})}function Rs(e,t,n){for(var i=0;i<e.length;i++){var a=e[i];if(a[t]===n)return a;if("group"===a.type){var s=Rs(a.layers,t,n);if(s)return s}}return null}function Is(e){if(bt.innerHTML="",vt.innerHTML="",yt.classList.add("hidden"),e.layers&&(e.layers.forEach(fs),d)){var t=Rs(e.layers,"sourceId",d);d=null,t?(t=document.querySelector(".layer[data-id='"+t._id+"']"))&&xr(t):dr()}e.links&&e.links.forEach(function(t){!function(e,t,n){let a;if("screen"===e.destination.type&&!(a=i.findScreenByName(e.destination.name)))return;const s=document.createElement("a");switch(s.classList.add("link"),s.dataset.id=e.sourceId,s.dataset.linkType="inApp",s.dataset.flowNav="",s.style.width=Da(e.rect.width,t),s.style.height=Da(e.rect.height,n),s.style.left=Da(e.rect.x,t),s.style.top=Da(e.rect.y,n),e.destination.type){case"previous":s.href="#",s.dataset.navOp="pop";break;case"screen":s.href=L._3("project-screen",{url:{pid:i.id,sid:a._id}});break;default:return}vt.appendChild(s)}(t,e.width,e.height)}),function(e){var t=pi.getContext("2d");if(t.clearRect(0,0,pi.width,pi.height),e.grid){pi.width=ja(e.width),pi.height=ja(e.height);var n=e.grid,i="rgba(238, 103, 35, 0.3)";if(n.vertical){var a,s=n.vertical,o=ja(s.columnWidth+s.gutterWidth),r=s.numberOfCols,l=ja(n.horizontalOffset+(s.guttersOnOutside?s.gutterWidth/2:0));n.horizontal&&!n.horizontal.gutterHeight||!n.vertical.gutterWidth?(i="rgba(0, 255, 255, 0.7)",a=1):a=ja(s.columnWidth),r=1===a?r+1:r,t.fillStyle=i;for(var c=l,d=0;d<r;d++)t.fillRect(c,0,a,pi.height),c+=o}if(n.horizontal){var u,h=n.horizontal,p=ja(h.rowHeight+h.gutterHeight),m=Math.round(pi.height/p),f=0|ja(n.horizontalOffset);n.vertical&&!n.vertical.gutterWidth||!n.horizontal.gutterHeight?(i="rgba(0, 255, 255, 0.7)",u=1):u=ja(h.rowHeight),m=pi.height-m*p>p-u?m+1:m,t.fillStyle=i;for(var g=1===u?p:0,b=0;b<m;b++)t.fillRect(f,g,pi.width-2*f,u),g+=p}}}(e)}function As(e){if(Array.isArray(e.assets)&&e.assets.length){let t=[];e.assets.forEach(function(n){ps(n.contents)&&t.push(Dr(Dn._id,e,n)),Object.assign(n,{densityMismatch:e.density!==i.density})}),Promise.all(t).then(ir)}}var Ns={partial:[Ls,Ts],initial:[Ls,Ts,Is,As],zoom:[Ts],density:[Ts,Is,As],layers:[Is,As]};function Ps(e,t){Ns[t=t||"layers"].forEach(function(t){t(e)})}var Ms,Us,Bs,zs=!1;function Fs(e,t){zs?L.V("Already sent!",t):(zs=!0,fetch(Zeplin.urls.baseURL+"/organizations/"+e+"/requests/join",{method:"POST",headers:Zeplin.headers}).then(function(){L.V("Invitation sent!",t)}).catch(function(){L.V("Invitation sent!",t)}))}function qs(e){(e.totalVersionCount?Promise.resolve(e):za(e)).then(function(e){bi.classList.contains("versionsShown")?(Ss(e),T.b.set(i.id,e._id,"versionsLastSeen",new Date(e.versions[0].created))):Zs(e),ir()})}function Hs(e,t){clearTimeout(Us);var n=(t=t||e.versions[0]).snapshot,i=n?"layers":"initial";if(n&&_n._id===t._id&&Ps(n,"partial"),"pawn"===a.role&&s&&s.transitionFinished)return n&&(delete n.layers,delete n.assets),void Ps(n,i);!function(e){if(!A.a||!A.a.features||!A.a.features.openInPhotoshop)return;const t=Dn.versions.find(t=>t._id===e);t&&(A.a.ipcRenderer.removeAllListeners(`${e}:sourceFile`),A.a.ipcRenderer.once(`${e}:sourceFile`,function(e,n){t.sourceFile=n}),A.a.ipcRenderer.send("query-source-file",e))}(t._id),n&&"layers"in n?(Oi=!1,Ps(n,i),ir(),_a()):(Oi=!0,Us=setTimeout(function(){Kn.start(),La(e,t).then(function(e){null!==Dn&&e&&_n._id===t._id&&(Oi=!1,Ps(e,i),ir(),_a())})},300))}function Ws(e){var t;return st.innerHTML="","dots"in e?(e.dots.forEach(Cs),t=T.b.get(i.id,"dotListingsStatusFilter").then(function(e){"open"!==e&&"resolved"!==e&&(T.b.set(i.id,"dotListingsStatusFilter","open"),e="open"),st.dataset.statusFilter=e})):t=new Promise(function(t){clearTimeout(Bs),Bs=setTimeout(function(){(function(e){if(e){var t,n=ya("dots");if(n)t=Promise.resolve(n);else{var a=F.a.mark();t=fetch(Zeplin.urls.baseURL+"/v2/projects/"+i.id+"/screens/"+e._id+"/dots",{headers:Zeplin.headers}).then(function(e){return F.a.measure("api.getDots",{start:a,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(e.ok)return t;throw R.a(e.status,t)})})}return t.then(function(t){if(e.dots=t.dots,e.dots.forEach(function(e){e.status=e.status||"open"}),Dn===e)return(kn.did&&1===kn.did.length?Promise.resolve([va(kn.did[0])||"open",null]):Promise.all([T.b.get(i.id,"dotListingsStatusFilter"),T.b.get(i.id,"dotListingsColorFilter")])).then(function([t,n]){Tr(t,n),e.dots.forEach(Cs),kn.did&&1===kn.did.length?yr(kn.did[0],kn.cmid):Hi(kn.did)})}).catch(function(t){Dn===e&&R.b(t)})}})(e).then(function(){t()})},300)}),t}function Zs(e){var t=document.querySelector(".versionsAuntie");t&&t.remove(),t=null,T.b.get(i.id,e._id,"versionsLastSeen").then(function(n){if(!n)return T.b.set(i.id,e._id,"versionsLastSeen",new Date(e.versions[0].created));var s=e.versions.filter(function(e){return new Date(e.created)>n});if(document.querySelector(".versionsToggle").classList.toggle("hasNewVersions",s.length),s.length){var o=s.filter(function(e){return e.creator&&e.creator._id===a.user._id}),r=o.find(function(e){return!e.commit||!e.commit.message}),l=s.length-o.length;r&&"dismissed"!==sessionStorage.getItem("versionsCommitAuntieStatus")?t=O.a({content:new Date-new Date(r.created)>36e5?"Looks like you uploaded a version <time-ago datetime='"+r.created+"'></time>. Add a commit message and share what has changed!":"New version! Add a commit message and share what has changed.",type:"html",buttonText:"Got it!",popover:!0,hideCallback:function(){sessionStorage.setItem("versionsCommitAuntieStatus","dismissed")}}):l&&"dismissed"!==sessionStorage.getItem("newVersionsAuntieStatus")&&(t=O.a({content:"There "+(l>1?"are ":"is ")+(l>1?l:"a")+" new version"+(l>1?"s":"")+" since you last visited!",buttonText:"Got it!",popover:!0,hideCallback:function(){sessionStorage.setItem("newVersionsAuntieStatus","dismissed")}})),t&&(t.classList.add("versionsAuntie"),document.body.appendChild(t))}})}function Vs(){return!(!ni||!si)&&("dashboard"===Tn||"styleguide"===Tn?N.a.setViewMenuContext(Tn):bi.classList.contains("versionsShown")?N.a.setViewMenuContext("screen-view",{versionsShown:!0}):N.a.setViewMenuContext("screen-view"),!0)}function $s(){if(ni&&si&&i){var e=i.findUser(Zeplin.user._id),t=[],n=[];L.O.canDeleteProject(e)?t.push("deleteProject"):n.push("deleteProject"),L.O.canLeaveProject(e)?t.push("leaveProject"):n.push("leaveProject"),Dn?(L.O.canManageScreens(e)&&(t.push("renameScreen","deleteScreen"),Dn.tags.length?(t.push("manageTags"),n.push("addTag")):(n.push("manageTags"),t.push("addTag"))),!L.O.canUpdateProject(e)||i.thumbnail&&i.thumbnail===Dn.versions[0].snapshot.url?n.push("setAsThumbnail"):t.push("setAsThumbnail")):n.push("renameScreen","deleteScreen","setAsThumbnail","addTag","manageTags"),N.a.updateEditCapabilities({on:t,off:n})}}function Gs(e){CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||(clearTimeout(fa),window.removeEventListener("resize",Wa)),window.removeEventListener("resize",Ao);var t=Ea(e);if(!t&&(Ys().length>0&&(Po(),No(),t=Ea(e)),!t))return _.a({message:"Screen not available anymore.",defer:!0}),void ua(i.id,Mo());r=t,xn=parseInt(t.dataset.viewIndex,10),tr(),(Dn=i.screens.find(function(e){return e._id===r.dataset.id})).description=Dn.description||"";var n=Mo();return dn.value.length&&(n.q=dn.value),"screen"!==Tn&&(qe.href=L._3("project-dashboard",{url:{pid:i.id},query:n}),qe.querySelector("span").textContent="Dashboard"),x.f("project-screen"),Tn="screen",document.removeEventListener("keydown",Zo),document.addEventListener("keydown",Ho),document.addEventListener("keyup",Wo),window.addEventListener("blur",Vo),ze.dataset.selection="screen",He.disabled=0===xn,We.disabled=xn===Oo()-1,function(e){if("webUrl"in e)return;const t=e._id,n=L._3("project-screen",{url:{pid:i.id,sid:t}});dl(n).catch(function(){return n}).then(function(t){e.webUrl=t})}(Dn),Ze.textContent=Dn.name,Ze.title=Dn.name,Zi(),_n=Dn.versions[0],d=null,dr(),Hs(Dn),function(e){clearTimeout(Ms),Ms=setTimeout(qs,300,e)}(Dn),!Vs()&&ei&&A.a.ipcRenderer.send("popout:menuitem:enabled",!0),ir(),$s(),Ws(Dn).then(()=>{ir(),Cc()})}function Ys(){return Array.from(document.querySelectorAll(".tag.selected:not(.untagged)"),function(e){return L._1(e.dataset.tag)})}function Ks(){return document.querySelector(".tag.untagged.selected")}function Xs(e){return Array.isArray(e)?function(t){return e.reduce(function(e,n){return e&&t.tags&&t.tags.includes(n)},!0)}:function(t){return t.tags&&t.tags.includes(e)}}function Js(e,t,n){e&&L.O.canManageScreens(a)&&(i.addScreensToSection(e,t,n),No())}function Qs(e,t,n){if(e){i.updateScreenOrder(e,t,n);var a=Eo(e),s=a.querySelector(".screenGrid"),o=parseInt(a.dataset.viewIndexOffset,10);i.findSection(e).screens.forEach(function(e,t){var n=Ea(e);n.dataset.index=t,n.dataset.viewIndex=o+t,s.appendChild(n)})}}function eo(){var e=document.querySelector(".screenMenu");e&&e.remove()}var to,no,io,ao,so=document.getElementById("sectionMenuTemplate"),oo=document.getElementById("screenMenuTemplate"),ro=document.getElementById("moveCubuk");function lo(e,t){if(e){var n=i.removeSection(e);return No(),function(e){if(e)return fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/sections/"+e,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})})}(e).catch(function(e){R.b(e),i.addSection(n,t),No()})}}function co(){var e=i.id,t=i.type,n=i.density,a=s?s._id:null;function o(i){return i.filter(function(i){var a=i._id!==e&&i.type===t&&("unknown"===i.density||i.density===n),s="active"===i.status,o=!0;if(L.J(i)){var r=i.users.find(function(e){return e.user._id===Zeplin.user._id});o=r&&L.O.canManageScreens(r)}return a&&s&&o}).sort(L.W.name)}return Promise.all([function(e){return"user"!==(e=e||"user")?Promise.resolve(null):Ce.u().then(function(e){return o(e)})}(a),function(e){return e=e||"user",Ce.r().then(function(t){return t.filter(function(t){return"active"===t.status&&("user"===e||e===t._id)})}).then(function(e){return Promise.all(e.map(function(e){return Ce.p(e._id,Zeplin.user._id)})).then(function(t){return e.filter(function(e,n){return L.O.canMoveScreens(t[n])}).sort(L.W.name)})}).then(function(e){return Promise.all(e.map(function(e){return Ce.u(e._id)})).then(function(t){return t.map(function(t,n){var i=o(t);return[e[n],i]})})})}(a)]).then(function(e){var t=e[0],n=e[1],i=[];return t&&(i.push({type:"header",content:"Personal Projects"},{type:"create",oid:"user"}),i=i.concat(t.map(function(e){return{type:"project",pid:e._id,name:e.name,density:e.density}}))),i=i.concat(n.reduce(function(e,t){var n=t[0],i=t[1];return e.push({type:"header",content:n.name+"'s Projects"},{type:"create",oid:n._id}),e.concat(i.map(function(e){return{type:"project",pid:e._id,name:e.name,density:e.density}}))},[]))})}function uo(e){R.b(e,{clientErrorHandler:{402:function(){_.a({title:"Please upgrade your plan first",message:"Looks like you reached your project limit, upgrade now to create more!",cancel:{name:"CANCEL"},done:{name:"SEE PLANS",cb:function(){ai?location.replace(L._3("profile-billing",{query:{period:"annual"}})):(document.getElementById("planChooserOverlay").classList.remove("hidden"),mixpanel.webapp.track("Opened pricing popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-pricing-popup"),ga("send","pageview","/pricing-popup"))}}})},default:R.b}})}function ho(e,t,n,a,s,o){var r,l,c=i.density,d=i.type;function u(t){var n=t._id||t.pid;return r=n,("unknown"===t.density?Ce.F(n,c):Promise.resolve()).then(function(){return Ce.A(i.id,n,e.screens)})}function h(t){var n=t.pid,a=t.seid;return Ce.A(i.id,n,e.screens).then(function(){return{tseid:a,tpid:n}})}function p(t){var n=t.tseid,i=t.tpid;return l=n,Ce.J(i,n,0,e.screens)}function m(){return Ce.l(i.id,e._id)}var f="create"===t.type?"a new project":'"'+t.name+'"';_.a({message:'Move selected section from "'+i.name+'" to '+f+"?",done:{name:"MOVE",cb:function(){switch(a(n),t.type){case"create":Ce.g(t.oid,d,L.w(),c,e.name).then(u).then(m).then(function(){return o(r,l)}).catch(uo);break;case"project":(function(t){var n,i=t._id||t.pid;return r=i,n="unknown"===t.density?Ce.F(i,c):Promise.resolve(),e.index=1,n.then(function(){return Ce.h(i,e)})})(t).then(h).then(p).then(m).then(function(){return o(r,l)}).catch(R.b)}}},cancel:{name:"KEEP",cb:function(){s&&s()}}})}function po(e,t,n){e&&function(e,t,n){var a=i.findSection(t),s=e.querySelector(".sectionHeader"),o=ae.default.h(se.a,{top:n.top,left:n.left,density:i.density,projectType:i.type,projectsLoader:co,onOpen:function(){_e.classList.add("noScroll"),s.classList.add("moveToProjectPopupOpen")},onMove:function(e,t,n,i,s){ho(a,e,t,n,s,function(e,t){mixpanel.webapp.track("Moved section to project"),location.assign(L._3("project",{url:{pid:e},query:{seid:t}}))})},onClose:function(){_e.classList.remove("noScroll"),s.classList.remove("moveToProjectPopupOpen")}});ae.default.render(o,document.body)}(t,e,{top:n.top+n.height/2,left:n.right-320})}function mo(e,t,n){n=void 0===n||n;var a="collapse"===t;e.classList.toggle("collapsed",a);var s=e.dataset.id;s&&n&&(Sn[s]=a,T.b.set(i.id,"sectionsCollapseState",Sn))}function fo(e,t){mo(e,"collapse",t)}function go(e,t){mo(e,"expand",t)}function bo(e,t){if(k)return{height:Ga-2*Ka,top:Ka};const n=e.querySelector(".screenImage").getBoundingClientRect();let i;if(t){const e=t.querySelector(".screenImage").getBoundingClientRect();i=e.top!==n.top?n.height:Math.min(n.height,e.height)}else i=n.height;const a=Math.max(Xa,Math.min(Ja,Math.round(i-2*Ka)));return{height:a,top:Math.max(0,Math.round((i-a)/2))}}function vo(e){if(!L.O.canManageScreens(a)||document.querySelector(".tag.selected")||dn.value.toLowerCase().trim()||mn.querySelector("input:checked"))return;if(!e.target.classList.contains("screen"))return void yn.classList.add("hidden");const t=e.target,n=t.getBoundingClientRect();let i,s;if(e.clientX<=n.left)yn.style.left=`${n.left-24}px`,i=ka(parseInt(t.dataset.viewIndex,10)-1),s=t.dataset.id;else{if(!(e.clientX>=n.right))return;yn.style.left=`${n.right}px`,s=(i=ka(parseInt(t.dataset.viewIndex,10)+1)).dataset.id}const{height:o,top:r}=bo(t,i);yn.dataset.nextScreenId=s,yn.style.height=`${o}px`,yn.style.top=`${_e.scrollTop+n.top+r-60}px`,yn.classList.remove("hidden")}function yo(e,t){return fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/sections/",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({name:e.name,screens:e.screens,index:t})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw R.a(e.status,t)})})}function Co(e,t){if(e)return fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/sections/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(t)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})})}function wo(e){var t=e.querySelector(".screenGrid"),n=e.querySelector(".sectionHeader");n.addEventListener("click",function(t){if(t.target.matches(".sectionDescriptionForm .mirror")){var s=t.target.closest(".sectionDescriptionForm"),o=t.target.nextElementSibling;return jo(o),s.classList.add("editing"),s.querySelector(".counter").textContent=o.maxLength-o.value.length,void o.focus()}var r=t.target.closest("button[data-action]");if(!r)return e.classList.contains("collapsed")&&(go(e),t.stopPropagation()),void Jl();switch(t.stopPropagation(),r.dataset.action){case"open-menu":n.classList.contains("moveToProjectPopupOpen")||(Jl(),function(e,t){var n=e.querySelector(".sectionHeader"),s=document.importNode(so.content,!0),o=s.querySelector(".sectionMenu");o.classList.add("open");var r=n.querySelector(".sectionActions");r.parentElement.insertBefore(s,r);var l=i.findSection(e.dataset.id),c=L.O.canMoveScreens(a)&&l.screens.length>0;o.querySelector(".menuitem[data-action='move-section-screens']").classList.toggle("hidden",!c);var d=o.getBoundingClientRect(),u=n.querySelector("div:first-child");if(d.bottom+12>window.innerHeight){var h=window.innerHeight-r.getBoundingClientRect().top-12;o.style.top=h-o.clientHeight+"px"}else if(d.top-ze.clientHeight-12<0){var p=12+ze.clientHeight-u.getBoundingClientRect().top;o.style.top=p+"px"}o.addEventListener("click",function(t){if(t.button===Zeplin.MOUSE_BUTTON.LEFT){var n=t.target.closest(".menuitem");if(n){var a=t.target.closest(".section");switch(a.classList.contains("collapsed")&&go(a),Jl(),n.dataset.action){case"edit-description":var s=a.querySelector(".sectionHeader .sectionDescription"),o=s.closest(".sectionDescriptionForm");a.classList.contains("hasDescription")||(xo(s,"A sweet, short description"),a.classList.add("hasDescription")),o.classList.add("editing"),o.querySelector(".counter").textContent=s.maxLength-s.value.length,L.E(s);break;case"rename":L.E(a.querySelector(".sectionHeader .sectionName"));break;case"delete":lo(a.dataset.id,a.dataset.index);break;case"copy-app-uri":var r=`${ie.B}//project?pid=${i.id}&seid=${e.dataset.id}`;L.i({content:r,toastContainer:document.querySelector(".overviewContent")});break;case"download-screen-images":ql(l.screens,l.name+".zip");break;case"copy-web-link":var c=L._3("project",{url:{pid:i.id},query:{seid:e.dataset.id}});L.i({content:c,toastContainer:document.querySelector(".overviewContent")});break;case"move-section-screens":po(a.dataset.id,a,d)}}}})}(e));break;case"collapse":Jl(),e.classList.contains("collapsed")?go(e):fo(e)}}),n.addEventListener("blur",function(t){if(L.O.canManageScreens(a)&&"input"===t.target.tagName.toLowerCase()){t.preventDefault();var n=e.dataset.id,s=i.findSection(n);if(s)if(t.target.classList.contains("sectionName")){var o=t.target.value.trim();if(!0===s.new&&delete s.new,o===s.name)return;o?(xo(t.target,o),function(e,t){if(e._id){var n=e.name;e.name=t,Co(e._id,{name:t}).catch(function(t){e.name=n,No().then(function(){R.b(t,{dialogCallback:function(){var t=Eo(e._id);L.E(t.querySelector(".sectionName"))}})})})}}(s,o)):xo(t.target,s.name)}else if(t.target.classList.contains("sectionDescription")){var r=t.target.value.trim();if(e.classList.toggle("hasDescription",r.length>0),t.target.closest(".sectionDescriptionForm").classList.remove("editing"),xo(t.target,r),r===s.description)return;!function(e,t){if(e._id){var n=e.description;e.description=t,Co(e._id,{description:t}).catch(function(t){e.description=n,No().then(function(){R.b(t,{dialogCallback:function(){var t=Eo(e._id);L.E(t.querySelector(".sectionDescription"))}})})})}}(s,r)}}},!0),n.addEventListener("submit",function(e){if(L.O.canManageScreens(a)){e.preventDefault();var t=e.target.querySelector("input");t&&t.blur()}}),n.addEventListener("keydown",function(t){if(L.O.canManageScreens(a)){t.stopPropagation();var n=t.target.closest("input");if(n&&-1!==["sectionName","sectionDescription"].indexOf(n.name))switch(t.keyCode){case Zeplin.KEY_CODE.ESC:var s=i.findSection(e.dataset.id);if(!s)return;if(!0===s.new)return void lo(s._id,parseInt(e.dataset.index,10));xo(n,s["sectionName"===n.name?"name":"description"]),n.blur()}}});var s=n.querySelector(".sectionDescriptionForm .counter");n.addEventListener("input",function(e){jo(e.target),e.target.classList.contains("sectionDescription")&&(s.textContent=e.target.maxLength-e.target.value.length)}),t.addEventListener("mouseover",vo),t.addEventListener("mouseover",function(e){var t=e.target.closest(".screenLink");t&&(t.classList.add("hover"),t.classList.remove("highlight"))}),t.addEventListener("mouseout",function(e){var t=e.target.closest(".screenLink");t&&t.classList.remove("hover")}),t.addEventListener("keydown",function(e){if(L.O.canManageScreens(a)&&(e.stopPropagation(),e.target.classList.contains("screenName")))switch(e.keyCode){case Zeplin.KEY_CODE.ESC:var t=e.target.closest(".screen").dataset.id;e.target.value=i.screens.find(function(e){return e._id===t}).name,e.target.blur()}}),t.addEventListener("submit",function(e){L.O.canManageScreens(a)&&(e.preventDefault(),e.target.querySelector(".screenName").blur())}),t.addEventListener("blur",function(e){if(L.O.canManageScreens(a)&&(e.preventDefault(),e.target.classList.contains("screenName"))){var t=e.target.closest(".screen").dataset.id,n=i.screens.find(function(e){return e._id===t}),s=e.target.closest(".screen").querySelector(".screenNameMirror");if(!e.target.value)return s.classList.remove("hidden"),void(e.target.value=n.name);if(n.name!==e.target.value){s.classList.add("hidden");var o=n.name;n.name=e.target.value,No(),function(e,t,n){if(!L.O.canManageScreens(a))return;fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/screens/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({name:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).catch(function(t){i.screens.find(function(t){return t._id===e}).name=n,No().then(function(){R.b(t,{dialogCallback:function(){var t=Ea(e);t.querySelector(".screenNameMirror").classList.add("hidden"),L.E(t.querySelector(".screenName"))}})})})}(t,n.name,o)}else s.classList.remove("hidden")}},!0),t.addEventListener("contextmenu",function(e){Jl();var t=e.target.closest(".screenLink");if(t){var n=t.parentElement;e.preventDefault();var s=document.importNode(oo.content,!0),o=s.querySelector(".screenMenu");o.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".menuitem");if(t){switch(e.stopPropagation(),t.dataset.action){case"thumbnail":xl(n.dataset.id);break;case"delete":_.a({title:'Delete  "'+n.querySelector(".screenName").value+'"?',message:"Deleted screens cannot be restored.",done:{name:"DELETE",cb:function(){n.classList.remove("menuOpen"),_l(n.dataset.id).then(function(){ts(),Uo(Ys())})}},cancel:{name:"CANCEL"}});break;case"manageTags":Il(n.dataset.id);break;case"download":!function(e){if(L.f())Dl(e).then(function(e){return ls({data:URL.createObjectURL(e.blob),name:e.name})});else{var t=Rl(e).versions[0].snapshot.url;t.includes("raven-warehouse")||(t=ie.d+new URL(t).pathname),Mi(t)}}(n.dataset.id);break;case"copy-web-link":var a=i.findScreen(n.dataset.id),s=a.webUrl||L._3("project-screen",{url:{pid:i.id,sid:a._id}});L.i({content:s,toastContainer:document.querySelector(".overviewContent")});break;case"copy-app-uri":L.i({content:`${ie.B}//screen?pid=${i.id}&sid=${n.dataset.id}`,toastContainer:document.querySelector(".overviewContent")});break;case"move-screen":!function(e){if(!e)return;var t=e.getBoundingClientRect(),n={top:t.top+t.height/2,left:t.left+172};!function(e,t){var n=ae.default.h(se.a,{top:t.top,left:t.left,density:i.density,projectType:i.type,projectsLoader:co,onOpen:function(){_e.classList.add("noScroll")},onMove:function(t,n,a,s,o){!function(e,t,n,a,s,o,r){var l=i.density;function c(t){var n=t._id||t.pid;return("unknown"===t.density?Ce.F(n,l):Promise.resolve()).then(function(){return Ce.A(i.id,n,[e])})}var d="create"===t.type?"a new project":'"'+t.name+'"';_.a({message:'Move selected screen from "'+i.name+'" to '+d+"?",done:{name:"MOVE",cb:function(){var e,o;switch(a(n),t.type){case"create":e=Ce.g(t.oid,i.type,L.w(),l),o=uo;break;case"project":e=Promise.resolve(t),o=function(e){!function(e,t){R.b(e,{clientErrorHandler:{402:function(){_.a({title:"Can't move screens to “"+t+"”",message:e.message})},default:R.b}})}(e,t.name)}}e.then(c).then(r).catch(o).then(s,s)}},cancel:{name:"KEEP",cb:function(){o&&o()}}})}(e.dataset.id,t,n,a,s,o,function(){mixpanel.webapp.track("Moved screens to project");var t=i.findScreenSection(e.dataset.id);i.removeScreen(t._id,e.dataset.id),ts(),Uo(Ys())})},onClose:function(){e.classList.remove("menuOpen"),_e.classList.remove("noScroll")}});ae.default.render(n,document.body)}(e,n)}(n)}setTimeout(function(){eo()},80)}}});var r=L.O.canUpdateProject(a),l=L.O.canManageScreens(a),c=L.O.canMoveScreens(a);o.querySelector(".menuitem[data-action='thumbnail']").classList.toggle("hidden",!r),o.querySelector(".menuitem[data-action='manageTags']").classList.toggle("hidden",!l),o.querySelector(".menuitem[data-action='delete']").classList.toggle("hidden",!l),o.querySelector(".menuitem[data-action='move-screen']").classList.toggle("hidden",!c);var d=Rl(n.dataset.id);o.classList.toggle("taglessScreen",!d.tags||0===d.tags.length),n.appendChild(s),ic(o,Di.domNode,n,e)}})}function So(e){return{screens:e,type:"default"}}function ko(e){if((e=e||{}).searchTerm){var t={},n=i.screens.filter(function(n){var i=L.c(e.searchTerm,n.name);return t[n._id]=i,i}).sort(function(e,n){var i=t[n._id]-t[e._id];return i||L.W.name(e,n)});return n.length>0?[So(n)]:[]}var a;if(e.sortBy){var s=i.screens.slice(0).sort(L.W[e.sortBy]);a="lastUpdated"===e.sortBy?function(e){var t=[],n={};return e.forEach(function(e){var i,a=L.B(new Date(e.updated));a in n?i=n[a]:(t.push(a),i=[],n[a]=i),i.push(e)},{}),t.map(function(e){return{name:L._2(e),screens:n[e],type:"timeline"}})}(s):[So(s)]}else a=function(){var e=i.sections.map(function(e){return(e=Object.assign({},e)).screens=e.screens.map(i.findScreen,i).filter(Boolean),e.type="user",e});return e[0].screens.length>0?e[0].type="default":e.splice(0,1),e}();return e.tagFilter&&(a=function(e,t){var n;return t?("tags"in t?n=Xs(t.tags):"untagged"in t&&(n=function(e){return!e.tags||!e.tags.length}),e.map(function(e){return Object.assign(e,{screens:e.screens.filter(n)})}).filter(function(e){return!!e.screens.length})):e}(a,e.tagFilter)),a}function Eo(e){return vn.querySelector(".section[data-id='"+e+"']")}function jo(e,t){var n=e.parentElement.querySelector(".mirror");t?n.innerHTML=Kr(e.value.replace(/ /g," ")):n.textContent=e.value.replace(/ /g," ")}function xo(e,t){e.value=t||"",jo(e,!0)}function Do(e,t,n){var s=document.importNode(bn.content,!0),o=s.querySelector(".section"),r=s.querySelector(".screenGrid"),l=s.querySelector(".sectionName"),c=s.querySelector(".sectionDescription"),d=s.querySelector(".screenCount"),u=L.O.canManageScreens(a);xo(l,e.name),e._id&&(o.dataset.id=e._id),"user"===e.type&&(l.readOnly=!u,c.readOnly=!u,e.description&&e.description.length&&(xo(c,e.description),o.classList.add("hasDescription")),e.screens.length>1&&(d.textContent=e.screens.length),o.classList.toggle("empty",0===e.screens.length)),!function(e){return e&&Sn[e]}(e._id)||o.classList.contains("empty")?go(o,!1):fo(o,!1),o.classList.add(e.type),o.dataset.index=t,o.dataset.viewIndexOffset=n,e.screens.forEach(function(e,t){!function(e,t,n,s){var o=document.importNode(Qa.content,!0),r=o.querySelector(".screen"),l=o.querySelector(".screenName"),c=o.querySelector(".screenNameMirror"),d=o.querySelector(".screenLink"),u=L.O.canManageScreens(a);r.dataset.id=t._id,r.dataset.index=n,r.dataset.viewIndex=s+n,d.href=L._3("project-screen",{url:{pid:kn.pid,sid:t._id}}),o.querySelector(".screenLastUpdated").setAttribute("datetime",t.updated||i.updated),r.classList.toggle("thumbnail",i.thumbnail===t.versions[0].snapshot.url),l.value=t.name,l.readOnly=!u;var h=dn.value.toLowerCase().trim();h&&(c.innerHTML=L.F(t.name,h));var p=r.querySelector(".screenImage"),m=t.versions[0].snapshot,f=Math.round($a/m.width*m.height);p.width=$a,p.height=k?Ga:Math.min(f,Ya),d.classList.add("loading"),p.addEventListener("load",function e(t){t.target.removeEventListener("load",e),t.target.parentElement.classList.remove("loading")}),Va.observe(r),e.appendChild(o)}(r,e,t,n)}),vn.appendChild(s),wo(o)}function _o(){var e={};dn.value&&(e.searchTerm=dn.value.toLowerCase().trim());var t=mn.querySelector("input:checked");t&&(e.sortBy=t.name);var n=Ys();return n.length?e.tagFilter={tags:n}:Ks()&&(e.tagFilter={untagged:!0}),e}function Oo(){return vn.querySelectorAll(".screen").length}function Lo(e,t){const n=e.getBoundingClientRect();let i;t?(ro.style.left=`${n.right+11}px`,i=ka(parseInt(e.dataset.viewIndex,10)+1)):(ro.style.left=n.left-13+"px",i=ka(parseInt(e.dataset.viewIndex,10)-1));const{height:a,top:s}=bo(e,i);ro.style.top=`${_e.scrollTop+n.top+s-60}px`,ro.style.height=`${a}px`,ro.classList.remove("hidden")}function To(){Array.from(vn.querySelectorAll(".screenGrid")).forEach(function(e){Q.a.disable(e.dataset.dragId)}),vn.innerHTML="",yn.classList.add("hidden");var e=!i.screens||!i.screens.length;if(Bt.disabled=e,e&&1===i.sections.length)return ki.render({platform:document.body.classList.contains("electron")?"electron":"web",supportsFigma:!!A.a&&!!A.a.features&&!!A.a.features.figma,supportsXd:!!A.a&&!!A.a.features&&!!A.a.features.xd}),void document.querySelector(".projectOverview").classList.add("empty");ki.remove(),document.querySelector(".projectOverview").classList.remove("empty"),document.querySelector(".noIntersection").removeAttribute("data-empty-for");var t=_o(),n=ko(t);"tagFilter"in t&&!n.length&&(document.querySelector(".noIntersection").dataset.emptyFor=Ks()?"untagged":"tagged"),vn.classList.toggle("locked","sortBy"in t);var s=0;n.forEach(function(e,t){Do(e,t,s),s+=e.screens.length}),Q.a.enable({containers:Array.from(vn.querySelectorAll(".screenGrid")),dropTargets:Array.from(vn.querySelectorAll(".section")),root:_e,canGrab:function(){return L.O.canManageScreens(a)},onGrab:function(e,t){t.style.height="",es();var n=e.getBoundingClientRect(),i=t.getBoundingClientRect();no=parseInt(e.dataset.index,10),to=e.closest(".section").dataset.id,Lo(e,i.left>n.left),document.body.classList.add("dragging")},onDrop:function(e,t,n){ro.classList.add("hidden"),document.body.classList.remove("dragging");var s=t.dataset.id,o=t.closest(".section").dataset.id;if(to&&o){if(o===to){var r=parseInt(t.dataset.index,10);if(r===no)return;var l={screens:[{_id:s,to:parseInt(no,10)}]};Qs(to,s,no),function(e,t,n,s){e&&L.O.canManageScreens(a)&&fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/sections/"+e+"/screens/order",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(n)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).catch(function(n){R.b(n),Qs(e,t,s)})}(to,s,l,r)}else!function(e,t,n){if(e&&L.O.canManageScreens(a)){var s=JSON.parse(JSON.stringify(i.sections));Js(e,t,n),fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/sections/"+e+"/screens",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({index:n,screens:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).catch(function(e){i.sections=s,No(),R.b(e)})}}(to,[s],no);to=null,no=null}},onMove:function(e,t,n,i,a){var s;if("sortBy"in _o()?s="Unselect sort option to reorder":document.querySelector(".tag.selected")?s="Unselect tags to reorder":dn.value.toLowerCase().trim()&&(s="Reset search to reorder"),s)document.querySelector(".toastContainer")||L.V(s,document.querySelector("main"));else{Array.from(vn.querySelectorAll(".section.dropTarget")).forEach(function(e){e.classList.remove("dropTarget")});var o=a.getBoundingClientRect();if(i){var r=i.getBoundingClientRect(),l=parseInt(i.dataset.index,10),c=parseInt(t.dataset.index,10),d=o.left>r.left,u=0;n===e?u=d?l<c?1:0:l<=c?0:-1:d&&(u=1),no=l+u,to=n.closest(".section").dataset.id,Lo(i,d)}else if(n){var h=n.querySelectorAll(".screen").length-1;if(n.classList.contains("section")&&(n.classList.contains("empty")||n.classList.contains("collapsed")))return to=n.dataset.id,no=n.classList.contains("collapsed")?h+1:0,ro.classList.add("hidden"),void n.classList.add("dropTarget");var p=n.querySelector('.screen[data-index="'+h+'"]'),m=p.getBoundingClientRect();o.bottom>m.top&&o.left>m.left&&(to=n.closest(".section").dataset.id,no=h,n!==e&&(no+=1),Lo(p,!0))}}}}),function(){var e=Oo(),t=Ys(),n=(e||"No")+" screen"+(1===e?"":"s");if(un.classList.remove("showHint"),t.length)if(n+=" with ",1===t.length)n+=t,un.classList.add("showHint");else{var i=t.pop();n+=t.join(", ")+", and "+i}else Ks()&&(n=(e||"No")+" untagged screen"+(1===e?"":"s")+" ");Oe.textContent=n,Oe.title=n}(),Ao()}yn.addEventListener("click",function(){var e=yn.dataset.nextScreenId,t=Ea(e),n=i.findScreenSection(e);yn.classList.add("hidden"),n&&L.O.canManageScreens(a)&&function(e,t){if(e){var n=JSON.parse(JSON.stringify(i.sections)),a=i.splitSection(e,t,"Untitled section");a.new=!0,No().then(function(){var t=Eo(e),s=t?t.nextElementSibling:vn.firstElementChild,o=i.sections.findIndex(function(t){return t._id===e})+1;L.E(s.querySelector(".sectionName")),yo(a,o).then(function(e){a._id=e._id,s.dataset.id=e._id}).catch(function(e){i.sections=n,No(),R.b(e)})})}}(n._id,t.dataset.index)}),_e.addEventListener("scroll",function(){io||(io=!0,yn.classList.add("hidden"),clearTimeout(ao),ao=setTimeout(function(){io=!1},200))}),vn.addEventListener("dragstart",function(e){e.target.closest(".screenLink")&&e.preventDefault()});var Ro,Io="36px";function Ao(){var e=vn.querySelector(".section:not(.collapsed) .screenLink");if(e){var t=e.getBoundingClientRect();Io=Math.max(36,t.left)+"px"}Array.from(vn.querySelectorAll(".sectionHeader")).forEach(function(e){e.style.paddingLeft=Io,e.style.paddingRight=Io})}function No(e){var t=!0;return e&&"immediate"in e&&(t=e.immediate),new Promise(function(e,n){t?(To(),e()):(clearTimeout(Ro),Ro=setTimeout(function(){To(),e()},300))})}function Po(){En="",Array.from(document.querySelectorAll(".tag.selected")).forEach(function(e){e.classList.remove("selected")})}function Mo(){return Ks()?{untagged:"true"}:En||{}}function Uo(e){Po(),e&&(En={tag:e},(e=[].concat(e).filter(function(e){return i.tags.indexOf(e)>-1})).forEach(function(e){document.querySelector(".tag[data-tag='"+decodeURIComponent(L.m(e)+"']")).classList.add("selected")})),No()}function Bo(){var e=Ys();En=e.length?{tag:e}:{},Ks()?kn.untagged="true":delete kn.untagged,ua(i.id,Mo())}function zo(){tr(),Ur(),Cl(),Jl(),Al()}Q.a.enable({containers:vn,root:_e,allowX:!1,canGrab:function(e,t){return!!(L.O.canManageScreens(a)&&e.classList.contains("user")&&t.closest(".sectionHeader"))},onGrab:function(e,t){e.classList.contains("collapsed")||(fo(e,!1),t.classList.add("collapsed")),es(),document.body.classList.add("dragging"),t.classList.add("grabbed")},onDrop:function(e,t,n,a,s){return new Promise(function(e){var n=t.getBoundingClientRect(),a=s.getBoundingClientRect(),o=n.left-a.left,r=n.top-a.top,l=Math.sqrt(Math.pow(o,2)+Math.pow(r,2)),c=150*Math.max(Math.sqrt(l/n.height),1);s.classList.remove("grabbed"),s.style.transition="transform "+c+"ms ease-out, box-shadow "+c+"ms ease-in",s.style.transform="translate("+o+"px, "+r+"px)",s.style.boxShadow="none",s.addEventListener("transitionend",function n(){s.removeEventListener("transitionend",n);var a=parseInt(t.dataset.index,10),o=Array.prototype.indexOf.call(t.parentNode.children,t);vn.firstElementChild.classList.contains("default")||(a++,o++),o!==a&&function(e,t,n){if(e)i.updateSectionOrder(e,t),No(),fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/sections/order",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({sections:[{_id:e,to:parseInt(t,10)}]})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).catch(function(t){i.updateSectionOrder(e,n),No(),R.b(t)})}(t.dataset.id,o,a),document.body.classList.remove("dragging"),e()})})},onMove:function(e,t,n,i,a){if(n){var s=t.getBoundingClientRect();if(n!==e){var o=n.getBoundingClientRect();t.remove(),s.bottom>o.bottom?n.appendChild(t):n.insertBefore(t,n.firstElementChild)}else if(i&&i!==t){if(i.classList.contains("default"))return;var r=i.getBoundingClientRect(),l=a.getBoundingClientRect();s.top>=r.bottom?l.height<=r.top&&l.top<r.top+r.height/2&&(t.remove(),n.insertBefore(t,i)):l.bottom>r.top+r.height/2&&r.bottom<=window.innerHeight&&(t.remove(),n.insertBefore(t,i.nextElementSibling))}}}}),Le.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&e.target.classList.contains("tag")&&!un.classList.contains("searching")&&(e.target.classList.contains("selected")?e.target.classList.remove("selected"):(e.target.classList.contains("untagged")?Po():((document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)||Po(),document.querySelector(".tag.untagged").classList.remove("selected")),e.target.classList.add("selected")),Bo())}),Re.addEventListener("click",function(){Po(),Bo()});var Fo={};function qo(){Qn=!1,Jn?(at.src=Zeplin.urls.appURL+"/img/grab.svg",document.body.classList.contains("mac")||(nt.classList.remove("panMode"),nt.classList.add("holdingSpace"))):nt.classList.remove("panMode"),document.removeEventListener("mouseup",qo)}function Ho(e){if(!(function(e){const t=e.tagName.toLowerCase();return"input"===t||"textarea"===t||!I.c()||!ot.classList.contains("hidden")||!Pt.classList.contains("hidden")||!Ft.classList.contains("hidden")||hn.classList.contains("focus")}(e.target)||document.querySelector(".optionsOpen")||Nn)){if(e.keyCode===Zeplin.KEY_CODE.ArrowLeft)e.preventDefault(),zo(),xe.b.hideImportsList(),xn-1>=0&&(xn--,pa(i.id,ka(xn).dataset.id));else if(e.keyCode===Zeplin.KEY_CODE.ArrowRight)e.preventDefault(),zo(),xe.b.hideImportsList(),xn>=0&&xn+1<Oo()&&(xn++,pa(i.id,ka(xn).dataset.id));else if(e.keyCode===Zeplin.KEY_CODE.ArrowUp){if(!bi.classList.contains("versionsShown"))return;e.preventDefault(),zo(),(t=Dn.versions.findIndex(function(e){return e._id===_n._id})-1)>=0&&Aa(Dn,Dn.versions[t],{scrollIfNecessary:!0})}else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown){if(!bi.classList.contains("versionsShown"))return;var t;e.preventDefault(),zo(),(t=Dn.versions.findIndex(function(e){return e._id===_n._id})+1)<Dn.versions.length&&Aa(Dn,Dn.versions[t],{scrollIfNecessary:!0})}else if(e.keyCode!==Zeplin.KEY_CODE.SPACE||L.H(e.target)){if(e.altKey)switch(e.keyCode){case Zeplin.KEY_CODE.KeyEqualGecko:case Zeplin.KEY_CODE.KeyEqualWebkit:e.preventDefault(),e.stopPropagation(),Nr();break;case Zeplin.KEY_CODE.KeyMinusGecko:case Zeplin.KEY_CODE.KeyMinusWebkit:e.preventDefault(),e.stopPropagation(),Pr();break;case Zeplin.KEY_CODE.Digit0:e.preventDefault(),e.stopPropagation(),Pn=1,nt.classList.add("zooming"),Ds();break;case Zeplin.KEY_CODE.KeyT:e.preventDefault(),e.stopPropagation(),i&&i.screens&&Dn&&Il(Dn._id)}}else e.preventDefault(),Jn||(Jn=!0,document.body.classList.contains("mac")?(nt.classList.add("panMode"),at.src=Qn?Zeplin.urls.appURL+"/img/grabbing.svg":Zeplin.urls.appURL+"/img/grab.svg",at.classList.remove("hidden"),at.style.transform="translate("+(Fo.x-8+tt.scrollLeft)+"px, "+(Fo.y-68+tt.scrollTop)+"px)"):Qn?nt.classList.add("panMode"):nt.classList.add("holdingSpace"));e.shiftKey&&(e.altKey||e.ctrlKey||e.metaKey?wr():Cr())}}function Wo(e){e.shiftKey?!e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||Cr():wr()}function Zo(e){(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&e.keyCode===Zeplin.KEY_CODE.KeyF?(e.preventDefault(),yn.classList.add("hidden"),_e.scrollTop=0,hn.classList.add("focus"),setTimeout(function(){L.E(dn)},500)):i&&e.altKey&&e.ctrlKey&&e.keyCode===Zeplin.KEY_CODE.KeyT&&function(e,t){k=t,No(),T.b.set(e,"fixedThumbnailSize",t)}(i.id,!k)}function Vo(e){wr()}nt.addEventListener("mousedown",function(e){Qn=!0,Fo={x:e.clientX,y:e.clientY},document.addEventListener("mouseup",qo),Jn&&(nt.classList.remove("holdingSpace"),nt.classList.add("panMode"),at.src=Zeplin.urls.appURL+"/img/grabbing.svg")}),nt.addEventListener("mousemove",function(e){if(e.preventDefault(),Jn&&Qn){Ur();var t=tt.scrollTop-e.clientY+Fo.y;t=t>0?t:0;var n=tt.scrollLeft-e.clientX+Fo.x;n=n>0?n:0,tt.scrollTop=t,tt.scrollLeft=n}at.style.transform="translate("+(e.clientX-8+tt.scrollLeft)+"px, "+(e.clientY-68+tt.scrollTop)+"px)",Fo={x:e.clientX,y:e.clientY}}),document.addEventListener("keyup",function(e){e.keyCode!==Zeplin.KEY_CODE.SPACE||L.H(e.target)||(e.preventDefault(),Jn=!1,nt.classList.remove("panMode","holdingSpace"),at.classList.add("hidden"))}),document.addEventListener("keydown",function(e){if(e.keyCode===Zeplin.KEY_CODE.ESC)zo();else if(e.altKey)switch(e.keyCode){case Zeplin.KEY_CODE.KeyD:document.body.classList.contains("electron")&&!ii&&(e.preventDefault(),e.stopPropagation(),ua(i.id,Mo()));break;case Zeplin.KEY_CODE.KeyA:e.preventDefault(),e.stopPropagation(),ua(i.id,Mo());break;case Zeplin.KEY_CODE.KeyV:e.preventDefault(),e.stopPropagation(),en.classList.contains("collapsed")?ks():Es();break;case Zeplin.KEY_CODE.KeyS:e.preventDefault(),e.stopPropagation(),ha(i.id);break;case Zeplin.KEY_CODE.KeyG:e.preventDefault(),e.stopPropagation(),_s();break;case Zeplin.KEY_CODE.KeyJ:e.preventDefault(),e.stopPropagation(),yn.classList.add("hidden"),i&&i.screens&&i.screens.length&&Pt.classList.contains("hidden")&&Go();break;case Zeplin.KEY_CODE.KeyR:e.shiftKey&&(e.preventDefault(),e.stopPropagation(),pe.a.reloadLocalExtensions())}});var $o=0;function Go(){(tr(),Jl(),$o=0,m=0,f=0,Pt.classList.remove("hidden"),Mt.value="",Mt.focus(),Object.assign(Fn,i.screens),Fn.sort(L.W.name),zt.classList.toggle("noScreen",!Fn.length),Ut.innerHTML="",Fn.forEach(yl),Fn.length)&&(p=Fn[0],Ut.querySelector(".screenSuggestion[data-id='"+p._id+"']").classList.add("selected"))}function Yo(){if(Cl(),!Ea(p._id))return Po(),dn.value="",un.classList.remove("searching"),hn.classList.remove("focus"),void No();pa(i.id,p._id)}function Ko(e){var t;document.querySelector(".screenSuggestion.selected").classList.remove("selected"),$o=e,p=Fn[e],(t=document.querySelector(".screenSuggestion[data-id='"+p._id+"']")).classList.add("selected"),L.S(t)}function Xo(){Ze.style.width=getComputedStyle(Ze).width,Fe.addEventListener("mouseleave",Jo)}function Jo(){Fe.removeEventListener("mouseleave",Jo),Ze.removeAttribute("style")}function Qo(){J.close(),X.close(),Mn&&!On&&Xn&&(Mn.remove(),Un=null),tt.removeEventListener("scroll",Zr),On=null,Mn=null,ct.innerHTML="",ct.scrollTop=0,ot.classList.add("hidden")}function er(){!ot.classList.contains("hidden")&&Dn&&($n[Dn._id]=$n[Dn._id]||{},On?($n[Dn._id].reply=$n[Dn._id].reply||{},$n[Dn._id].reply[On._id]=mt.value):$n[Dn._id].comment=mt.value)}function tr(){er(),Qo()}function nr(){if(Mn){var e=Mn;Qo(),yr(e)}}function ir(){if(!Dn)return;const e=function(){const e={projectId:i.id,projectType:i.type,screenId:Dn._id,screenName:Dn.name,initialWidth:Ki,projectUser:a,onCloseLayerView:()=>{Qo(),dr()}},t={namingConvention:S,showOptimizedSVG:Yi,baseDensity:i.baseDensity,projectColors:i.colors,projectTextStyles:i.textStyles,projectType:i.type,densityWarningHidden:mi.get("hideDensityMismatchWarning"),formatter:new Ee.a(i)};ea&&Object.assign(t,{assetExportTarget:{name:ea.projectName,type:ea.projectFolderType,path:ea.projectFolder,pathParts:ea.projectFolderPathParts}});if(l){let n;l.exportable&&Array.isArray(_n.snapshot.assets)&&(n=_n.snapshot.assets.find(e=>e.layerId?e.layerId===l.sourceId:e.layerName===l.name)),Object.assign(e,{layerDetails:Object.assign({},t,{layer:new z.a(Object.assign({},l,{asset:n})),layerContainer:Dn,version:_n,flowLink:function(e){if(!_n.snapshot.links)return;const t=_n.snapshot.links.find(t=>L.P(t.rect,e));if(!t)return;let n,a,s;switch(t.destination.type){case"previous":a="previous screen";break;case"screen":a=t.destination.name,(n=i.findScreenByName(t.destination.name))&&(s=L._3("project-screen",{url:{pid:i.id,sid:n._id}}));break;default:return}return{name:a,url:s}}(l.absoluteRect),bitmapInfoHidden:mi.get("hideNoVectorAssetInfo"),flowInfoHidden:mi.get("flowLinkInfoDismissed")})})}const n=i.id,r=Dn._id;return Object.assign(e,{resources:Object.assign({},t,{restricted:"pawn"===a.role&&s&&s.transitionFinished,layoutGridVisible:o,descriptionFormatter:Xr,commentFormatter:Jr,showNoResourceInfo:!Gi&&"pawn"===a.role&&s&&s.transitionFinished,sourceFileInfoHidden:mi.get("hideSourceFileInfo"),screen:Object.assign({},Dn,{appUri:`${ie.B}//screen?pid=${n}&sid=${r}`,tags:(Dn.tags||[]).map(e=>({link:L._3("project-dashboard",{url:{pid:n},query:{tag:[e]}}),name:e}))}),currentVersion:_n,notesFilter:{status:ui,color:hi},isScreenSnapshotLoading:Oi})}),e}();vi.render(e)}let ar,sr;function or(e){if(e)return ar=e.base,void(sr=L.t(ar));ar=null,sr=null}zt.addEventListener("click",function(e){e.stopPropagation(),e.target.classList.contains("screenSuggestion")&&(p=Fn[e.target.dataset.index],Yo())}),Ut.addEventListener("mousemove",function(e){if(e.stopPropagation(),m!==e.clientX||f!==e.clientY){var t=Ut.querySelector(".selected");t&&t.classList.remove("selected"),e.target.classList.add("selected"),$o=parseInt(e.target.dataset.index,10),p=Fn[e.target.dataset.index],m=e.clientX,f=e.clientY}}),zt.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),Fn.length&&$o<Fn.length-1&&Ko($o+1);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),Fn.length&&$o>0&&Ko($o-1);break;case Zeplin.KEY_CODE.ENTER:e.preventDefault(),Yo();break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),Cl()}}),Mt.addEventListener("input",function(e){e.preventDefault(),function(e){e=e.toLowerCase();var t,n=[],a=[],s=[],o=[];if(i.screens.forEach(function(i){var r=i.name.toLowerCase();r.startsWith(e)?n.push(i):L.Y(r,e)?a.push(i):(t=function(e,t){return e.tags&&e.tags.find(function(e){return e.toLowerCase().includes(t)})}(i,e))?s.push(Object.assign({filterTag:t},i)):r.includes(e)&&o.push(i)}),Fn=n.sort(L.W.name).concat(a.sort(L.W.name)).concat(s.sort(L.W.name)).concat(o.sort(L.W.name)),zt.classList.toggle("noScreen",!Fn.length),Ut.innerHTML="",Fn.forEach(yl),Fn.length){p=Fn[0];var r=Ut.querySelector(".screenSuggestion[data-id='"+p._id+"']");r.classList.add("selected")}}(e.target.value)}),Bt.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),i.screens&&i.screens.length&&Pt.classList.contains("hidden")&&Go()}),He.addEventListener("click",function(){xn-1>=0&&(Xo(),xn--,pa(i.id,ka(xn).dataset.id))}),We.addEventListener("click",function(){xn+1<i.screens.length&&(Xo(),xn++,pa(i.id,ka(xn).dataset.id))});let rr=!1;function lr(){let e,t,n=function(){const e=pe.b.getState();if(!e.initialized)return;let t=e.extensions.filter(t=>e.enabledExtensions.includes(t.id)).map(e=>e.name);if(t.length>2){const e=t.pop();t=`${t.join(", ")}, and ${e}`}else t=t.join(", ");return t||"—"}();if(i.integration&&i.integration.slacks&&i.integration.slacks.length&&(e=i.integration.slacks.slice().reverse()),i.shortUrl){const e=new URL(i.shortUrl);t=e.host+e.pathname}const s=i.users.slice();Di.render({name:i.name,public:i.public,type:x.b[i.type],density:i.density,members:s,invitePopupOpen:!I.c(),initialWidth:Qi,hideAddToSlack:A.a&&!ti,showSlackReconnectionAuntie:rr,shortUrl:t,addUserButtonRef:or,currentUser:a,extensionTitles:n||"…",slackChannels:e,loading:ci,isOrganizationProject:L.J(i)})}function cr(){ur(),yt.classList.add("hidden"),it.removeEventListener("mouseover",fr),document.removeEventListener("keydown",gr),document.removeEventListener("keyup",gr),document.removeEventListener("keydown",br),nt.removeEventListener("mousemove",vr),An=!1,it.classList.remove("measuring"),Rn&&(Rn.classList.remove("selected"),Rn=null,c=null,l=null,Gn=null,Yn=null)}function dr(e){e=e||{},cr(),ir(),wi.remove()}function ur(){Et.classList.add("hidden"),xt.classList.add("hidden"),_t.classList.add("hidden"),Lt.classList.add("hidden")}function hr(e,t){if(!t)return[e];var n={left:Math.min(e.absoluteRect.x,t.absoluteRect.x),top:Math.min(e.absoluteRect.y,t.absoluteRect.y),right:Math.max(e.absoluteRect.x+e.rect.width,t.absoluteRect.x+t.rect.width),bottom:Math.max(e.absoluteRect.y+e.rect.height,t.absoluteRect.y+t.rect.height)},i=function e(t,n){for(var i=[],a=0;a<t.length;a++){var s=t[a],o=s.absoluteRect.x+s.rect.width,r=s.absoluteRect.y+s.rect.height;s.absoluteRect.x<=n.left&&s.absoluteRect.y<=n.top&&o>=n.right&&r>=n.bottom&&(("group"!==s.type||["bottom","top"].includes(s.interactionLevel))&&i.push(s),"group"===s.type&&(i=i.concat(e(s.layers,n))))}return i}(_n.snapshot.layers,n);return e===t&&(i=i.filter(function(t){return!function(e,t){return e.absoluteRect.x===t.absoluteRect.x&&e.absoluteRect.y===t.absoluteRect.y&&e.rect.width===t.rect.width&&e.rect.height===t.rect.height}(t,e)})),i.length?i.sort(function(e,t){return e.rect.width*e.rect.height-t.rect.width*t.rect.height}):[_n.snapshot.layers[0]]}document.addEventListener("click",function(e){e.button!==Zeplin.MOUSE_BUTTON.LEFT||Wn||zo(),Wn=!1});var pr=0;function mr(e,t,n){ur();var i=document.querySelector(".parent");i&&i.classList.remove("parent"),e&&t&&(e&&t&&e===t&&(Rn.querySelector(".layerWidth").textContent=Nn?xa(e.rect.width/n.rect.width,"%"):xa(e.rect.width),Rn.querySelector(".layerHeight").textContent=Nn?xa(e.rect.height/n.rect.height,"%"):xa(e.rect.height)),n&&function(e){var t=document.querySelector(".parent");t&&t.classList.remove("parent"),(t=e?document.querySelector(".layer[data-id='"+e+"']"):it)&&t.classList.add("parent")}(n._id),function(e,t,n){var i=_n.snapshot.width,a=e.absoluteRect,s=a.x,o=s+a.width,r=t.absoluteRect,l=r.x,c=l+r.width,d=!1,u=-1,h=-1;c<s?(u=s-c,Et.style.left=Da(c,i)):l<s&&c>o?(u=s-l,Et.style.left=Da(l,i),h=c-o,xt.style.left=Da(o,i),_t.style.left=Da((s+o)/2,i),Lt.style.left=Da((s+o)/2,i),d=!0):l>s&&c<o?(u=l-s,Et.style.left=Da(s,i),h=o-c,xt.style.left=Da(c,i)):c>s&&c<o?(u=s-l,Et.style.left=Da(l,i),c-s>7&&(_t.style.left=Da((c+s)/2,i),Lt.style.left=Da((c+s)/2,i),d=!0)):l>s&&l<o?(u=l-s,Et.style.left=Da(s,i),o-l>7&&(_t.style.left=Da((l+o)/2,i),Lt.style.left=Da((l+o)/2,i),d=!0)):l>o&&(h=l-o,xt.style.left=Da(o,i));-1!==u&&(Et.style.width=Da(u,i),jt.textContent=Nn?xa(u/n.rect.width,"%"):xa(u),Et.classList.remove("hidden")),-1!==h&&(xt.style.width=Da(h,i),Dt.textContent=Nn?xa(h/n.rect.width,"%"):xa(h),xt.classList.remove("hidden")),d||(_t.style.left=Da((l+c)/2,i),Lt.style.left=Da((l+c)/2,i))}(e,t,n),function(e,t,n){var i=_n.snapshot.height,a=e.absoluteRect,s=a.y,o=s+a.height,r=t.absoluteRect,l=r.y,c=l+r.height,d=!1,u=-1,h=-1;c<s?(u=s-c,_t.style.top=Da(c,i)):l<s&&c>o?(u=s-l,_t.style.top=Da(l,i),h=c-o,Lt.style.top=Da(o,i),Et.style.top=Da((s+o)/2,i),xt.style.top=Da((s+o)/2,i),d=!0):l>s&&c<o?(u=l-s,_t.style.top=Da(s,i),h=o-c,Lt.style.top=Da(c,i)):c>s&&c<o?(u=s-l,_t.style.top=Da(l,i),c-s>7&&(Et.style.top=Da((c+s)/2,i),xt.style.top=Da((c+s)/2,i),d=!0)):l>s&&l<o?(u=l-s,_t.style.top=Da(s,i),o-l>7&&(Et.style.top=Da((l+o)/2,i),xt.style.top=Da((l+o)/2,i),d=!0)):l>o&&(h=l-o,Lt.style.top=Da(o,i));-1!==u&&(_t.style.height=Da(u,i),Ot.textContent=Nn?xa(u/n.rect.height,"%"):xa(u),_t.classList.remove("hidden")),-1!==h&&(Lt.style.height=Da(h,i),Tt.textContent=Nn?xa(h/n.rect.height,"%"):xa(h),Lt.classList.remove("hidden")),d||(Et.style.top=Da((l+c)/2,i),xt.style.top=Da((l+c)/2,i))}(e,t,n))}function fr(e){if(e.stopPropagation(),Nn=e.altKey,c=null,ur(),it.classList.remove("measuring"),e.target.classList.contains("layer")){if(e.target.classList.contains("selected")||it.classList.add("measuring"),c=Rs(_n.snapshot.layers,"_id",e.target.dataset.id),Nn){var t=hr(l,c);L.a(In,t,function(e,t){return e===t})||(In=t,pr=0)}else In=[],pr=0;mr(l,c,In[pr])}else{var n=document.querySelector(".parent");n&&n.classList.remove("parent")}}function gr(e){var t;e.keyCode!==Zeplin.KEY_CODE.ALT||e.shiftKey||(e.preventDefault(),Nn=e.altKey,An&&u?vr(u):(Nn?t=(In=hr(l,c))[pr]:(In=[],pr=0),mr(l,c,t)))}function br(e){e.keyCode===Zeplin.KEY_CODE.ArrowUp?(e.preventDefault(),pr=(pr+1)%In.length,mr(l,c,In[pr])):e.keyCode===Zeplin.KEY_CODE.ArrowDown&&(e.preventDefault(),pr=(pr-1+In.length)%In.length,mr(l,c,In[pr]))}function vr(e){var t=it.getBoundingClientRect(),n=_n.snapshot.width,i=_n.snapshot.height,a=l.absoluteRect.x,s=a+l.rect.width,o=l.absoluteRect.y,r=o+l.rect.height;e!==u&&(Nn=e.altKey),ur(),c=null,u=e,e.clientX<t.left&&(Et.style.left=0,Et.style.width=Da(a,n),jt.textContent=Nn?xa(a/n,"%"):xa(a),Et.style.top=Da((o+r)/2,i),Et.classList.remove("hidden")),e.clientY<t.top&&(_t.style.top=0,_t.style.height=Da(o,i),Ot.textContent=Nn?xa(o/i,"%"):xa(o),_t.style.left=Da((a+s)/2,n),_t.classList.remove("hidden")),e.clientX>t.right&&(xt.style.left=Da(s,n),xt.style.width=Da(n-s,n),Dt.textContent=Nn?xa((n-s)/n,"%"):xa(n-s),xt.style.top=Da((o+r)/2,i),xt.classList.remove("hidden")),e.clientY>t.bottom&&(Lt.style.top=Da(r,i),Lt.style.height=Da(i-r,i),Tt.textContent=Nn?xa((i-r)/i,"%"):xa(i-r),Lt.style.left=Da((a+s)/2,n),Lt.classList.remove("hidden"))}function yr(e,t){if(e&&i.users){Array.isArray(t)&&1===t.length&&(t=t[0]);var n="string"==typeof e?document.querySelector(".dot[data-id='"+e+"']"):e;n?n!==Mn?(et.checked=!0,st.classList.remove("invisible"),Qo(),n.classList.remove("hover"),Mn=n,ys(ot),vs(ot),ot.classList.remove("left","right"),ot.classList.add(Ri[new U.a(Ii[Mn.dataset.color]).hexBase()],Mn.dataset.position),ot.classList.toggle("canRemoveNotes",L.O.canRemoveNotes(a)),pt.innerHTML="&nbsp;",mt.value="",dt.classList.remove("hidden"),"undefined"===Mn.dataset.id?(ot.classList.add("open"),ot.dataset.id="undefined",dt.classList.add("composing"),$n[Dn._id]&&$n[Dn._id].comment&&(pt.innerHTML=L.m($n[Dn._id].comment)+"&nbsp;",mt.value=$n[Dn._id].comment),setTimeout(function(){mt.focus(),mt.setSelectionRange(mt.value.length,mt.value.length)},4)):(On=Dn.dots.find(function(e){return e._id===Mn.dataset.id}),ot.classList.add(On.status),Mn.classList.remove("highlight"),On.comments.forEach(function(e){tl(e,Dn._id,On._id)}),Wi(t),ot.dataset.id=On._id,$n[Dn._id]&&$n[Dn._id].reply&&$n[Dn._id].reply[On._id]?(dt.classList.add("composing"),pt.innerHTML=L.m($n[Dn._id].reply[On._id])+"&nbsp;",mt.value=$n[Dn._id].reply[On._id],setTimeout(function(){mt.focus(),mt.setSelectionRange(mt.value.length,mt.value.length)},4)):(Qr(),dt.classList.remove("composing"))),"undefined"!==Mn.dataset.id?setTimeout(function(){!function(e){if(L.I(e,tt))Vr();else{var n=e.getBoundingClientRect(),i=tt.scrollLeft,a=tt.scrollTop;n.left<0?i=tt.scrollLeft+n.left-60:n.right>tt.offsetWidth&&(i=n.right-tt.offsetWidth+60),n.top<92?a=tt.scrollTop+n.top-60-qr-60:n.bottom>window.innerHeight&&(a=tt.scrollTop+(n.bottom-window.innerHeight)+60),"scrollTo"in Element.prototype?(tt.scrollTo({left:i,top:a,behavior:"smooth"}),setTimeout(function(){Vr()},450)):(tt.scrollLeft=i,tt.scrollTop=a,Vr())}t?Wi(t):ct.lastElementChild.scrollIntoView()}(Mn)},200):Vr()):Wi(t):_.a({message:"Note not available anymore."})}}function Cr(){vt.classList.remove("invisible"),bt.classList.add("invisible"),st.classList.add("invisible")}function wr(){vt.classList.add("invisible"),bt.classList.remove("invisible"),st.classList.toggle("invisible",!et.checked)}function Sr(e,t){switch(e){case"showOptimizedSVG":!function(e){Yi=e,T.b.set(kn.pid,"showOptimizedSVG",e),ir(),ia()}(t);break;case"assetNamingConvention":!function(e){S=e,function(e){mixpanel.webapp.track("Selected asset naming convention",{projectType:i.type,convention:e})}(e),T.b.set(kn.pid,"assetNamingConvention",e)}(t);break;case"noResourceInfoDismissed":!function(e){Gi=e,T.b.set(kn.pid,"noResourceInfoDismissed",e),ir()}(t);break;case"screenSidebarWidth":!function(e){Ki=e,T.b.set(kn.pid,"screenSidebarWidth",e)}(t);break;case"styleguideLeftSidebarWidth":!function(e){Xi=e,T.b.set(kn.pid,"styleguideLeftSidebarWidth",e)}(t);break;case"styleguideSidebarWidth":!function(e){Ji=e,T.b.set(kn.pid,"styleguideSidebarWidth",e)}(t);break;case"projectInfoWidth":!function(e){Qi=e,T.b.set(kn.pid,"projectInfoWidth",e)}(t)}}function kr(e,t,n){const a=i.findComponentById(e);ll(a),ba(),Ci.update(Object.assign(Li,{selectedStyleguideId:"local",selectedSection:"components",selectedTab:"components",selectionComponent:a,selection:a})),qe.href=t,qe.querySelector("span").textContent=n}ve.c.register(e=>{e.type===ve.a.SET_PREF&&function(e,t){switch(mi.set(e,t),ir(),e){case"hideNoVectorAssetInfo":case"hideDensityMismatchWarning":ia()}}(e.name,e.value)}),qe.addEventListener("click",e=>e.stopPropagation());const Er={handleAssignAdmin(e){El(e.user._id,"admin")},handleUnassignAdmin(e){El(e.user._id,"user")},handleTransferOwnership(e){_.a({message:`Transfer ownership of "${i.name}" to "${e.user.username||e.user.email}" ?`,done:{name:"TRANSFER",cb:()=>{!function(e){fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/users/"+e+"/ownership",{method:"POST",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).then(function(){i.changeUserRole(Zeplin.user._id,"admin"),i.changeUserRole(e,"owner"),Bi(i.users)}).catch(R.b)}(e.user._id)}},cancel:{name:"CANCEL"}})},handleRemoveMember(e){_.a({message:`Remove "${e.user.username||e.user.email}" ?`,done:{name:"REMOVE",cb:()=>{jl(e.user._id)}},cancel:{name:"CANCEL"}})},handleLeave(e){_.a({message:`Leave "${i.name}"?`,done:{name:"LEAVE",cb:()=>{jl(e.user._id)}},cancel:{name:"CANCEL"}})}};function jr(e){e.detail.users.forEach(function(e){i.addUser(e)}),Bi(i.users)}function xr(e){if(getSelection().removeAllRanges(),!Jn&&e!==Rn&&(ur(),it.classList.remove("measuring"),Rn&&Rn.classList.remove("selected"),Rn=null,_n.snapshot.layers&&(l=Rs(_n.snapshot.layers,"_id",e.dataset.id)))){Rn=e,c=l,d=l.sourceId;var t=l.rect.width,n=l.rect.height,a=l.absoluteRect.x,s=l.absoluteRect.y;if(l.component){const{id:e,name:t,rect:n}=l.component;wi.render({projectId:i.id,zoomFactor:Pn,screenRect:{width:_n.snapshot.width,height:_n.snapshot.height},screenId:Dn._id,screenName:Dn.name,componentRect:n,componentId:e,componentName:t,onTagClick:kr})}else wi.remove();Rn.classList.add("selected"),Ct.style.top=Da(s,_n.snapshot.height),St.style.top="calc("+Da(s+n,_n.snapshot.height)+" - 1px)",kt.style.left=Da(a,_n.snapshot.width),wt.style.left="calc("+Da(a+t,_n.snapshot.width)+" - 1px)",yt.classList.remove("hidden"),it.addEventListener("mouseover",fr),document.addEventListener("keydown",gr),document.addEventListener("keydown",br),document.addEventListener("keyup",gr),ir()}}function Dr(e,t,n){const a={},s=new Set;for(let i=0;i<n.contents.length;i++){const e=n.contents[i];e.format in a?a[e.format]++:a[e.format]=1,s.add(e.density)}let o;o=!("jpg"in a)||"svg"in a||"pdf"in a||a.jpg!==a.png?"svg"in a?function(e){return e.optimized=Object.assign({},e,{url:Zeplin.urls.imgURL+"/svgo/"+encodeURIComponent(e.url)}),Promise.all([_r(e),_r(e.optimized)]).then(function(t){e.optimized.percent=Math.round((t[0].length-t[1].length)/t[0].length*100)})}(n.contents.find(function(e){return"svg"===e.format})):Promise.resolve():function(e,t){var n=0,i=0,a=0;return Promise.all(e.contents.map(_r)).then(function(s){t.forEach(function(e){var t=s.filter(function(t){return t.density===e}).reduce(function(e,t){return e[t.format]=t.length,e},{});i+=Number(t.jpg)/Number(t.png),a+=Number(t.png)/Number(t.jpg)}),i=Math.round(100-i/t.size*100),a=Math.round(100-a/t.size*100),i>=10?n={type:"jpg",diff:i}:a>=10&&(n={type:"png",diff:a}),n&&(e.percent=n)}).catch(function(){})}(n,s);const r=ps(n.contents),l=r?L.u(r.url).then(e=>Object.assign(n,e)).catch(()=>null):Promise.resolve(),c=function(e,t,n){const a=i.id,s=t.assets.find(e=>e._id===n);return s?"localName"in s?Promise.resolve(s.localName):T.b.get(a,e,"assetNames").then(e=>e&&e[n]):Promise.resolve()}(e,t,n._id).then(e=>{e&&Object.assign(n,{localName:e})});return Promise.all([o,l,c])}function _r(e){return fetch(e.url,{method:"HEAD"}).then(function(t){return{format:e.format,density:e.density,length:t.headers.get("Content-Length")}})}function Or(e,t,n=!0){var i=e.extensions.find(function(e){return e._id===t});if(i||pe.a.addExtension(e,t),n)if(i)Lr(e.id,t);else var a=pe.b.addListener(function(){pe.b.getState().extensions.find(function(e){return e.id===t})&&(Lr(e.id,t),a.remove())})}function Lr(e,t){document.querySelector(".extensionDialog")||ae.default.render(ae.default.h(ce.a,{projectId:e,selectedExtensionId:t,canRemoveExtensions:L.O.canRemoveExtensions(a)}),document.body)}function Tr(e,t,n=!0){if(!e||!["open","resolved","mentioned"].includes(e))return void delete st.dataset.statusFilter;st.dataset.statusFilter=e,t?st.dataset.colorFilter=t:delete st.dataset.colorFilter;const i=document.querySelector(".dot.menuOpen"),a=On||i&&Dn.dots.find(function(e){return e._id===i.dataset.id});a&&!function(e,t,n){return(!n||Ri[new U.a(e.color).hexBase()]===n)&&("mentioned"===t?Object(je.c)(e,Zeplin.user):t===(e.status||"open"))}(a,e,t)&&(Vl(),tr()),n&&(function(e){ui=e,T.b.set(kn.pid,"dotListingsStatusFilter",e)}(e),function(e){hi=e,T.b.set(kn.pid,"dotListingsColorFilter",e)}(t))}fe.c.register(e=>{let t=!1,n=!1;switch(e.type){case fe.a.ADD_COLOR:!function(e){if(!L.O.canManageColors(a)||!qn)return;const t=new U.a(Object.assign({_id:"tempColorId"},e));t.name=i.getColorName(t);const n={r:t.r,g:t.g,b:t.b,a:t.a,name:t.name};qn=!1,wl(t),Ce.d(i.id,n).then(function(e){i.removeColor("tempColorId"),n._id=e._id,wl(n),qn=!0,L.V("Added to Styleguide!",vi.domNode)}).catch(function(e){R.b(e),qn=!0,Sl("tempColorId")})}(e.color);break;case fe.a.REMOVE_COLOR:!function(e){if(!L.O.canManageColors(a)||!qn)return;i.findColorById(e)&&(qn=!1,Sl(e),Ce.j(i.id,e).then(()=>{qn=!0}).catch(t=>{R.b(t),wl(e),qn=!0}))}(e.colorId);break;case fe.a.UPDATE_COLOR:!function(e,t){if(!L.O.canManageColors(a))return;var n=i.findColorById(t),s={name:n.name,r:n.r,g:n.g,b:n.b,a:n.a};kl(t,e),fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/colors/"+t,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(e)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).catch(function(e){R.b(e),kl(t,s)})}(e.data,e.colorId);break;case fe.a.ADD_TEXT_STYLE:!function(e){if(!L.O.canManageTextStyles(a)||!Hn)return;const t="tempTextStyleId",n=new B.a(Object.assign({_id:t,name:i.getTextStyleName()},e)),s={name:n.name,fontFace:n.fontFace,fontSize:n.fontSize,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,textAlign:n.textAlign,color:Object.assign({},n.color)};Hn=!1,Ol(n),Ce.i(i.id,s).then(function(e){i.removeTextStyle(t),s._id=e._id,Ol(new B.a(s)),Hn=!0,L.V("Added to Styleguide!",vi.domNode)}).catch(e=>{R.b(e),ml(t),Hn=!0})}(e.textStyle);break;case fe.a.REMOVE_TEXT_STYLE:!function(e){if(!L.O.canManageTextStyles(a)||!Hn)return;const t=i.findTextStyleById(e);if(!t)return;Hn=!1,ml(e),Ce.m(i.id,e).then(()=>{Hn=!0}).catch(e=>{Ol(t),Hn=!0,R.b(e)})}(e.textStyleId);break;case fe.a.UPDATE_TEXT_STYLE:!function(e,t){if(!L.O.canManageTextStyles(a))return;var n=i.findTextStyleById(e),s={name:n.name,color:n.color};i.updateTextStyle(e,t),ia(),ir(),fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/textStyles/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(t)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).catch(function(t){R.b(t),i.updateTextStyle(e,s),ia(),ir()})}(e.textStyleId,e.data);break;case fe.a.RENAME_ASSET:n=!(t=!!Dn&&Dn._id===e.containerId),function(e,t,n,a){const s=i.id,o=t.snapshot.assets.find(e=>e._id===n);o?(o.localName=a,T.b.get(s,e,"assetNames").then(t=>(null===a?delete t[n]:t[n]=a,T.b.set(s,e,"assetNames",t)))):Promise.resolve()}(e.containerId,e.version,e.assetId,e.name);break;case fe.a.DOWNLOAD_ASSET:us(e.containerName,e.version,e.assetId,e.format);break;case fe.a.DOWNLOAD_MULTIPLE_ASSET:hs(e.containerName,e.version,e.assets);break;case fe.a.OPEN_EXTENSION_SETTINGS:Lr(i.id,e.extensionId);break;case fe.a.OPEN_SCREEN_FROM_COMPONENT:!function(e,t,n){Gs(e),qe.href=t,qe.querySelector("span").textContent=n}(e.screenId,e.componentURL,e.componentName);break;case fe.a.OPEN_COMPONENT_FROM_LAYER:kr(e.componentId,e.screenURL,e.screenName);break;case fe.a.SET_PREF:n=!(t=!!Dn),Sr(e.name,e.value);break;case fe.a.OPEN_EXPORT_TARGET:K.c();break;case fe.a.CHANGE_EXPORT_TARGET:K.a();break;case fe.a.RENAME_PROJECT:!function(e){if(!L.O.canUpdateProject(a))return;Di.update({name:e}),fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/name",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({name:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw R.a(e.status,t)})}).then(function(e){gl(e.name)}).catch(function(e){lr(),R.b(e)})}(e.value);break;case fe.a.OPEN_DENSITY_CHANGE_MODAL:Ie.showModal();break;case fe.a.COPY_WEB_LINK:L.i({content:i.shortUrl,toastContainer:Di.domNode});break;case fe.a.COPY_APP_URI:L.i({content:`${ie.B}//project?pid=${i.id}`,toastContainer:Di.domNode});break;case fe.a.ADD_TO_SLACK:L.O.canUpdateProject(a)&&(ti?A.a.ipcRenderer.send("add-to-slack",{id:i.id,name:i.name}):(qi(),Mi(b,{inNewTab:!1})));break;case fe.a.OPEN_SHARE_SCENE_DIALOG:tn.disabled=!L.O.canChangeProjectAccesibility(a),an.classList.add("hidden"),sn.classList.remove("hidden"),rn.classList.remove("copied"),Ye.showModal();break;case fe.a.COPY_SCENE_LINK:L.i({content:i.sceneUrl,toastContainer:Di.domNode});break;case fe.a.UNSHARE_SCENE:Kl(!1);break;case fe.a.OPEN_SLACK_PREFERENCES:ee.b(e.slack._id,e.slack.incomingWebHook.channel);break;case fe.a.REMOVE_SLACK_INTEGRATION:!function(e,t){Ce.k(i.id,e,t).then(function(){i.removeIntegration(e,t),lr()}).catch(R.b)}("slacks",e.slack._id);break;case fe.a.HIDE_SLACK_RECONNECTION_AUNTIE:T.c.set("slackReconnectionAuntieSeen",!0);break;case fe.a.RECONNECT_SLACK_INTEGRATION:!function(e){Ce.k(i.id,"slacks",e).then(()=>{ti?A.a.ipcRenderer.send("add-to-slack",{id:i.id,name:i.name}):(qi(),Mi(b,{inNewTab:!1}))}).catch(R.b)}(e.slack._id);break;case fe.a.ASSIGN_ADMIN:Er.handleAssignAdmin(e.member);break;case fe.a.UNASSIGN_ADMIN:Er.handleUnassignAdmin(e.member);break;case fe.a.TRANSFER_OWNERSHIP:Er.handleTransferOwnership(e.member);break;case fe.a.REMOVE_MEMBER:Er.handleRemoveMember(e.member);break;case fe.a.LEAVE:Er.handleLeave(e.member);break;case fe.a.SET_SECTION_HEADERS_PADDING:Ao();break;case fe.a.OPEN_LINK:Mi(e.url,e.options);break;case fe.a.SHOW_INVITE_POPUP:I.c()&&(Jl(),I.e(Di.domNode,i.id,i.users,s&&"pawn"!==a.role),function(){var e=($e.getBoundingClientRect().height-uc)/2;ac=dc-e>rc&&dc+uc+e<window.innerHeight-lc?e:hc,pc()}(),sr&&sr.addEventListener("scroll",pc),Di.domNode.addEventListener("listRefreshed",mc),Di.domNode.addEventListener("usersInvited",jr),mixpanel.webapp.track("Showed invite user pop up",{type:"project"}));break;case fe.a.SEND_COPY_EXTENSION_CODE_EVENTS:!function(e,t){mixpanel.webapp.track("Copied extension snippet",{from:e,extension:t}),bc(i.type)}(e.source,e.extension);default:return}t&&ir(),n&&ia()}),ge.c.register(e=>{let t=!1;switch(e.type){case ge.a.DESELECT_LAYER:dr();break;case ge.a.COPY_LAYER_CODE:!function(e,t){L.i({content:e,toastContainer:vi.domNode}),mixpanel.webapp.track("Copied extension snippet",{from:"layer",extension:t}),bc(i.type)}(e.code,e.extensionId);break;case ge.a.COPY_LAYER_CONTENT:L.i({content:e.content,toastContainer:vi.domNode});break;case ge.a.TOGGLE_LAYOUT_GRID:_s(),t=!0;break;case ge.a.COPY_SCREEN_LINK:L.i({content:e.link,toastContainer:vi.domNode});break;case ge.a.UPDATE_SCREEN:!function(e,t){const n=i.findScreen(e);if(!n)return;const a=Object.keys(t).reduce((e,t)=>Object.assign(e,{[t]:n[t]}));Object.assign(n,t),ir(),Ce.I(i.id,e,t).catch(e=>{Object.assign(n,a),ir(),R.b(e)})}(e.sid,e.data);break;case ge.a.OPEN_MANAGE_TAGS:Il(e.sid);break;case ge.a.OPEN_SOURCE_FILE:Na("file",e.path);break;case ge.a.OPEN_SOURCE_FOLDER:Na("folder",e.path);break;case ge.a.SELECT_DOT:yr(e.dotId,e.commentId);break;case ge.a.CHANGE_DOT_FILTER:Tr(e.status,e.color),t=!0;break;case ge.a.OPEN_NOTE_MODE:Mr();break;case ge.a.COPY_SCREEN_CODE:!function(e,t){L.i({content:e,toastContainer:vi.domNode}),mixpanel.webapp.track("Copied extension snippet",{from:"screen",extension:t}),bc(i.type)}(e.code,e.extensionId)}t&&ir()}),me.c.register(e=>{switch(e.type){case me.a.REQUEST_INVITE:Fs(s._id,vi.domNode)}}),be.c.register(e=>{switch(e.type){case be.a.UPDATE_COMPONENT:!function(e,t){const n=[...e],a=n.pop(),s=i.findComponentById(a),o=Object.keys(t).reduce((e,t)=>Object.assign(e,{[t]:s[t]}),{});i.updateComponent(n,a,t),ia(),Ce.D(i.id,n,a,t).catch(e=>{i.updateComponent(n,a,o),ia(),R.b(e)})}(e.idPath,e.data);break;case be.a.UPDATE_COMPONENT_SECTION:!function(e,t){const n=i.findComponentSection(e),a=Object.keys(t).reduce((e,t)=>Object.assign(e,{[t]:n[t]}),{});i.updateComponentSection(e,t),ia(),Ce.E(i.id,e,t).catch(t=>{i.updateComponentSection(e,a),ia(),R.b(t)})}(e.idPath,e.data);break;case be.a.COPY_SECTION_WEB_LINK:{const t=L._3("project-styleguide-components",{url:{pid:i.id},query:{cseid:e.id}});L.i({content:t,toastContainer:document.querySelector(".overviewContent")});break}case be.a.COPY_SECTION_APP_URI:{const t=`${ie.B}//components?pid=${i.id}&cseid=${e.id}`;L.i({content:t,toastContainer:document.querySelector(".overviewContent")});break}case be.a.DELETE_SECTION:!function(e,t){const n=e.slice(0),a=e.slice(0,e.length-1),s=i.findComponentSection(a),o=i.findComponentSection(e),r=s.componentSections.indexOf(o);let l=s.componentSections[r-1];l||(l=s);const c="default"===l.name,d=l.idPath;i.mergeComponentSection(e,d,{flatten:c}),ia(),Ce.z(i.id,n,d,c).catch(n=>{R.b(n),c||o.componentSections.forEach(e=>{i.removeComponentSection(e.idPath)}),(c?L.g([o]):o.components).forEach(e=>{i.removeComponent(d,e._id)}),i.addComponentSection(e,t,o),ia()})}([e.id],e.index)}});var Rr,Ir,Ar=!1;function Nr(){for(var e=0;e<Je.childElementCount;e++){var t=parseFloat(Je.children[e].value);if(t>Pn){Pn=t;break}}nt.classList.add("zooming"),Ds()}function Pr(){for(var e=Je.childElementCount-1;e>=0;e--){var t=parseFloat(Je.children[e].value);if(t<Pn){Pn=t;break}}nt.classList.add("zooming"),Ds()}(it.addEventListener("click",function(e){if(Jl(),Zn)Zn=!1;else if(e.target.classList.contains("dot"))e.stopPropagation(),er(),yr(e.target);else if(Ar||(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)){e.stopPropagation(),Ur(),et.checked=!0,st.classList.remove("invisible"),T.b.set(kn.pid,"noteVisibility",!0),er(),Qo(),Tr("open",null,!0),ir();var t=st.getBoundingClientRect(),n=Dn.dots&&Dn.dots.length?""+(parseInt(Dn.dots[Dn.dots.length-1].name,10)+1):"1";On=null,T.b.get(kn.pid,"lastNoteColorUsed").then(function(i){yr(Cs(Un={name:n,x:Math.max(0,Math.min((e.clientX-t.left)/t.width,1)),y:Math.max(0,Math.min((e.clientY-t.top)/t.height,1)),color:Ii[i]}))})}else if(e.target.classList.contains("layer")){e.stopPropagation(),tr();var i=e.target;if(document.elementsFromPoint){var a=document.elementsFromPoint(e.clientX,e.clientY).filter(function(e){return e.classList.contains("layer")});if(Gn&&Yn){var s=document.elementsFromPoint(Gn,Yn).filter(function(e){return e.classList.contains("layer")});if(Math.hypot(Gn-e.clientX,Yn-e.clientY)>40||!L.a(a,s,function(e,t){if(e.dataset.index===t.dataset.index)return!0}))i=a[0];else i=a[(a.findIndex(function(e){return e.classList.contains("selected")})+1)%a.length]}else i=a[0];Gn=e.clientX,Yn=e.clientY}xr(i)}}),it.addEventListener("mouseleave",function(){if(Rn){nt.addEventListener("mousemove",vr),it.classList.add("measuring"),An=!0;var e=document.querySelector(".parent");e&&e.classList.remove("parent")}}),it.addEventListener("mouseenter",function(e){nt.removeEventListener("mousemove",vr),An=!1}),nt.addEventListener("mouseenter",function(){Jn&&document.body.classList.contains("mac")&&at.classList.remove("hidden"),it.classList.add("measuring"),An=!0}),nt.addEventListener("mouseleave",function(){at.classList.add("hidden"),An=!1,it.classList.remove("measuring"),ur()}),Ke.addEventListener("click",function(e){e.stopPropagation(),Nr()}),Qe.addEventListener("click",function(e){e.stopPropagation(),Pr()}),Je.addEventListener("click",function(e){e.stopPropagation()}),Je.addEventListener("change",function(){Pn=parseFloat(Je.value),nt.classList.add("zooming"),Ds({updateSelectedIndex:!1})}),nt.addEventListener("wheel",function(e){e.ctrlKey&&(e.preventDefault(),Pn=Math.max(.25,Math.min(Pn-e.deltaY/100,5)),Ds())}),"GestureEvent"in window)&&(nt.addEventListener("gesturestart",function(e){e.preventDefault(),Rr=Pn}),nt.addEventListener("gesturechange",function(e){e.preventDefault(),Pn=Math.max(.25,Math.min(Rr*e.scale,5)),Ds()}));function Mr(){et.checked=!0,st.classList.remove("invisible"),st.addEventListener("transitionend",function e(){st.removeEventListener("transitionend",e),setTimeout(function(){st.classList.remove("flashing")},200)}),st.classList.add("flashing"),nt.classList.add("noteMode"),Ar=!0}function Ur(){nt.classList.remove("noteMode"),Ar=!1}et.addEventListener("change",function(){st.classList.toggle("invisible",!et.checked),clearTimeout(Ir),Ir=setTimeout(function(){T.b.set(kn.pid,"noteVisibility",et.checked)},1e3)}),document.getElementById("addNoteButton").addEventListener("click",function(e){e.stopPropagation(),Mr()});const Br=6,zr=13,Fr=26,qr=29;function Hr(e){var t=e.getBoundingClientRect(),n=ot.getBoundingClientRect(),i=Br,a=Br,s=qr,o=!1;t.right<=0?(o=!0,i=Br):t.left>=tt.offsetWidth?(o=!0,i=tt.offsetWidth-Br-n.width):t.left<=n.width+Br+zr?(ot.classList.remove("left"),ot.classList.add("right"),i=t.right+zr):t.right+zr+n.width+Br>=tt.offsetWidth?(ot.classList.remove("right"),ot.classList.add("left"),i=t.left-zr-n.width):(ot.classList.remove("left","right"),ot.classList.add(e.dataset.position),i="left"===e.dataset.position?t.left-zr-n.width:t.right+zr),t.top<=tt.offsetTop+Fr+Br?(o=!0,a=tt.offsetTop+Br):t.bottom>=window.innerHeight-Fr?(o=!0,a=window.innerHeight-n.height-Br):t.top>=window.innerHeight-n.height+Fr-Br?(a=window.innerHeight-n.height-Br,s=t.top-a+Br):t.top+n.height-qr>window.innerHeight?(o=!0,a=window.innerHeight-n.height-Br):a=t.top-Fr,ot.classList.toggle("overflown",o),ot.style.transform="translate("+i.toFixed()+"px, "+a.toFixed()+"px)",rt.style.top=s+"px"}var Wr=!1;function Zr(){Mn&&!Wr&&(requestAnimationFrame(function(){Hr(Mn),Wr=!1}),Wr=!0)}function Vr(){ot.classList.remove("hidden"),Hr(Mn),tt.addEventListener("scroll",Zr)}function $r(e){const t=function(e){var t=(e=new URL(e)).origin===location.origin,n=e.protocol===ie.B;if(t||n){var i={query:{}};if(e.hash||n){var a=(n?e.search||e.href.substring(e.href.indexOf("?")):e.hash).replace("&amp;","&").substring(1),s=L.N(a);if(!("pid"in s))return;return i.url={pid:s.pid[0]},"sid"in s?i.url.sid=s.sid[0]:t&&"styleguide"in s||n&&(e.pathname.startsWith("//styleguide")||e.pathname.startsWith("//guideline"))?i.subpage="styleguide":i.subpage="dashboard",i}var o=zi(e.pathname);if(o){Object.assign(i,{url:o});var r=e.pathname.match(/\/(dashboard|styleguide)$/);if(r&&(i.subpage=r[1]),e.search){var l=L.N(e.search.replace(/&amp;/g,"&"));Object.assign(i,{query:l})}return i}}}(e);if(!(t&&"pid"in t.url&&t.url.pid===i.id))return;let n="project-dashboard",a="Dashboard",s=["link"];if("sid"in t.url){n="project-screen";const e=i.screens.find(function(e){return e._id===t.url.sid}),o=e?e.name:"unknown";if("did"in t.query)if(t.query.did.length>1)a=`Notes on ${o}`;else{const n=e.dots&&e.dots.find(function(e){return e._id===t.query.did[0]}),i=`Note${n?` #${n.name}`:""}`;a="cmid"in t.query?`Comment${t.query.cmid.length>1?"s":""} on ${i}, ${o}`:`${i}, ${o}`}else s.push("screenLink"),a=o}return"subpage"in t&&"styleguide"===t.subpage&&(n="project-styleguide",a="Styleguide",delete t.subpage),{anchorText:a,classList:s,url:L._3(n,t)}}function Gr(e){return e.replace(/#([\w-]+)/g,function(e,t){var n=i.findColorByName(t);return n?'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+n.toCSS()+'"></span></span>':/#[\da-f]{6}/i.test(e)?(n=i.findColorByHexAndAlpha({hex:e}))?'<span class="color">#'+n.name+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':e})}function Yr(e){return e.replace(h,function(e){return'<span class="user'+(Bn.test(e)?" self":"")+'">'+e+"</span>"})}function Kr(e,t){var n=[],i=new H.a({stripPrefix:!1,className:"link",phone:!1,twitter:!1,hashtag:!1,replaceFn:function(e){return function(t){switch(t.getType()){case"url":{if(t.protocolRelativeMatch)return!1;const n=$r(t.getUrl());if(n){const{anchorText:t,classList:i,url:a}=n;return e.push(`<a href="${a}" class="${i.join(" ")}" data-link-type="inApp">${t}</a>`),`{{link:${e.length-1}}}`}const i=t.buildTag();return i.setAttr("rel","nofollow external noopener noreferrer"),e.push(i.toAnchorString()),`{{link:${e.length-1}}}`}case"email":return e.push(t.buildTag().toAnchorString()),"{{link:"+(e.length-1)+"}}";default:return!1}}}(n)});return(t=t||[]).reduce(function(e,t){return t(e)},i.link(L.m(e))).replace(/{{link:(\d+)}}/g,function(e,t){return n[parseInt(t,10)]})}function Xr(e){return Kr(e,[X.formatEmojiString,L.X])}function Jr(e){return Kr(e,[Gr,Yr,X.formatEmojiString,L.X])}function Qr(){ht.textContent=ct.lastElementChild.classList.contains("commentOwner")?"POST":"REPLY"}var el=document.getElementById("commentTemplate");function tl(e,t,n){delete e.status;var i=document.importNode(el.content,!0);nl(i.querySelector(".comment"),e,t,n),ct.appendChild(i);var a=ct.lastElementChild,s=a.querySelector(".commentNote"),o=a.querySelector(".commentMirror");return s.addEventListener("input",function(){ol(s,o,a)}),s.addEventListener("keyup",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:ol(s,o,a)}}),a}function nl(e,t,n,a){L.U(e.querySelector(".commentAuthorImage"),t.author),e.querySelector(".commentAuthorName").textContent=t.author?t.author.username:"Anonymous",e.dataset.id=t._id,e.classList.toggle("commentOwner",t.author&&t.author._id===Zeplin.user._id);var s=new Date(t.created),o=new Date(t.updated);e.querySelector(".commentLink").href=L._3("project-screen",{url:{pid:i.id,sid:n},query:{did:a,cmid:t._id}}),e.querySelector(".commentCreated").setAttribute("datetime",s);var r=e.querySelector(".commentMirror");r.innerHTML=Jr(t.note),r.classList.toggle("jumboEmojis",Fa(r,t.note)),e.querySelector(".commentEdited").setAttribute("datetime",o-s>3e5?o:"")}function il(e,t,n){var a=X.formatEmojiString(mt.value.trim(),!0);if(X.close(),J.close(),a){var s=e._id,o=t._id,r=tl({author:{_id:Zeplin.user._id,email:Zeplin.user.email,username:Zeplin.user.username,emotar:Zeplin.user.emotar,avatar:Zeplin.user.avatar},note:a,created:Date.now(),updated:Date.now()},s,o);Hr(document.querySelector(".dot[data-id='"+o+"']")),r.classList.add("loading"),L.S(r),Qr(),dt.classList.remove("composing"),fetch(Zeplin.urls.baseURL+"/v2/projects/"+i.id+"/screens/"+s+"/dots/"+o+"/comments",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({note:a})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw R.a(e.status,t)})}).then(function(e){t.comments.push(e),ir(),pt.innerHTML="&nbsp;",mt.value="",r.dataset.id=e._id,r.classList.remove("loading"),n?mixpanel.webapp.track("Created comment with reaction",{reaction:a}):mixpanel.webapp.track("Created comment")}).catch(function(e){r.remove(),dt.classList.add("composing"),mt.focus(),R.b(e)})}}function al(e,t,n,a){var s=e.querySelector(".commentMirror"),o=e.querySelector(".commentNote"),r=X.formatEmojiString(o.value.trim(),!0);if(X.close(),J.close(),r&&(s.innerHTML=Jr(r),s.classList.toggle("jumboEmojis",Fa(s,r)),e.classList.remove("editing"),dt.classList.remove("hidden"),Hr(Mn),a.note!==r)){var l=t._id,c=n._id,d=e.dataset.id;e.classList.add("loading"),fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/screens/"+l+"/dots/"+c+"/comments/"+d+"/note",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({note:r})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).then(function(){a.note=r,ir(),nl(e,a,l,c),e.classList.remove("loading"),mixpanel.webapp.track("Edited comment")}).catch(function(t){e.classList.remove("loading","jumboEmojis"),e.classList.add("editing"),dt.classList.add("hidden"),o.focus(),R.b(t)})}}ot.addEventListener("click",function(e){if(e.stopPropagation(),"A"!==e.target.tagName){var t=Dn.dots.find(function(e){return e._id===ot.dataset.id});if(e.target.classList.contains("dotResolveButton"))$l(ot.dataset.id,"resolved");else if(e.target.classList.contains("dotReopenButton"))$l(ot.dataset.id,"open");else if(e.target.classList.contains("commentEditButton")){var n=ot.querySelector(".comment.editing");if(n){var a=n.querySelector(".commentMirror");a.innerHTML=Jr(Ln.note),a.classList.toggle("jumboEmojis",Fa(a,Ln.note)),n.classList.remove("editing")}J.close(),X.close(),dt.classList.add("hidden"),dt.classList.remove("composing"),pt.innerHTML="&nbsp;",mt.value="";var s=(d=e.target.closest(".comment")).querySelector(".commentMirror"),o=d.querySelector(".commentNote"),r=d.dataset.id;Ln=t.comments.find(function(e){return e._id===r}),s.innerHTML=L.m(Ln.note)+"&nbsp",s.classList.remove("jumboEmojis"),o.value=Ln.note,d.classList.add("editing"),o.setSelectionRange(Ln.note.length,Ln.note.length),o.focus(),Hr(Mn)}else if(e.target.classList.contains("commentDeleteButton")){r=(d=e.target.closest(".comment")).dataset.id;var l,c=t.comments.find(function(e){return e._id===r});l=c.author?c.author._id===Zeplin.user._id?"Delete your comment?":"Delete "+c.author.username+"'s comment?":"Delete Anonymous's comment?",_.a({title:l,message:"Deleted comments cannot be restored.",done:{name:"DELETE",cb:function(){!function(e,t,n){var a=t._id,s=n._id,o=e.dataset.id,r=st.querySelector(".dot[data-id='"+s+"']");1===n.comments.length?(Qo(),r.classList.add("hidden")):(e.style.height=getComputedStyle(e).height,e.style.height=0,e.style.padding="0 6px 0 12px"),fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/screens/"+a+"/dots/"+s+"/comments/"+o,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).then(function(){1===n.comments.length?(hl(t,s),r.remove(),On=null,Mn=null,ct.innerHTML="",ct.scrollTop=0):(pl(n,o),e.remove(),Qr(),Hr(r)),ir(),mixpanel.webapp.track("Deleted comment")}).catch(function(t){1===n.comments.length?(ot.classList.remove("hidden"),r.classList.remove("hidden")):e.removeAttribute("style"),R.b(t)})}(d,Dn,t)}},cancel:{name:"CANCEL",cb:function(){Qo()}}})}else if(e.target.classList.contains("commentDoneButton")){var d;al(d=e.target.closest(".comment"),Dn,t,Ln)}}}),ot.addEventListener("keydown",function(e){if(e.target.classList.contains("commentNote")){e.stopPropagation();var t=e.target.closest(".comment"),n=Dn.dots.find(function(e){return e._id===ot.dataset.id});switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&al(t,Dn,n,Ln);break;case Zeplin.KEY_CODE.ESC:J.close(),X.close(),t.classList.remove("editing"),dt.classList.remove("hidden");var i=t.querySelector(".commentMirror");i.innerHTML=Jr(Ln.note),i.classList.toggle("jumboEmojis",Fa(i,Ln.note)),e.target.blur(),Hr(Mn)}}});var sl={positive:"👍",neutral:"🤔",negative:"😩"};function ol(e,t,n){if(t.innerHTML=L.m(e.value)+"&nbsp;",e.selectionStart===e.selectionEnd){var a=L.s(e.value.substring(0,e.selectionStart),!0),s=e.value.charAt(a);if("@"===s){var o=J.manageSuggestedUsers(e,t,i);o&&rl(o,n,J)}else if(":"===s){var r=X.manageSuggestedEmojis(e,t);r&&rl(r,n,X)}else J.close(),X.close()}}function rl(e,t,n){e.style.top="",e.style.bottom="",t.appendChild(e),n.open(),e.getBoundingClientRect().bottom+12>=window.innerHeight?(e.style.bottom=ot.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom+t.offsetHeight+"px",e.style.top=""):(e.style.top=t.getBoundingClientRect().top-ot.getBoundingClientRect().top+t.offsetHeight+"px",e.style.bottom="")}function ll(e){if("webUrl"in e)return;const t=L._3("project-styleguide-components",{url:{pid:i.id},query:{coid:e._id}});dl(t).catch(function(){return t}).then(function(t){e.webUrl=t,ia()})}function cl(){dl(i.sceneUrl,"scene").then(function(e){i.sceneUrl=e,on.textContent=e,ln.href=e}).then(function(){tn.classList.remove("loading"),nn.disabled=!1,sn.classList.add("hidden"),an.classList.remove("hidden")})}function dl(e,t){var n=Zeplin.urls.baseURL+"/urls"+(t?"?path="+t:"");return fetch(n,{method:"POST",headers:Zeplin.headers,body:JSON.stringify({url:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw R.a(e.status,t)})}).then(function(e){return e.url}).catch(function(e){throw R.b(e),e})}function ul(e,t,n){var a;if(a="color"===e?"colors_"+i.name+".zip":"textstyles_"+i.name+".zip",Array.isArray(t)){var s=new Z.a;t.forEach(function(e){s.file(e.filename,e.code)}),s.generateAsync({type:"blob"}).then(function(e){ls({data:URL.createObjectURL(e),name:a})})}else ls({data:URL.createObjectURL(new Blob([t.code],{type:Ti[t.language]})),name:t.filename});bc("osx"===i.type?"mac":i.type),mixpanel.webapp.track("Exported extension file",{type:e,extension:n})}function hl(e,t){return L.b(e.dots,function(e){return e._id===t})}function pl(e,t){return L.b(e.comments,function(e){return e._id===t})}function ml(e){i.removeTextStyle(e),ia(),ir()}function fl(e){window.Notification&&"granted"===Notification.permission&&T.c.get("notificationStatus").then(function(t){if(t){var n=new Notification(e.title,{body:e.body,icon:"https://secure.gravatar.com/avatar/"+$()(e.notifier.email)+"?s=160",name:0});n.addEventListener("show",function(){setTimeout(n.close.bind(n),5e3)}),"handler"in e&&n.addEventListener("click",e.handler)}})}function gl(e){i.name=e,ra(),lr()}function bl(e){oa(e),Dn&&Ps(_n.snapshot,"density"),lr(),ir(),ia()}ut.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){if(ot.classList.contains("resolved")){var t=document.querySelector("#dotPopup .comment:first-child .commentButtons");return t.classList.add("flashing"),void(t.animate([{opacity:0},{opacity:1},{opacity:0}],{duration:1e3,easing:"ease-in-out"}).onfinish=function(){t.classList.remove("flashing")})}if(e.target.closest("#newCommentButton"))return dt.classList.add("composing"),void mt.focus();var n=e.target.closest(".newCommentReaction"),i=Dn.dots.find(function(e){return e._id===ot.dataset.id}),a=i.comments[i.comments.length-1];if(!a.author||a.author._id!==Zeplin.user._id||a.note!==sl[n.dataset.reaction]){var s=mt.value;mt.value=sl[n.dataset.reaction],il(Dn,i,!0),mt.value=s}}}),mt.addEventListener("input",function(){ol(mt,pt,gt)}),document.body.classList.contains("safari")&&(mt.addEventListener("beforeinput",function(e){var t=e.data||"";mt.value.length+t.length>mt.maxLength&&e.preventDefault()}),ot.addEventListener("beforeinput",function(e){var t=e.target,n=e.data||"";t.value.length+n.length>t.maxLength&&e.preventDefault()})),mt.addEventListener("click",function(e){e.stopPropagation(),ol(mt,pt,gt)}),ft.addEventListener("click",function(){On?il(Dn,On):ws(Dn,Mn)}),mt.addEventListener("keyup",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:ol(mt,pt,gt)}}),mt.addEventListener("keydown",function(e){if(e.stopPropagation(),At.classList.contains("hidden")&&Nt.classList.contains("hidden"))switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&(On?il(Dn,On):ws(Dn,Mn));break;case Zeplin.KEY_CODE.ESC:$n[Dn._id]&&(On?$n[Dn._id].reply&&($n[Dn._id].reply[On._id]=null):$n[Dn._id].comment=null),dt.classList.remove("composing"),pt.innerHTML="&nbsp;",mt.value="",On||Qo()}}),ct.addEventListener("mouseover",function(e){e.target!==ct&&e.target.closest(".comment").classList.remove("highlight")}),window.addEventListener("offline",function(){"screen"===ze.dataset.selection&&(Ve.textContent="Looks like there is a problem with the connection.",ze.className="offline")});var vl=document.getElementById("screenSuggestionTemplate");function yl(e,t){var n=document.importNode(vl.content,!0),i=n.querySelector(".screenSuggestion");i.dataset.id=e._id,i.dataset.index=t,n.querySelector(".screenName").textContent=e.name,n.querySelector(".tagName").textContent=e.filterTag||"",Ut.appendChild(n)}function Cl(){Mt.value="",Mt.blur(),Ut.innerHTML="",Pt.classList.add("hidden")}function wl(e){var t=new U.a(e);i.addColor(t),ir(),ia(),nr()}function Sl(e){i.removeColor(e),ir(),ia(),nr()}function kl(e,t){i.updateColor(e,t),ir(),ia(),nr()}function El(e,t){fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/users/"+e+"/role",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({role:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).then(function(){i.changeUserRole(e,t),Bi(i.users)}).catch(R.b)}function jl(e){fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/users/"+e,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).then(function(){i.removeUser(e),e===Zeplin.user._id?(Qo(),ca()):(Bi(i.users),I.d(i.id,e))}).catch(R.b)}function xl(e){if(L.O.canUpdateProject(a)){var t=Rl(e),n=Ea(e),s=vn.querySelector(".screen.thumbnail");return fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/thumbnail",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({thumbnail:t.versions[0].snapshot.url})}).then(function(){i.thumbnail=t.versions[0].snapshot.url,s&&s.classList.remove("thumbnail"),n&&n.classList.add("thumbnail")})}}function Dl(e){var t=Rl(e);return is(t.versions[0].snapshot).then(function(e){var n=new Blob([e.data],{type:Ti.png});return{name:t.name+".png",blob:n}})}function _l(e){var t=Ea(e),n=i.findScreenSection(e);return t&&t.classList.add("hidden"),fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/screens/"+e,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).then(function(){i.removeScreen(n._id,e)},function(e){R.b(e),t&&t.classList.remove("hidden")})}function Ol(e){i.addTextStyle(e),ia(),ir()}var Ll=0;function Tl(e,t,n){if(!Ft.classList.toggle("taglessProject",0===e.length&&!n)){t=t||[],Yt.innerHTML="";var i=0;Ll=0,e.forEach(function(e){if(-1===t.indexOf(e)&&(!n||-1!==e.toLowerCase().indexOf(n.toLowerCase()))){var a=document.importNode($t.content,!0);0===Yt.childElementCount&&a.querySelector(".tagSuggestion").classList.add("selected"),a.querySelector(".tagSuggestion").dataset.tag=L.m(e),a.querySelector(".tagSuggestion").dataset.suggestionIndex=i,i++,a.querySelector(".tagSuggestion .tagSuggestionText").textContent=e,Yt.appendChild(a)}}),!n||function(e,t){for(var n=0;n<e.length;n++)if(e[n].toLowerCase()===t.toLowerCase())return!0;return!1}(e,n)?(qt.classList.add("hidden"),qt.classList.remove("selected")):(qt.classList.remove("hidden"),qt.dataset.suggestionIndex=i,qt.dataset.tag=L.m(n),Ht.textContent=n,qt.classList.toggle("selected",0===Yt.childElementCount)),Ft.classList.toggle("taglessScreen",0===t.length)||(Gt.innerHTML="",t.forEach(function(e){var t=document.importNode(Vt.content,!0);t.querySelector(".tagOfScreen").dataset.tag=L.m(e),t.querySelector(".tagButtonText").textContent=e,Gt.appendChild(t)}))}}function Rl(e){if(i.screens)return i.screens.find(function(t){return t._id===e})}function Il(e){L.O.canManageScreens(a)&&(m=0,f=0,tr(),Jl(),Ft.classList.remove("hidden"),Ft.dataset.sid=e,Xt.value="",Xt.focus(),Tl(i.tags,Rl(e).tags))}function Al(){Xt.value="",Xt.blur(),Ft.classList.add("hidden")}function Nl(e){Dn&&ir(),ts(),e&&("dashboard"===Tn?Bo():No()),Ft.classList.contains("hidden")||Tl(i.tags,Rl(Ft.dataset.sid).tags,Xt.value)}function Pl(e){L.O.canManageScreens(a)&&fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/screens/tags",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({screens:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).catch(function(t){R.b(t),e.forEach(function(e){var t=Rl(e._id);"add"===e.operation?t.tags=t.tags.filter(function(t){return-1===e.tags.indexOf(t)}):t.tags=t.tags.concat(e.tags),$s()}),Nl()})}function Ml(e,t,n){L.O.canManageScreens(a)&&(Xt.value="",Pl([{_id:e._id,operation:n,tags:[t]}]),"add"===n?(e.tags=e.tags||[],e.tags.push(t)):e.tags=e.tags.filter(function(e){return e!==t}),$s(),Nl(Ks()||"remove"===n&&!!Le.querySelector(".tag.selected[data-tag='"+L.m(t)+"']")))}function Ul(e){var t=Zt.querySelector(".tagSuggestion[data-suggestion-index='"+e+"']");t&&(Zt.querySelector(".tagSuggestion.selected").classList.remove("selected"),t.classList.add("selected"),L.S(t),Ll=e)}function Bl(e){L.O.canManageScreens(a)&&(Pl(i.deleteTag(e)),Nl(Ks()||!!Le.querySelector(".tag.selected[data-tag='"+L.m(e)+"']")))}function zl(){var e=document.querySelector(".tagMenu");e&&e.remove()}function Fl(e){var t=i.screens.filter(Xs([e]));return 0!==t.length&&t.every(function(e){var t=i.findScreenSection(e._id);return i.isDefaultSection(t._id)})}function ql(e,t){var n=new Z.a,i=e.map(Dl),a=[];Promise.all(i).then(function(e){if(1===e.length){var i=e[0];return t=i.name,i.blob}return e.forEach(function(e){var t=e.name,i=e.blob;if(a[t]>0){var s=a[t];a[t]++,t=t.replace(/(.*)\.(.*$)/,"$1 ("+s+").$2")}else a[t]=1;n.file(t,i)}),n.generateAsync({type:"blob"})}).then(function(e){return{data:URL.createObjectURL(e),name:t}}).then(ls)}function Hl(e,t,n,i){var a=parseInt(t.dataset.minWidth,10);if(t.classList.contains("collapsed")){if(!(e>a/2))return;t.classList.remove("collapsed"),i&&i(t)}t.style.width=e+"px",e<a?(document.body.classList.add("minResizing"),t.classList.toggle("collapsed",e<a/2)&&n&&n(t)):e>t.clientWidth?(t.classList.add("maxSizebar"),document.body.classList.add("maxResizing")):(t.classList.remove("maxSizebar"),document.body.classList.remove("maxResizing","minResizing"))}Zt.addEventListener("click",function(e){e.stopPropagation(),Xt.focus();var t=Rl(Ft.dataset.sid);if(e.target.classList.contains("removeTag"))Ml(t,L._1(e.target.parentElement.dataset.tag),"remove");else{var n=e.target.closest(".tagSuggestion");if(!n)return;Ml(t,L._1(n.dataset.tag),"add")}}),Wt.addEventListener("click",function(e){Xt.focus(),e.stopPropagation()}),Wt.addEventListener("keydown",function(e){e.stopPropagation();var t=Yt.querySelectorAll(".tagSuggestion");switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault();var n=Zt.querySelector(".tagSuggestion.selected");n&&Ml(Rl(Ft.dataset.sid),L._1(n.dataset.tag),"add"),(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&Al();break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),t.length&&Ll<t.length-1&&Ul(Ll+1);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),t.length&&Ll>0&&Ul(Ll-1);break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),Al()}}),Zt.addEventListener("mousemove",function(e){if(e.stopPropagation(),m!==e.clientX||f!==e.clientY){Xt.focus();var t=e.target.closest(".tagSuggestion");t&&(Ul(parseInt(t.dataset.suggestionIndex,10)),m=e.clientX,f=e.clientY)}}),Kt.addEventListener("click",Al),Xt.addEventListener("input",function(e){Tl(i.tags,Rl(Ft.dataset.sid).tags,e.target.value)}),Le.addEventListener("contextmenu",function(e){if(L.O.canManageScreens(a)&&(Jl(),e.target.classList.contains("tag")&&!e.target.classList.contains("untagged"))){e.preventDefault();var t,n=document.importNode(Jt.content,!0),s=n.querySelector(".tagMenu"),o=L._1(e.target.dataset.tag),r=L._3("project-dashboard",{url:{pid:i.id},query:{tag:[o]}});dl(r).then(function(e){t=e}),s.querySelector('.menuitem[data-action="create-section"]').classList.toggle("hidden",!Fl(o)),s.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var n=e.target.closest(".menuitem");if(n){switch(e.stopPropagation(),n.dataset.action){case"copy-web-link":L.i({content:t||r,toastContainer:document.querySelector(".projectOverview")});break;case"copy-app-uri":L.i({content:`${ie.B}//project?pid=${i.id}&tag=${encodeURI(o)}`,toastContainer:document.querySelector(".projectOverview")});break;case"download-screen-images":ql(function(e){return i.screens.filter(Xs(e)).map(function(e){return e._id})}(o),o+".zip");break;case"create-section":!function(e){if(Fl(e)){var t=Ys(),n=JSON.parse(JSON.stringify(i.sections)),a={name:e,screens:i.screens.filter(Xs([e])).map(function(e){return e._id})};i.addSection(a,1),t.length>0&&(Po(),Bo()),Promise.all([No().then(function(){var e=vn.querySelector(".section:not(.default)");return e&&L.E(e.querySelector(".sectionName")),e}),yo(a,1)]).then(function(t){var n=t[0],i=t[1];a._id=i._id,n&&(n.dataset.id=i._id),Bl(e)}).catch(function(e){i.sections=n,ua(i.id,t.length>0?{tag:t}:{}),R.b(e)})}}(o);break;case"delete":Bl(o)}setTimeout(function(){zl()},80)}}}),Le.appendChild(n),ic(s,Di.domNode,Le,e)}}),"PointerEvent"in window?(v="pointerdown",y="pointermove",C="pointerup"):"ontouchstart"in document?(v="touchstart",y="touchmove",C="touchend"):(v="mousedown",y="mousemove",C="mouseup"),Qt.addEventListener(v,function(e){e.preventDefault(),Wn=!0,tr(),Jl(),function(e,t,n){var i;function a(t){t.preventDefault&&t.preventDefault(),Hl(i="left"===e.dataset.side?t.clientX||t.changedTouches[0].clientX:window.innerWidth-(t.clientX||t.changedTouches[0].clientX),e,n.onCollapse,n.onExpand),n.onResize&&n.onResize()}n=n||{},document.body.classList.add("resizing","resizing"+e.dataset.side),e.classList.add("resizing"),document.addEventListener(y,a),document.addEventListener(C,function n(){e.style.width=e.clientWidth+"px",T.b.set(kn.pid,t,i),document.body.classList.remove("resizing","resizing"+e.dataset.side,"maxResizing","minResizing"),e.classList.remove("resizing"),document.removeEventListener(y,a),document.removeEventListener(C,n)})}(en,"versionsSidebarWrapperWidth",{location:"left",onCollapse:function(){bi.classList.contains("oldVersion")?en.classList.add("compact"):bi.classList.remove("versionsShown")},onExpand:function(){en.classList.remove("compact"),bi.classList.add("versionsShown")}})});var Wl,Zl=document.getElementById("dotMenuTemplate");function Vl(){var e=document.querySelector(".dotMenu"),t=document.querySelector(".dot.menuOpen");e&&(e.remove(),t&&t.classList.remove("menuOpen"))}function $l(e,t){var n=Dn.dots.find(function(t){return t._id===e}),a=n.status;n.status=t;var s=document.querySelector(".dot[data-id='"+e+"']");ot.dataset.id===e&&Qo(),vs(s),s.classList.add(t),ir(),fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/screens/"+Dn._id+"/dots/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({status:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){return R.a(e.status,t)});mixpanel.webapp.track("Re"+("open"===t?"open":"solv")+"ed dot")}).catch(function(e){n.status=a,s.classList.remove(t),s.classList.add(a),ir(),R.b(e)})}function Gl(e){if(document.elementsFromPoint){for(var t=e.getBoundingClientRect(),n=document.elementsFromPoint(t.left+13,t.top+13),i=0;i<n.length;i++)if(n[i].classList.contains("dot")&&n[i]!==e)return!0;return!1}return function(e){for(var t=e.getBoundingClientRect(),n=document.querySelectorAll(".dot"),i=t.left+13,a=t.top+13,s=0;s<n.length;s++){var o=n[s].getBoundingClientRect();if(n[s]!==e&&i>o.left&&i<o.right&&a>o.top&&a<o.bottom)return!0}return!1}(e)}function Yl(){const e=document.querySelectorAll(".customEmojiPlainText");Array.prototype.forEach.call(e,e=>{const t=L.m(e.innerText.trim()),n=X.formatEmojiString(t);e.outerHTML=n})}function Kl(e){fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/public",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({public:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).then(function(){i.public=e,lr(),e?cl():L.V("Unshared the Scene link.",Di.domNode)}).catch(R.b)}function Xl(){var e=document.querySelector(".moveToProjectPopup");e&&ae.default.render(null,e.parentElement,e)}function Jl(){Array.from(document.querySelectorAll(".optionsOpen")).forEach(function(e){e.classList.remove("optionsOpen")}),I.c()||(sr&&sr.removeEventListener("scroll",pc),Di.domNode.removeEventListener("listRefreshed",mc),Di.domNode.removeEventListener("usersInvited",jr),I.a()),eo(),zl(),function(){var e=document.querySelector(".memberMenu");e&&(e.parentElement.classList.remove("memberMenuOpen"),e.remove())}(),Vl(),function(){var e=document.querySelector(".shareSceneMenu");e&&e.remove()}(),function(){var e=document.querySelector(".sectionMenu");e&&e.remove()}(),Xl(),J.close(),X.close()}function Ql(e){i.screens.find(function(t){return t._id===e.body._id})||(e.body.dots=e.body.dots||[],e.body.tags=e.body.tags||[],e.body.versions=[e.body.latestVersion],delete e.body.latestVersion,delete e.body.versions[0].snapshot.layers,i.addScreen(e.body),No(),"dashboard"!==Tn||CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||Ha())}function ec(e){var t=i.screens.find(function(t){return t._id===e.params.sid});if(t&&!t.versions.find(function(t){return t._id===e.body._id})){var n=t.versions[0]._id,a=i.addVersion(e.params.sid,e.body),s=t.versions[0],o=Ea(e.params.sid);o&&(L.Q(o.querySelector(".screenImage"),e.body.snapshot.url),o.querySelector(".screenLastUpdated").setAttribute("datetime",t.updated),Dn===t&&((_n._id===n||a&&a._id===_n._id)&&(ir(),_n=s,Hs(t),a&&a._id===_n._id&&L.V("Displayed version is not available anymore.",document.querySelector("main"))),bi.classList.contains("versionsShown")?(Ss(t),T.b.set(i.id,t._id,"versionsLastSeen",new Date(s.created))):Zs(t)))}}function tc(){var e=arguments[arguments.length-1].body.integration.slacks.filter(function(e){return!i.integration.slacks.find(function(t){return t._id===e._id})});e.length&&(e.forEach(function(e){i.addIntegration("slacks",e)},i),lr(),$i())}function nc(e){i.updateUserInfo(e.params.uid,e.body),Bi(i.users),nr(),Dn&&(ir(),Ss(Dn))}function ic(e,t,n,i){var a=n.getBoundingClientRect();e.style.top=i.clientY-a.top+2+"px",e.style.left=i.clientX-a.left+2+"px",i.clientX+t.getBoundingClientRect().width+e.offsetWidth>window.innerWidth&&e.classList.add("toLeft"),i.clientY+e.offsetHeight>window.innerHeight&&e.classList.add("toTop")}it.addEventListener("contextmenu",function(e){if(!Zn&&(Jl(),tr(),e.target.classList.contains("dot")&&"undefined"!==e.target.dataset.id)){e.preventDefault();var t=document.importNode(Zl.content,!0).querySelector(".dotMenu"),n=e.target,s=Dn.dots.find(function(e){return e._id===n.dataset.id});t.style.zIndex=Vn+1,L.e()||t.querySelector("button[data-action='copy-link']").remove(),n.classList.contains("open")?t.querySelector("button[data-action='reopen']").remove():t.querySelector("button[data-action='resolve']").remove(),n.classList.add("menuOpen"),n.classList.remove("hover"),t.addEventListener("click",function(e){var t=e.target.closest(".menuitem");if(t){switch(e.stopPropagation(),t.dataset.action){case"reopen":$l(s._id,"open");break;case"resolve":$l(s._id,"resolved");break;case"copy-link":L.i({content:L._3("project-screen",{url:{pid:i.id,sid:Dn._id},query:{did:s._id}}),toastContainer:tt});break;case"delete":var a;a=s.creator?s.creator._id===Zeplin.user._id?"Delete your note?":"Delete "+s.creator.username+"'s note?":"Delete Anonymous's note?",_.a({title:a,message:"Deleted notes cannot be restored.",done:{name:"DELETE",cb:function(){!function(e,t){var n=t.dataset.id;t.classList.add("hidden"),fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/screens/"+e._id+"/dots/"+n,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).then(function(){hl(e,n),ir(),t.remove(),mixpanel.webapp.track("Deleted dot")}).catch(function(e){t.classList.remove("hidden"),R.b(e)})}(Dn,n)}},cancel:{name:"CANCEL"}})}setTimeout(function(){Vl()},80)}}),t.querySelector(".menuitem[data-action='delete']").classList.toggle("hidden",!(s.creator&&s.creator._id===Zeplin.user._id||L.O.canRemoveNotes(a))),st.appendChild(t),ic(t,vi.domNode,st,e)}}),it.addEventListener("mousedown",function(e){e.target.classList.contains("dot")&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&"undefined"!==e.target.dataset.id&&function(e){var t,n={},a=12,s={},o=!1;Vl();var r=Dn.dots.find(function(t){return t._id===e.dataset.id});function l(n){var i=e.getBoundingClientRect();if(o){n.preventDefault();var l=st.getBoundingClientRect();Qo(),e.classList.add("moving"),e.style.zIndex=Vn+5,Zn=!0,r.x=Math.max(0,Math.min((n.clientX-l.left)/l.width,1)),r.y=Math.max(0,Math.min((n.clientY-l.top)/l.height,1)),e.dataset.position=r.x<=.5?"left":"right",e.style.left="calc("+100*r.x+"% - 13px)",e.style.top="calc("+100*r.y+"% - 13px)",t=requestAnimationFrame(function(){e.classList.toggle("overlap",Gl(e))})}else s={x:Math.abs(n.clientX-i.left+13),y:Math.abs(n.clientY-i.top+13)},Math.hypot(s.x,s.y)>a&&(o=!0)}n.x=r.x,n.y=r.y,document.addEventListener("mousemove",l),document.addEventListener("mouseup",function a(s){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",a),o?(cancelAnimationFrame(t),o=!1,s.target.classList&&s.target.classList.contains("dot")||(Zn=!1),e.classList.remove("moving","overlap"),e.style.zIndex=++Vn,Gl(e)?(e.addEventListener("transitionend",function t(){e.removeEventListener("transitionend",t),e.classList.remove("backToFuture")}),e.classList.remove("hover"),e.classList.add("backToFuture"),e.dataset.position=n.x<=.5?"left":"right",e.style.left="calc("+100*n.x+"% - 13px)",e.style.top="calc("+100*n.y+"% - 13px)",r.x=n.x,r.y=n.y):n.x===r.x&&n.y===r.y||function(e,t,n){fetch(Zeplin.urls.baseURL+"/projects/"+i.id+"/screens/"+Dn._id+"/dots/"+n.dataset.id,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(e)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw R.a(e.status,t)})}).then(function(){mixpanel.webapp.track("Moved dot",{distance:Math.hypot(it.offsetWidth*(e.x-t.x),it.offsetHeight*(e.y-t.y))/Pn})}).catch(function(e){n.dataset.position=t.x<=.5?"left":"right",n.style.left="calc("+100*t.x+"% - 13px)",n.style.top="calc("+100*t.y+"% - 13px)",R.b(e)})}({x:r.x,y:r.y},n,e),n=null):ot.classList.remove("hidden")})}(e.target)}),it.addEventListener("mouseenter",function(e){e.target.classList.contains("dot")&&e.target.classList.add("hover")},!0),it.addEventListener("mouseout",function(e){e.target.classList.contains("dot")&&e.target.classList.remove("hover")}),Ye.querySelector(".organizationRules .minRole").textContent=L.D("rook"),tn.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),tn.classList.contains("loading")||(tn.classList.add("loading"),nn.disabled=!0,Kl(!0))}),nn.addEventListener("click",function(e){tn.classList.contains("loading")&&(e.preventDefault(),e.stopPropagation())}),on.addEventListener("click",function(){L.T(on)}),ln.addEventListener("click",function(){Ye.close()}),L.e()?rn.addEventListener("click",function(e){e.stopPropagation(),L.i({content:i.sceneUrl,container:an}),rn.classList.add("copied")}):rn&&rn.remove();var ac,sc,oc=60,rc=108,lc=12,cc=12,dc=359,uc=26,hc=dc-rc;function pc(){var e=ar.getBoundingClientRect(),t=Math.max(e.top-ac,cc)-oc;$e.style.transform="translate3d(0, "+t+"px, 0)",mc()}function mc(){var e=$e.getBoundingClientRect(),t=ar.getBoundingClientRect(),n=t.top+t.height/2-e.top-11;Ge.classList.toggle("hidden",e.bottom<t.bottom)||(Ge.style.top=n+"px")}function fc(){hn.classList.remove("focus"),un.classList.toggle("searching",!!dn.value.length)}dn.addEventListener("search",function(e){un.classList.toggle("searching",!!dn.value.length),No({immediate:!1})}),dn.addEventListener("input",function(){Po(),un.classList.toggle("searching",!!dn.value.length),clearTimeout(sc),sc=setTimeout(function(){if(un.classList.toggle("searching",!!dn.value.length),!dn.value)return delete kn.q,void ua(i.id);var e="q"in kn?"replace":"push";da(L._3("project-dashboard",{url:{pid:kn.pid},query:{q:dn.value}}),{navigationOperation:e})},200)}),dn.addEventListener("keydown",function(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),dn.value.trim()?(dn.value="",un.classList.remove("searching"),ua(i.id)):fc())}),dn.addEventListener("focus",function(e){e.preventDefault(),hn.classList.add("focus"),un.classList.toggle("searching",!!dn.value.length)}),dn.addEventListener("blur",fc),Array.from(mn.querySelectorAll('input[type="checkbox"]')).forEach(function(e){e.addEventListener("change",function(e){var t="lastUpdated"===e.target.name?"name":"lastUpdated";document.querySelector('#sortOptions input[name="'+t+'"]').checked=!1,No(),e.target.checked&&e.preventDefault()})});const gc={web:"Web developer",android:"Android developer",ios:"iOS developer",mac:"macOS developer"};function bc(e){Ce.f(gc[e])}function vc(e){if(!e||!L._5(e,"project"))return _.a({title:"Invalid project link",message:"There might be a typo, please try again."},{defer:!0}),void ca();var t=Promise.resolve(i);return i&&i.id===e||(T.b.get(e,"layoutGridEnabled").then(function(e){o=e}),T.b.get(e,"zoomLevel").then(function(e){Pn=e,Xe.textContent=(100*Pn).toFixed(),Ke.disabled=5===Pn,Qe.disabled=.25===Pn,Ds({saveZoomLevel:!1})}),T.b.get(e,"noteVisibility").then(function(e){et.checked=e,st.classList.toggle("invisible",!e)}),T.b.get(e,"sectionsCollapseState").then(function(e){Sn=e}),Xl(),w&&w.remove(),t=Sa(e)),t}var yc=!1;function Cc(){yc||(yc=!0,F.a.measure("page.interactive"),F.a.measureFirstInteraction())}function wc(){ci||(Di.render({loading:!0}),ji.render(),ci=!0,document.body.classList.add("loading"),di.start())}function Sc(){ci=!1,i?lr():Di.remove(),document.body.classList.remove("loading"),ji.remove(),di.stop()}function kc(e,t,n={}){const a=vc(e);a&&a.then(()=>{i&&("sid"in n?("dashboard"!==Tn&&ma(),Ys().length&&(Po(),No()),function(e){if(e&&jn){Zi();var t,n=i.screens.length;if(e.forEach(function(e){var i=Ea(e);if(i){i.querySelector(".screenLink").classList.add("highlight");var a=parseInt(i.dataset.index,10);a<n&&(n=a,t=i)}}),Array.from(new Set(e)).map(function(e){return i.findScreenSection(e)}).filter(function(e){return!!e}).forEach(function(e){go(Eo(e._id),!1)}),t){var a=t.getBoundingClientRect().top;setTimeout(function(){"scrollBy"in Element.prototype?_e.scrollBy({top:a-150,behavior:"smooth"}):_e.scrollTop+=a-150},200)}else _.a({message:"Screens not available anymore."})}}(n.sid)):"seid"in n?("dashboard"!==Tn&&ma(),function(e){if(e&&jn){var t=Eo(e);if(t){t.classList.contains("collapsed")&&go(t);var n=t.getBoundingClientRect().top;t.classList.add("highlight"),setTimeout(function(){"scrollBy"in Element.prototype?_e.scrollBy({top:n-150,behavior:"smooth"}):_e.scrollTop+=n-150,setTimeout(function(){t.classList.remove("highlight")},1e3)},200)}else _.a({message:"Section not available anymore."})}}(n.seid)):"eid"in n?("dashboard"!==Tn&&ma(),Or(i,n.eid[0])):"dashboard"===t?("dashboard"!==Tn&&ma(),"tag"in n?Uo(n.tag):(Po(),"untagged"in n&&Le.childElementCount&&document.querySelector(".tag.untagged").classList.add("selected"),"q"in n?(dn.value=n.q||"",un.classList.toggle("searching",!!dn.value.length)):(dn.value="",un.classList.remove("searching")),No())):"cid"in n?"styleguide"!==Tn&&ba():"tsid"in n?"styleguide"!==Tn&&ba():"styleguide"===t&&"styleguide"!==Tn&&ba(),T.c.get("slackReconnectionAuntieSeen").then(e=>{e||(rr=!e,lr())}),ra(),Cc(),lr())})}function Ec(e){Tn="dashboard",ze.dataset.selection=Tn,function(){const e=x.c.channel(g);e.unbind("UpdateProjectName",jc.onNameChange),e.unbind("ArchiveProject",jc.onProjectNotAvailable),e.unbind("DeleteProject",jc.onProjectNotAvailable),e.unbind("InviteUser",jc.onProjectChannelInviteUser),e.unbind("CreateUser",jc.onCreateUser),e.unbind("UpdateUserEmotar",jc.onUpdateUserProfile),e.unbind("UpdateUserAvatar",jc.onUpdateUserProfile),e.unbind("RemoveUserFromProject",jc.onRemoveUserFromProject),e.unbind("DeleteUser",jc.onDeleteUser),e.unbind("UpdateProjectDensity",jc.onUpdateProjectDensity),e.unbind("CreateScreenV3",jc.onCreateScreenV3),e.unbind("CreateScreenVersion",jc.onCreateScreenVersion),e.unbind("DeleteScreen",jc.onDeleteScreen),e.unbind("UpdateSectionScreensOrder",jc.onUpdateSectionScreensOrder)}(),gi.remove(),_i={},kc(e,Tn)}const jc={onNameChange(e){_i.name=e.body.name,gi.update({projectData:_i})},onProjectChannelInviteUser(e){const t=e.body;t.user._id!==Zeplin.user._id?(_i.users.push(t),gi.update({projectData:_i})):Ec(_i._id)},onDeleteScreen(e){L.b(_i.screens,t=>t._id===e.params.sid),gi.update({projectData:_i})},onUpdateSectionScreensOrder(e){const t=e.body.screens.sort((e,t)=>e.to-t.to).map(e=>L.b(_i.screens,t=>t._id===e._id)).filter(Boolean);Array.prototype.splice.apply(_i.screens,[e.body.screens[0].to,0].concat(t)),gi.update({projectData:_i})},onCreateUser(e){const t=_i.users.find(t=>t.user._id===e.body._id);t&&(Object.assign(t.user,{username:e.body.username,status:"registered"}),gi.update({projectData:_i}))},onUpdateUserProfile(e){const t=_i.users.find(t=>t.user._id===e.params.uid);t&&(Object.assign(t.user,e.body),gi.update({projectData:_i}))},onRemoveUserFromProject(e){L.b(_i.users,t=>t.user._id===e.params.mid),gi.update({projectData:_i})},onDeleteUser(e){L.b(_i.users,t=>t.user._id===e.params.uid),gi.update({projectData:_i})},onUpdateProjectDensity(e){Object.assign(_i,{density:e.body.density}),gi.update({projectData:_i})},onCreateScreenV3(e){const t={_id:e.body._id,latestVersion:{_id:e.body.latestVersion._id,snapshot:{_id:e.body.latestVersion.snapshot._id,width:e.body.latestVersion.snapshot.width,height:e.body.latestVersion.snapshot.height,url:e.body.latestVersion.snapshot.url}}};_i.screens.push(t),gi.update({projectData:_i})},onCreateScreenVersion(e){const t=_i.screens.find(t=>t._id===e.params.sid);t&&(t.latestVersion={_id:e.body._id,snapshot:{_id:e.body.snapshot._id,width:e.body.snapshot.width,height:e.body.snapshot.height,url:e.body.snapshot.url}},gi.update({projectData:_i}))},onProjectNotAvailable(e){De.classList.remove("hidden"),ca()}};function xc(e){gi.update({loadingJoin:!0}),Ce.x(e).then(()=>{Ec(e)}).catch(e=>{gi.update({loadingJoin:!1}),R.b(e)})}function Dc(){ze.dataset.selection="dashboard",Tn="dashboard"}function _c(){setTimeout(function(){ze.classList.remove("online")},1e4)}var Oc;li.route(/\/project\/([0-9a-z]+)\/screen\/([0-9a-z]+)/i,function(e){ga("set","location",location.href),ga("set","title","Screen - Zeplin"),ga("send","pageview");const{match:[t,n],query:a,query:{did:s,cmid:o,beta:r}={}}=e;kn=Object.assign({pid:t,sid:n},a),r&&(Ci=new we.a(he.a,yi));const l=vc(t);l&&l.then(()=>{if(i){if(L._5(n,"screen")){if(!Dn||Dn._id!==n)return Gs(n)}else _.a({title:"Invalid screen link",message:"There might be a typo, please try again."}),ua(i.id,Mo());return Promise.resolve()}}).then(()=>{if(Dn){if(ra(),ir(),!("dots"in Dn))return;s&&1===s.length?(Tr(va(s[0]),null),yr(s[0],o)):Hi(s)}})}),li.route(/\/project\/([\da-f]+)\/styleguide\/colors/i,function(e){ga("set","location",location.href),ga("set","title","Color Palette - Zeplin"),ga("send","pageview");const{match:[t],query:n,query:{cid:a=[],beta:s}={}}=e;kn=Object.assign({pid:t},n),s&&(Ci=new we.a(he.a,yi));const o=vc(t);o&&o.then(()=>{i&&(Object.assign(Li,{selectedStyleguideId:"local",selectedSection:"colors",selectedTab:"colorsAndFonts"}),"styleguide"!==Tn?ba({highlightedColors:a}):ia({highlightedColors:a}))})}),li.route(/\/project\/([\da-f]+)\/styleguide\/textstyles/i,function(e){ga("set","location",location.href),ga("set","title","Text Style Catalog - Zeplin"),ga("send","pageview");const{match:[t],query:n,query:{tsid:a=[],beta:s}={}}=e;kn=Object.assign({pid:t},n),s&&(Ci=new we.a(he.a,yi));const o=vc(t);o&&o.then(()=>{i&&(Object.assign(Li,{selectedStyleguideId:"local",selectedSection:"textStyles",selectedTab:"colorsAndFonts"}),"styleguide"!==Tn?ba({highlightedTextStyles:a}):ia({highlightedTextStyles:a}))})}),li.route(/\/project\/([0-9a-f]+)\/styleguide\/components/i,function(e){ga("set","location",location.href),ga("set","title","Components - Zeplin"),ga("send","pageview");const{match:[t],query:{coid:[n]=[],cseid:[a]=[]}={}}=e;kn=Object.assign({pid:t},e.query);const s=vc(t);s&&s.then(()=>{if(!i)return;const e=n&&i.findComponentById(n);e&&ll(e),Object.assign(Li,{selectedStyleguideId:"local",selectedSection:"components",selectedTab:"components",cseid:a,selectionComponent:e,selection:e}),"styleguide"!==Tn?ba():ia()})}),li.route(/\/project\/([0-9a-z]+)(?:\/(dashboard|styleguide))?/i,function(e){const[t,n="dashboard"]=e.match;ga("set","location",location.href),ga("set","title",`${L._2(n)} - Zeplin`),ga("send","pageview"),kn=Object.assign({pid:t},e.query),e.query.beta&&(Ci=new we.a(he.a,yi)),kc(t,n,e.query)}),li.start(document.body,function(){return F.a.measurePageDefaults(),F.a.measure("page.start"),wc(),window.addEventListener("online",function(){j.a.get("userToken")&&(function(){var e=zi(location.pathname);e||ca(),kn=e,location.search&&Object.assign(kn,L.N(location.search))}(),"screen"===ze.dataset.selection&&(Ve.textContent="Keep working! Connection is back…",ze.className="online",document.hidden?document.addEventListener("visibilitychange",function e(){document.removeEventListener("visibilitychange",e),_c()}):_c()),zn=!0,clearTimeout(Oc),Oc=setTimeout(function(){Sa(kn.pid).then(function(){"sid"in kn&&Gs(kn.sid)})},1e3))}),T.c.get("versionsTutorialSeen").then(function(e){e||(cn.classList.remove("hidden"),cn.addEventListener("click",function(e){e.stopPropagation(),cn.classList.add("hidden");var t=O.a({content:"Ping ping! Versions of screens are listed here.",popover:!0,noControls:!0,hideCallback:function(){T.c.set("versionsTutorialSeen",!0)}});document.body.appendChild(t)}))}),mi.init()})},,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e){var t=i.default.h(a.a,e);return i.default.render(t,document.body)};var i=n(0),a=n(407)},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(3),o=n(5),r=n(512);n.n(r);t.a=class extends i.default.Component{constructor(e){super(e),this.closePopup=this.closePopup.bind(this),this.closeHandler=this.closeHandler.bind(this),this.handleButtonClick=this.handleButtonClick.bind(this),this.handleActionButtonClick=this.handleActionButtonClick.bind(this)}closePopup(){i.default.render(null,this.base.parentElement,this.base)}handleActionButtonClick(){this.props.actionButton.callback&&this.props.actionButton.callback()}handleButtonClick(){this.props.noControls||(this.props.hideCallback&&this.props.hideCallback(),this.closePopup())}closeHandler(){(this.props.noControls||this.props.popover)&&(this.props.noControls&&this.props.hideCallback&&this.props.hideCallback(),this.closePopup())}componentDidMount(){document.addEventListener("click",this.closeHandler),this.props.bodyCallbacks&&Object.keys(this.props.bodyCallbacks).forEach(e=>{this.base.querySelector(e).addEventListener("click",this.props.bodyCallbacks[e])})}componentWillUnmount(){document.removeEventListener("click",this.closeHandler)}render(e,t){const n=Object(s.a)("hideableInfo",{popover:e.popover,padBottom:e.padBottom});let r;r="html"===e.type?i.default.h("div",{dangerouslySetInnerHTML:{__html:e.content},class:"infoText"}):i.default.h("div",{class:"infoText"},e.content);let l=null;e.actionButton&&e.actionButton.text&&e.actionButton.callback&&(l=i.default.h("button",{class:"infoActionButton",onClick:this.handleActionButtonClick},e.actionButton.text));let c=null;return e.noControls||(c=i.default.h("div",{class:"infoButtons"},i.default.h("button",{class:"infoHideButton",onClick:this.handleButtonClick},i.default.h("div",null,i.default.h("img",{src:o.b("img/icGuidelineRemove.svg"),alt:"×"}),i.default.h("span",{class:"infoHideButtonText"},e.buttonText?e.buttonText:"OK, hide it!"))),l)),i.default.h("div",{class:n,onClick:a.Z},i.default.h("img",{width:"20",height:"20",src:o.b("img/icTip.png"),srcset:`${o.b("img/icTip@2x.png")} 2x, ${o.b("img/icTip@3x.png")} 3x`,alt:"💁"}),i.default.h("div",{class:"infoBody"},r,c),i.default.h("div",{class:`anchor ${e.anchor?e.anchor:"bottom"}`}))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1);function a(e,t){var n=this,a=e,s=a.querySelector(".formattedText"),o=a.querySelector(".mirror"),r=a.querySelector("textarea"),l=a.querySelector(".counter"),c=r.maxLength,d=r.value;Object.defineProperties(this,{root:{value:a},textarea:{value:r},counter:{value:l},mirror:{value:o},placeholder:{get:function(){return r.placeholder},set:function(e){o.innerHTML=i.m(e)+"&nbsp;",s.dataset.placeholder=i.m(e),r.placeholder=e}},maxLength:{get:function(){return c},set:function(e){c=e,this._setMaxLength()}},readOnly:{get:function(){return r.readOnly},set:function(e){r.readOnly=e}},_originalValue:{value:d,writable:!0},value:{get:function(){return r.value},set:function(e){o.innerHTML=i.m(e||r.placeholder)+"&nbsp;",s.innerHTML=t(e),r.value=e,this._setMaxLength()}}}),-1!==c&&this._setMaxLength(),a.classList.add("zplTextarea"),o.innerHTML="&nbsp;",a.classList.contains("autoedit")&&(a.addEventListener("click",function(e){e.stopPropagation()}),s.addEventListener("click",function(e){e.target.closest("a")||(e.stopPropagation(),n.startEditing())})),a.classList.contains("autosubmit")&&r.addEventListener("blur",function(){document.querySelector("#suggestedEmojisContainer.hidden")&&n.submitEdits()}),r.addEventListener("keydown",function(e){if(!r.readOnly)switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ESC:n.cancelEditing();break;case Zeplin.KEY_CODE.ENTER:(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&n.submitEdits()}}),r.addEventListener("keyup",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:n.checkAutoComplete()}}),r.addEventListener("input",function(e){r.readOnly||(n._setMaxLength(),l.textContent=c-r.value.length,o.innerHTML=i.m(r.value)+"&nbsp;",s.innerHTML=t(r.value),n.checkAutoComplete())}),r.addEventListener("drop",function(){r.readOnly||setTimeout(function(){r.focus()},4)}),r.addEventListener("click",function(e){e.stopPropagation(),n.checkAutoComplete()}),a.querySelector("button").addEventListener("click",function(e){e.stopPropagation(),n.submitEdits()})}a.prototype._setMaxLength=function(){document.body.classList.contains("safari")&&(this.textarea.maxLength=this.maxLength+(this.value.match(/\n/g)||[]).length)},a.prototype.startEditing=function(){if(!this.readOnly){this._originalValue=this.value,this.counter.textContent=this.maxLength-this.value.length,this.root.classList.add("editing");var e=this;setTimeout(function(){e.textarea.focus(),e.textarea.setSelectionRange(e.value.length,e.value.length)},4)}},a.prototype.submitEdits=function(){this.root.classList.contains("editing")&&(this.textarea.blur(),this.root.classList.remove("editing"),this.root.dispatchEvent(new CustomEvent("submit")))},a.prototype.cancelEditing=function(){this.value=this._originalValue,this.textarea.blur(),this.root.classList.remove("editing"),this.root.dispatchEvent(new CustomEvent("cancel"))},a.prototype.checkAutoComplete=function(){this.root.dispatchEvent(new CustomEvent("autocomplete"))},t.a=a},function(e,t,n){"use strict";var i=n(1),a=n(33),s=n(71),o=n(50),r=n(4);function l(e,t){let n,i;if("unknown"===e)n="px",i="px";else switch(t){case"android":n="dp",i="sp";break;case"ios":case"osx":n="pt",i="pt";break;case"web":default:n="px",i="px"}return{textDimensionSuffix:i,dimensionSuffix:n}}function c(e,t){if(e.length){var n=e[0].fontSize/t,i=e[e.length-1].fontSize/t;if(n<=36&&i>=14)e.forEach(function(e){e.scaledFontSize=e.fontSize/t});else{var a,s;n<14?(a=24,s=14):i>36?(a=36,s=24):(a=Math.min(36,n),s=Math.max(14,i));var o=n===i?0:(a-s)/(n-i);e[0].scaledFontSize=Math.round(a);for(var r=1;r<e.length;r++){var l=e[r-1].fontSize/t,c=e[r].fontSize/t;e[r].scaledFontSize=Math.round(e[r-1].scaledFontSize-(l-c)*o)}}}}function d(e,t,n){let i;switch(n){case"ios":case"osx":i=t.replace(/\s+/g,"");break;case"android":i="_"+t.replace(/\s+/g,"_").toLowerCase();break;case"web":default:i="-"+t.replace(/\s+/g,"-").toLowerCase()}return e+i}function u(e){var t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];if(e>19){var n=e%10;return["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"][Math.floor(e/10)]+(n?" "+t[n]:"")}return t[e]}function h(e,t){e.forEach(e=>{e.components.forEach(e=>{e.usedScreens=t.filter(t=>t.versions[0].snapshot.componentNames.includes(e.name))}),h(e.componentSections,t)})}function p(e,t,n){let i;for(const a of e){if(i=a.components.find(e=>e[t]===n))return i;if(i=p(a.componentSections,t,n))return i}return null}function m(e,t){e.forEach(e=>{const n=[...t,e._id];e.idPath=n,e.components.forEach(e=>{e.idPath=[...n,e._id]}),m(e.componentSections,n)})}function f(e){return e.components.concat(...e.componentSections.map(f))}function Project(e){var t,n,o,d,u=Object.assign({},e);u.users.sort(i.W.role),u.integration&&u.integration.slacks||(u.integration={slacks:[]}),n=`${r.r}/project/${u._id}`,d=u.colors.map(function(e){return new a.a(e)}),(t=u.textStyles.map(function(e){return new s.a(e)})).sort(i.n),c(t,i.q(u.density)),delete u.textStyles,delete u.colors;var p=u.screens.map(function(e){return e._id});u.sections.forEach(function(e){e.screens=e.screens.filter(function(e){return p.includes(e)})}),function(e){e.forEach(e=>{e.latestVersion.commit=e.latestVersion.commit||{},e.latestVersion.snapshot.componentNames=e.latestVersion.snapshot.componentNames||[],e.versions=[e.latestVersion],delete e.latestVersion})}(u.screens),h(u.componentSections,u.screens),m(u.componentSections,[]),Object.defineProperties(this,{id:{value:u._id},type:{value:u.type},name:{get:function(){return u.name},set:function(e){u.name=e}},colors:{get:function(){return d}},density:{get:function(){return u.density},set:function(e){u.density=e}},extensions:{get:function(){return u.extensions},set:function(e){u.extensions=e}},icon:{value:u.icon},integration:{get:function(){return u.integration},set:function(e){u.integration=e}},prefix:{get:function(){return u.prefix},set:function(e){u.prefix=e}},public:{get:function(){return u.public},set:function(e){u.public=e}},versionLimit:{value:3,writable:!0},screens:{get:function(){return u.screens},set:function(e){u.screens=e}},sections:{get:function(){return u.sections},set:function(e){u.sections=e}},status:{get:function(){return u.status},set:function(e){u.status=e}},textStyles:{get:function(){return t}},thumbnail:{get:function(){return u.thumbnail},set:function(e){u.thumbnail=e}},users:{get:function(){return u.users}},url:{value:i._3("project",{url:{pid:u._id}})},shortUrl:{get:function(){return o},set:function(e){o=e}},sceneUrl:{get:function(){return n},set:function(e){n=e}},slackTeamId:{get:function(){if(u.integration.slacks.length)return u.integration.slacks[0].teamId}},tags:{get:function(){var e=[];return new Set(u.screens.reduce(function(e,t){return e.concat(t.tags||[])},[])).forEach(function(t){e.push(t)}),e.sort(i.W.naturally)}},baseDensity:{value:"android"===u.type?"mdpi":"1x"},densityDivisor:{get:function(){return i.q(u.density)}},dimensionSuffix:{get:function(){return l(u.density,u.type).dimensionSuffix}},textDimensionSuffix:{get:function(){return l(u.density,u.type).textDimensionSuffix}},updated:{get:function(){return u.updated},set:function(e){u.updated=e}},componentSections:{get:function(){return u.componentSections},set:function(e){u.componentSections=e}}})}Project.prototype=Object.create(o.a.prototype),Project.prototype.constructor=Project,Project.prototype.toObject=function(){return{type:this.type,name:this.name,colors:this.colors.map(function(e){return e.toObject()}),textStyles:this.textStyles.map(function(e){return e.toObject()}),density:this.density}},Project.prototype.addTextStyle=function(e){this.textStyles.push(new s.a(e)),this.textStyles.sort(i.n),c(this.textStyles,this.densityDivisor)},Project.prototype.updateTextStyle=function(e,t){var n=this.textStyles.find(function(t){return t.id===e});n&&(Object.assign(n,t),this.textStyles.sort(i.n),c(this.textStyles,this.densityDivisor))},Project.prototype.removeTextStyle=function(e){var t=i.b(this.textStyles,function(t){return t.id===e});return c(this.textStyles,this.densityDivisor),t},Project.prototype.findTextStyleById=function(e){return this.textStyles.find(function(t){return t.id===e})},Project.prototype.findTextStyleByName=function(e){return this.textStyles.find(function(t){return t.name===e})},Project.prototype.findTextStyleEqual=function(e){return this.textStyles.find(function(t){return e.equals(t)})},Project.prototype.getTextStyleName=function(){if(!this.textStyles.length)return"Text Style";for(var e="Text Style",t=1;this.findTextStyleByName(e);)e="Text Style "+ ++t;return e},Project.prototype.findUser=function(e){return this.users.find(function(t){return t.user._id===e})},Project.prototype.findOwner=function(){return this.users.find(function(e){return"owner"===e.role})},Project.prototype.addUser=function(e){this.users.push(e),this.users.sort(i.W.role)},Project.prototype.changeUserRole=function(e,t){var n=this.findUser(e);n&&(n.role=t,this.users.sort(i.W.role))},Project.prototype.removeUser=function(e){return i.b(this.users,function(t){return t.user._id===e})},Project.prototype.updateUserInfo=function(e,t){var n=this.findUser(e);n&&(Object.assign(n.user,t),this.users.sort(i.W.role)),this.screens.forEach(function(n){n.dots&&n.dots.forEach(function(n){n.creator&&n.creator._id===e&&Object.assign(n.creator,t),n.comments.forEach(function(n){n.author&&n.author._id===e&&Object.assign(n.author,t)})}),n.versions.forEach(function(n){n.creator&&n.creator._id===e&&Object.assign(n.creator,t),n.commit.author&&n.commit.author._id===e&&Object.assign(n.commit.author,t)})})},Project.prototype.changeUserPaymentPlan=function(e,t){var n=this.findUser(e);n&&(n.user.paymentPlan=t)},Project.prototype.addColor=function(e){this.colors.push(new a.a(e))},Project.prototype.removeColor=function(e){return i.b(this.colors,function(t){return t.id===e})},Project.prototype.updateColor=function(e,t){var n=this.colors.find(function(t){return t.id===e});Object.assign(n,t)},Project.prototype.updateColorOrder=function(e,t){const n=this.removeColor(e);n&&this.colors.splice(t,0,n)},Project.prototype.findColorById=function(e){return this.colors.find(function(t){return t.id===e})},Project.prototype.findColorByName=function(e){return this.colors.find(function(t){return t.name===e})},Project.prototype.findColorEqual=function(e){return this.colors.find(function(t){return e.equals(t)})},Project.prototype.findColorByHexAndAlpha=function(e){return this.colors.find(function(t){var n=void 0===e.alpha||t.a===e.alpha;return(void 0===e.hex||t.hexBase()===e.hex.toLowerCase())&&n})},Project.prototype.checkDuplicateColorHex=function(e,t){var n=this.findColorByHexAndAlpha({hex:e,alpha:t.a});return n&&n.id!==t.id?n:null},Project.prototype.checkDuplicateColorAlpha=function(e,t){var n=this.findColorByHexAndAlpha({hex:t.hexBase(),alpha:parseInt(e,10)/100});return n&&n.id!==t.id?n:null},Project.prototype.checkDuplicateColorName=function(e,t){var n=this.findColorByName(e);return n&&n.id!==t.id?n:null},Project.prototype._checkProjectColors=function(e){for(var t,n=0;n<this.colors.length;n++){var i=this.colors[n];if(i.hexBase()===e.hexBase()){var a=i.name.length,s=parseInt(i.name.substr(a-2),10);t=s&&s===Math.round(100*i.a)?i.name.substr(0,a-2):i.name;break}}return t||(t=e.generateName(this.type)),this._checkProjectColorNames(d(t,Math.round(100*e.a).toString(),this.type))},Project.prototype._checkProjectColorNames=function(e){for(var t=e,n=1;this.findColorByName(t);)t=d(e,u(++n),this.type);return t},Project.prototype.getColorName=function(e){return e.a<1?this._checkProjectColors(e):this._checkProjectColorNames(e.generateName(this.type))},Project.prototype.deleteTag=function(e){return this.screens.reduce(function(t,n){var i;return n.tags&&-1!==(i=n.tags.indexOf(e))?(n.tags.splice(i,1),t.concat({_id:n._id,operation:"remove",tags:[e]})):t},[])},Project.prototype.addSection=function(e,t){var n=this;return e.screens.forEach(function(e){var t=n.findScreenSection(e);t&&i.b(t.screens,function(t){return t===e})}),this.sections.splice(t,0,e),e},Project.prototype.splitSection=function(e,t,n){var i=this.findSection(e);if(i){var a=this.sections.findIndex(function(t){return e===t._id}),s=i.screens.splice(t,i.screens.length-t);return this.sections.splice(a+1,0,{name:n,screens:s}),this.sections[a+1]}},Project.prototype.findSection=function(e){return e?this.sections.find(function(t){return t._id===e}):null},Project.prototype.removeSection=function(e){var t=this.findSection(e);if(t){var n=this.sections.findIndex(function(t){return t._id===e});return this.sections[n-1].screens=this.sections[n-1].screens.concat(t.screens),i.b(this.sections,function(t){return t._id===e})}},Project.prototype.updateSectionOrder=function(e,t){var n=this,a=[].concat(e).map(function(e){return i.b(n.sections,function(t){return t._id===e})}).filter(function(e){return e});Array.prototype.splice.apply(this.sections,[t,0].concat(a))},Project.prototype.isDefaultSection=function(e){return 0===this.sections.findIndex(function(t){return t._id===e})},Project.prototype.findScreenSection=function(e){return this.sections.find(function(t){return t.screens.includes(e)})},Project.prototype.addScreensToSection=function(e,t,n){var a=this,s=this.findSection(e);s&&(t.forEach(function(e){var t=a.findScreenSection(e);t&&i.b(t.screens,function(t){return t===e})}),Array.prototype.splice.apply(s.screens,[n,0].concat(t)))},Project.prototype.addScreen=function(e,t){this.screens.push(e);var n=this.sections[0];void 0===t&&(t=n.screens.length),this.addScreensToSection(n._id,[e._id],t)},Project.prototype.findScreen=function(e){return this.screens.find(function(t){return t._id===e})},Project.prototype.findScreenByName=function(e){return this.screens.find(function(t){return t.name===e})},Project.prototype.removeScreen=function(e,t){var n=this.findSection(e);if(n&&i.b(n.screens,function(e){return e===t}))return i.b(this.screens,function(e){return e._id===t})},Project.prototype.updateScreenOrder=function(e,t,n){var a=this.findSection(e);a&&(t=[].concat(t).map(function(e){return i.b(a.screens,function(t){return t===e})}).filter(function(e){return e}),Array.prototype.splice.apply(a.screens,[n,0].concat(t)))},Project.prototype.addVersion=function(e,t){var n=this.findScreen(e);if(n)return n.updated=(new Date).toISOString(),n.versions.unshift(t),n.totalVersionCount&&n.totalVersionCount++,n.versions.length>this.versionLimit?n.versions.pop():void 0},Project.prototype.removeVersion=function(e,t){var n=this.findScreen(e);if(n){var a=i.b(n.versions,function(e){return e._id===t});return n.totalVersionCount&&n.totalVersionCount--,a}},Project.prototype.addIntegration=function(e,t){this.integration[e].push(t)},Project.prototype.removeIntegration=function(e,t){return i.b(this.integration[e],function(e){return e._id===t})},Project.prototype.getColorMapByFormat=function(e){var t={};if(this.colors)return this.colors.forEach(function(n){var i=new a.a(n),s=i.toCSS(e);t[s]=i.name}),t},Project.prototype.removeExtension=function(e){return i.b(this.extensions,function(t){return t._id===e})},Project.prototype.findComponentById=function(e){return p(this.componentSections,"_id",e)},Project.prototype.findComponentByName=function(e){return p(this.componentSections,"name",e)},Project.prototype.findComponentSection=function(e){let t=this;for(const n of e)if(!(t=t.componentSections.find(e=>e._id===n)))return null;return t},Project.prototype.addComponent=function(e,t){const n=this.findComponentSection(e);n&&(t.idPath=[...e,t._id],n.components.push(t),h(this.componentSections,this.screens))},Project.prototype.updateComponent=function(e,t,n){const i=this.findComponentSection(e);if(!i)return;const a=i.components.find(e=>e._id===t);a&&(Object.assign(a,n),"name"in n&&h(this.componentSections,this.screens))},Project.prototype.updateComponentOrder=function(e,t,n,a){const s=this.findComponentSection(e);if(!s)return;const o=this.findComponentSection(t);if(!o)return;const r=i.b(s.components,e=>e._id===n);r&&(r.idPath=[...t,r._id],o.components.splice(a,0,r))},Project.prototype.removeComponent=function(e,t){const n=this.findComponentSection(e);if(!n)return;const a=i.b(n.components,e=>e._id===t);return a?(h(this.componentSections,this.screens),a):void 0},Project.prototype.addComponentSection=function(e,t,n){const i=this.findComponentSection(e);i&&(n.components||(n.components=[]),n.componentSections||(n.componentSections=[]),m([n],e),i.componentSections.splice(t,0,n))},Project.prototype.updateComponentSection=function(e,t){const n=this.findComponentSection(e);n&&Object.assign(n,t)},Project.prototype.mergeComponentSection=function(e,t,{flatten:n=!1}={}){const a=e.pop(),s=this.findComponentSection(e);if(!s)return;const o=this.findComponentSection(t);if(!o)return;const r=i.b(s.componentSections,e=>e._id===a);r&&(n?o.components.push(...f(r)):(o.components.push(...r.components),o.componentSections.push(...r.componentSections)),m(this.componentSections,[]))},Project.prototype.updateComponentSectionOrder=function(e,t,n){const a=e.pop(),s=this.findComponentSection(e);if(!s)return;const o=this.findComponentSection(t);if(!o)return;const r=i.b(s.componentSections,e=>e._id===a);r&&(o.componentSections.splice(n,0,r),m([r],t))},Project.prototype.removeComponentSection=function(e){const t=e.pop(),n=this.findComponentSection(e);if(!n)return;const a=i.b(n.componentSections,e=>e._id===t);return a?(h(this.componentSections,this.screens),a):void 0},t.a=Project},function(e,t,n){"use strict";var i=n(50),a=["gaussian","background"];function s(e){var t=Object.assign({},e);Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===a.indexOf(e))throw new TypeError("Unknown blur type: '"+e+"'. Possible values: "+JSON.stringify(a));t.type=e}},radius:{get:function(){return t.radius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, ∞)");t.radius=e}}})}s.prototype=Object.create(i.a.prototype),s.prototype.constructor=s,s.prototype.toObject=function(){return{type:this.type,radius:this.radius}},t.a=s},function(e,t,n){"use strict";var i=n(409),a=n(50);function s(e,t,n){var a=Object.assign({},e);a.fill=new i.a({fillType:a.fillType,color:a.color,gradient:a.gradient,opacity:a.opacity,blendMode:a.blendMode},t,n),delete a.fillType,delete a.color,delete a.gradient,delete a.opacity,delete a.blendMode,Object.defineProperties(this,{position:{get:function(){return a.position},set:function(e){a.position=e}},thickness:{get:function(){return a.thickness},set:function(e){a.thickness=e}},fill:{get:function(){return a.fill},set:function(e){a.fill=e}}})}s.prototype=Object.create(a.a.prototype),s.prototype.constructor=s,s.prototype.toObject=function(){const e={position:this.position,thickness:this.thickness,fillType:this.fill.type,opacity:this.fill.opacity,blendMode:this.fill.blendMode};return this.fill.color?e.color=this.fill.color.toObject():this.gradient&&(e.gradient=this.fill.gradient.toObject()),e},t.a=s},function(e,t,n){"use strict";var i=n(518),a=n(50),s=["linear","radial","angular"];function o(e,t,n){var a=Object.assign({},e);a.colorStops=a.colorStops.map(function(e){return new i.a(e)}),Object.defineProperties(this,{type:{get:function(){return a.type},set:function(e){if(-1===s.indexOf(e))throw new TypeError("Unknown gradient type: '"+e+"'. Possible values: "+JSON.stringify(s));a.type=e},enumerable:!0},from:{get:function(){return a.from},set:function(e){a.from=e},enumerable:!0},to:{get:function(){return a.to},set:function(e){a.to=e},enumerable:!0},angle:{get:function(){return a.angle},set:function(e){a.angle=e},enumerable:!0},scale:{get:function(){return a.scale},set:function(e){a.scale=e},enumerable:!0},colorStops:{value:a.colorStops,enumerable:!0}})}o.prototype=Object.create(a.a.prototype),o.prototype.constructor=o,o.prototype.toObject=function(){const e={type:this.type,from:this.from,to:this.to,scale:this.scale,colorStops:this.colorStops.map(function(e){return e.toObject()})};return void 0!==this.angle&&(e.angle=this.angle),e},t.a=o},function(e,t,n){"use strict";var i=n(33),a=n(50);function s(e){var t=Object.assign({},e);t.color=new i.a(t.color),Object.defineProperties(this,{color:{get:function(){return t.color},set:function(e){t.color=new i.a(e)}},position:{get:function(){return t.position},set:function(e){if(e<0||e>1)throw new RangeError("Invalid position value: '"+e+"'. Valid range: [0, 1]");t.position=e}}})}s.prototype=Object.create(a.a.prototype),s.prototype.constructor=s,s.prototype.toObject=function(){return{color:this.color.toObject(),position:this.position}},t.a=s},function(e,t,n){"use strict";var i=n(33),a=n(50),s=["outer","inner"];function o(e){var t=Object.assign({},e);t.color=new i.a(t.color),Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===s.indexOf(e))throw new TypeError("Unknown shadow type: '"+e+"'. Possible values: "+JSON.stringify(s));t.type=e}},offsetX:{get:function(){return t.offsetX},set:function(e){t.offsetX=e}},offsetY:{get:function(){return t.offsetY},set:function(e){t.offsetY=e}},blurRadius:{get:function(){return t.blurRadius},set:function(e){t.blurRadius=e}},spread:{get:function(){return t.spread},set:function(e){t.spread=e}},color:{get:function(){return t.color},set:function(e){t.color=new i.a(e)}}})}o.prototype=Object.create(a.a.prototype),o.prototype.constructor=o,o.prototype.toObject=function(){return{type:this.type,offsetX:this.offsetX,offsetY:this.offsetY,blurRadius:this.blurRadius,spread:this.spread,color:this.color.toObject()}},t.a=o},function(e,t,n){var i,a,s;
/*!
 * Autolinker.js
 * 1.6.2
 *
 * Copyright(c) 2018 Gregory Jacobs <greg@greg-jacobs.com>
 * MIT License
 *
 * https://github.com/gregjacobs/Autolinker.js
 */!function(n,o){a=[],void 0===(s="function"==typeof(i=o)?i.apply(t,a):i)||(e.exports=s)}(0,function(){var e=function(t){t=t||{},this.version=e.version,this.urls=this.normalizeUrlsCfg(t.urls),this.email="boolean"!=typeof t.email||t.email,this.phone="boolean"!=typeof t.phone||t.phone,this.hashtag=t.hashtag||!1,this.mention=t.mention||!1,this.newWindow="boolean"!=typeof t.newWindow||t.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(t.stripPrefix),this.stripTrailingSlash="boolean"!=typeof t.stripTrailingSlash||t.stripTrailingSlash,this.decodePercentEncoding="boolean"!=typeof t.decodePercentEncoding||t.decodePercentEncoding;var n=this.mention;if(!1!==n&&"twitter"!==n&&"instagram"!==n)throw new Error("invalid `mention` cfg - see docs");var i=this.hashtag;if(!1!==i&&"twitter"!==i&&"facebook"!==i&&"instagram"!==i)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(t.truncate),this.className=t.className||"",this.replaceFn=t.replaceFn||null,this.context=t.context||this,this.htmlParser=null,this.matchers=null,this.tagBuilder=null};return e.link=function(t,n){return new e(n).link(t)},e.parse=function(t,n){return new e(n).parse(t)},e.version="1.6.2",e.prototype={constructor:e,normalizeUrlsCfg:function(e){return null==e&&(e=!0),"boolean"==typeof e?{schemeMatches:e,wwwMatches:e,tldMatches:e}:{schemeMatches:"boolean"!=typeof e.schemeMatches||e.schemeMatches,wwwMatches:"boolean"!=typeof e.wwwMatches||e.wwwMatches,tldMatches:"boolean"!=typeof e.tldMatches||e.tldMatches}},normalizeStripPrefixCfg:function(e){return null==e&&(e=!0),"boolean"==typeof e?{scheme:e,www:e}:{scheme:"boolean"!=typeof e.scheme||e.scheme,www:"boolean"!=typeof e.www||e.www}},normalizeTruncateCfg:function(t){return"number"==typeof t?{length:t,location:"end"}:e.Util.defaults(t||{},{length:Number.POSITIVE_INFINITY,location:"end"})},parse:function(e){for(var t=this.getHtmlParser().parse(e),n=0,i=[],a=0,s=t.length;a<s;a++){var o=t[a],r=o.getType();if("element"===r&&"a"===o.getTagName())o.isClosing()?n=Math.max(n-1,0):n++;else if("text"===r&&0===n){var l=this.parseText(o.getText(),o.getOffset());i.push.apply(i,l)}}return i=this.compactMatches(i),i=this.removeUnwantedMatches(i)},compactMatches:function(e){e.sort(function(e,t){return e.getOffset()-t.getOffset()});for(var t=0;t<e.length-1;t++){var n=e[t],i=n.getOffset(),a=n.getMatchedText().length,s=i+a;if(t+1<e.length){if(e[t+1].getOffset()===i){var o=e[t+1].getMatchedText().length>a?t:t+1;e.splice(o,1);continue}e[t+1].getOffset()<=s&&e.splice(t+1,1)}}return e},removeUnwantedMatches:function(t){var n=e.Util.remove;return this.hashtag||n(t,function(e){return"hashtag"===e.getType()}),this.email||n(t,function(e){return"email"===e.getType()}),this.phone||n(t,function(e){return"phone"===e.getType()}),this.mention||n(t,function(e){return"mention"===e.getType()}),this.urls.schemeMatches||n(t,function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()}),this.urls.wwwMatches||n(t,function(e){return"url"===e.getType()&&"www"===e.getUrlMatchType()}),this.urls.tldMatches||n(t,function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()}),t},parseText:function(e,t){t=t||0;for(var n=this.getMatchers(),i=[],a=0,s=n.length;a<s;a++){for(var o=n[a].parseMatches(e),r=0,l=o.length;r<l;r++)o[r].setOffset(t+o[r].getOffset());i.push.apply(i,o)}return i},link:function(e){if(!e)return"";for(var t=this.parse(e),n=[],i=0,a=0,s=t.length;a<s;a++){var o=t[a];n.push(e.substring(i,o.getOffset())),n.push(this.createMatchReturnVal(o)),i=o.getOffset()+o.getMatchedText().length}return n.push(e.substring(i)),n.join("")},createMatchReturnVal:function(t){var n;return this.replaceFn&&(n=this.replaceFn.call(this.context,t)),"string"==typeof n?n:!1===n?t.getMatchedText():n instanceof e.HtmlTag?n.toAnchorString():t.buildTag().toAnchorString()},getHtmlParser:function(){var t=this.htmlParser;return t||(t=this.htmlParser=new e.htmlParser.HtmlParser),t},getMatchers:function(){if(this.matchers)return this.matchers;var t=e.matcher,n=this.getTagBuilder(),i=[new t.Hashtag({tagBuilder:n,serviceName:this.hashtag}),new t.Email({tagBuilder:n}),new t.Phone({tagBuilder:n}),new t.Mention({tagBuilder:n,serviceName:this.mention}),new t.Url({tagBuilder:n,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=i},getTagBuilder:function(){var t=this.tagBuilder;return t||(t=this.tagBuilder=new e.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),t}},e.match={},e.matcher={},e.htmlParser={},e.truncate={},e.Util={abstractMethod:function(){throw"abstract"},trimRegex:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,assign:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},defaults:function(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0===e[n]&&(e[n]=t[n]);return e},extend:function(t,n){var i,a=t.prototype,s=function(){};s.prototype=a;var o=(i=n.hasOwnProperty("constructor")?n.constructor:function(){a.constructor.apply(this,arguments)}).prototype=new s;return o.constructor=i,o.superclass=a,delete n.constructor,e.Util.assign(o,n),i},ellipsis:function(e,t,n){var i;return e.length>t&&(null==n?(n="&hellip;",i=3):i=n.length,e=e.substring(0,t-i)+n),e},indexOf:function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},remove:function(e,t){for(var n=e.length-1;n>=0;n--)!0===t(e[n])&&e.splice(n,1)},splitAndCapture:function(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var n,i=[],a=0;n=t.exec(e);)i.push(e.substring(a,n.index)),i.push(n[0]),a=n.index+n[0].length;return i.push(e.substring(a)),i},trim:function(e){return e.replace(this.trimRegex,"")}},e.HtmlTag=e.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(t){e.Util.assign(this,t),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(e){return this.tagName=e,this},getTagName:function(){return this.tagName||""},setAttr:function(e,t){return this.getAttrs()[e]=t,this},getAttr:function(e){return this.getAttrs()[e]},setAttrs:function(t){var n=this.getAttrs();return e.Util.assign(n,t),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(e){return this.setAttr("class",e)},addClass:function(t){for(var n,i=this.getClass(),a=this.whitespaceRegex,s=e.Util.indexOf,o=i?i.split(a):[],r=t.split(a);n=r.shift();)-1===s(o,n)&&o.push(n);return this.getAttrs().class=o.join(" "),this},removeClass:function(t){for(var n,i=this.getClass(),a=this.whitespaceRegex,s=e.Util.indexOf,o=i?i.split(a):[],r=t.split(a);o.length&&(n=r.shift());){var l=s(o,n);-1!==l&&o.splice(l,1)}return this.getAttrs().class=o.join(" "),this},getClass:function(){return this.getAttrs().class||""},hasClass:function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},setInnerHtml:function(e){return this.innerHtml=e,this},getInnerHtml:function(){return this.innerHtml||""},toAnchorString:function(){var e=this.getTagName(),t=this.buildAttrsStr();return["<",e,t=t?" "+t:"",">",this.getInnerHtml(),"</",e,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+'="'+e[n]+'"');return t.join(" ")}}),e.RegexLib=function(){var e="A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",t="0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",n=e+t,i=function(e){return"(?=([A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９](?:[A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９\\-]{0,61}[A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９])?))\\"+e};return{alphaNumericCharsStr:n,alphaCharsStr:e,getDomainNameStr:function(e){return"(?:"+i(e)+"(?:\\."+i(e+1)+"){0,126}|(?:[0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９]{1,3}\\.){3}[0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９]{1,3})"}}}(),e.AnchorTagBuilder=e.Util.extend(Object,{constructor:function(e){e=e||{},this.newWindow=e.newWindow,this.truncate=e.truncate,this.className=e.className},build:function(t){return new e.HtmlTag({tagName:"a",attrs:this.createAttrs(t),innerHtml:this.processAnchorText(t.getAnchorText())})},createAttrs:function(e){var t={href:e.getAnchorHref()},n=this.createCssClass(e);return n&&(t.class=n),this.newWindow&&(t.target="_blank",t.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(t.title=e.getAnchorHref()),t},createCssClass:function(e){var t=this.className;if(t){for(var n=[t],i=e.getCssClassSuffixes(),a=0,s=i.length;a<s;a++)n.push(t+"-"+i[a]);return n.join(" ")}return""},processAnchorText:function(e){return e=this.doTruncate(e)},doTruncate:function(t){var n=this.truncate;if(!n||!n.length)return t;var i=n.length,a=n.location;return"smart"===a?e.truncate.TruncateSmart(t,i):"middle"===a?e.truncate.TruncateMiddle(t,i):e.truncate.TruncateEnd(t,i)}}),e.htmlParser.HtmlParser=e.Util.extend(Object,{htmlRegex:function(){var e=/[0-9a-zA-Z][0-9a-zA-Z:]*/,t=/[^\s"'>\/=\x00-\x1F\x7F]+/,n=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,i="(?:\\s*?=\\s*?"+n.source+")?",a=function(e){return"(?=("+t.source+"))\\"+e+i};return new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",a(2),"|",n.source+")",")*",">",")","|","(?:","<(/)?","(?:",/!--([\s\S]+?)--/.source,"|","(?:","("+e.source+")","\\s*/?",")","|","(?:","("+e.source+")","\\s+","(?:","(?:\\s+|\\b)",a(7),")*","\\s*/?",")",")",">",")"].join(""),"gi")}(),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(e){for(var t,n,i=this.htmlRegex,a=0,s=[];null!==(t=i.exec(e));){var o=t[0],r=t[4],l=t[1]||t[5]||t[6],c=!!t[3],d=t.index,u=e.substring(a,d);u&&(n=this.parseTextAndEntityNodes(a,u),s.push.apply(s,n)),r?s.push(this.createCommentNode(d,o,r)):s.push(this.createElementNode(d,o,l,c)),a=d+o.length}if(a<e.length){var h=e.substring(a);h&&(n=this.parseTextAndEntityNodes(a,h)).forEach(function(e){s.push(e)})}return s},parseTextAndEntityNodes:function(t,n){for(var i=[],a=e.Util.splitAndCapture(n,this.htmlCharacterEntitiesRegex),s=0,o=a.length;s<o;s+=2){var r=a[s],l=a[s+1];r&&(i.push(this.createTextNode(t,r)),t+=r.length),l&&(i.push(this.createEntityNode(t,l)),t+=l.length)}return i},createCommentNode:function(t,n,i){return new e.htmlParser.CommentNode({offset:t,text:n,comment:e.Util.trim(i)})},createElementNode:function(t,n,i,a){return new e.htmlParser.ElementNode({offset:t,text:n,tagName:i.toLowerCase(),closing:a})},createEntityNode:function(t,n){return new e.htmlParser.EntityNode({offset:t,text:n})},createTextNode:function(t,n){return new e.htmlParser.TextNode({offset:t,text:n})}}),e.htmlParser.HtmlNode=e.Util.extend(Object,{offset:void 0,text:void 0,constructor:function(t){if(e.Util.assign(this,t),null==this.offset)throw new Error("`offset` cfg required");if(null==this.text)throw new Error("`text` cfg required")},getType:e.Util.abstractMethod,getOffset:function(){return this.offset},getText:function(){return this.text}}),e.htmlParser.CommentNode=e.Util.extend(e.htmlParser.HtmlNode,{comment:"",getType:function(){return"comment"},getComment:function(){return this.comment}}),e.htmlParser.ElementNode=e.Util.extend(e.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),e.htmlParser.EntityNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"entity"}}),e.htmlParser.TextNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"text"}}),e.match.Match=e.Util.extend(Object,{constructor:function(e){if(null==e.tagBuilder)throw new Error("`tagBuilder` cfg required");if(null==e.matchedText)throw new Error("`matchedText` cfg required");if(null==e.offset)throw new Error("`offset` cfg required");this.tagBuilder=e.tagBuilder,this.matchedText=e.matchedText,this.offset=e.offset},getType:e.Util.abstractMethod,getMatchedText:function(){return this.matchedText},setOffset:function(e){this.offset=e},getOffset:function(){return this.offset},getAnchorHref:e.Util.abstractMethod,getAnchorText:e.Util.abstractMethod,getCssClassSuffixes:function(){return[this.getType()]},buildTag:function(){return this.tagBuilder.build(this)}}),e.match.Email=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.email)throw new Error("`email` cfg required");this.email=t.email},getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),e.match.Hashtag=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.hashtag)throw new Error("`hashtag` cfg required");this.serviceName=t.serviceName,this.hashtag=t.hashtag},getType:function(){return"hashtag"},getServiceName:function(){return this.serviceName},getHashtag:function(){return this.hashtag},getAnchorHref:function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;default:throw new Error("Unknown service name to point hashtag to: ",e)}},getAnchorText:function(){return"#"+this.hashtag}}),e.match.Phone=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.number)throw new Error("`number` cfg required");if(null==t.plusSign)throw new Error("`plusSign` cfg required");this.number=t.number,this.plusSign=t.plusSign},getType:function(){return"phone"},getNumber:function(){return this.number},getAnchorHref:function(){return"tel:"+(this.plusSign?"+":"")+this.number},getAnchorText:function(){return this.matchedText}}),e.match.Mention=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.serviceName)throw new Error("`serviceName` cfg required");if(!t.mention)throw new Error("`mention` cfg required");this.mention=t.mention,this.serviceName=t.serviceName},getType:function(){return"mention"},getMention:function(){return this.mention},getServiceName:function(){return this.serviceName},getAnchorHref:function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;default:throw new Error("Unknown service name to point mention to: ",this.serviceName)}},getAnchorText:function(){return"@"+this.mention},getCssClassSuffixes:function(){var t=e.match.Match.prototype.getCssClassSuffixes.call(this),n=this.getServiceName();return n&&t.push(n),t}}),e.match.Url=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),"scheme"!==t.urlMatchType&&"www"!==t.urlMatchType&&"tld"!==t.urlMatchType)throw new Error('`urlMatchType` cfg must be one of: "scheme", "www", or "tld"');if(!t.url)throw new Error("`url` cfg required");if(null==t.protocolUrlMatch)throw new Error("`protocolUrlMatch` cfg required");if(null==t.protocolRelativeMatch)throw new Error("`protocolRelativeMatch` cfg required");if(null==t.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==t.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");if(null==t.decodePercentEncoding)throw new Error("`decodePercentEncoding` cfg required");this.urlMatchType=t.urlMatchType,this.url=t.url,this.protocolUrlMatch=t.protocolUrlMatch,this.protocolRelativeMatch=t.protocolRelativeMatch,this.stripPrefix=t.stripPrefix,this.stripTrailingSlash=t.stripTrailingSlash,this.decodePercentEncoding=t.decodePercentEncoding},schemePrefixRegex:/^(https?:\/\/)?/i,wwwPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrlMatchType:function(){return this.urlMatchType},getUrl:function(){var e=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},getAnchorHref:function(){return this.getUrl().replace(/&amp;/g,"&")},getAnchorText:function(){var e=this.getMatchedText();return this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this.stripPrefix.scheme&&(e=this.stripSchemePrefix(e)),this.stripPrefix.www&&(e=this.stripWwwPrefix(e)),this.stripTrailingSlash&&(e=this.removeTrailingSlash(e)),this.decodePercentEncoding&&(e=this.removePercentEncoding(e)),e},stripSchemePrefix:function(e){return e.replace(this.schemePrefixRegex,"")},stripWwwPrefix:function(e){return e.replace(this.wwwPrefixRegex,"$1")},stripProtocolRelativePrefix:function(e){return e.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e},removePercentEncoding:function(e){try{return decodeURIComponent(e.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;"))}catch(t){return e}}}),e.tldRegex=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermögensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermögensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|international|lifeinsurance|orientexpress|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|pamperedchef|scholarships|versicherung|xn--3e0b707e|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--3bst00m|xn--3ds443g|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|goodhands|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|mcdonalds|melbourne|microsoft|montblanc|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|telecity|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|السعودية|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|panerai|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|spiegel|staples|starhub|statoil|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|католик|الجزائر|العليان|پاکستان|كاثوليك|موبايلي|இந்தியா|abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|xperia|yachts|yandex|zappos|москва|онлайн|ابوظبي|ارامكو|الاردن|المغرب|امارات|فلسطين|مليسيا|இலங்கை|ファッション|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|boots|bosch|build|canon|cards|chase|cheap|chloe|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vista|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|ایران|بازار|بھارت|سودان|سورية|همراه|संगठन|বাংলা|భారత్|嘉里大酒店|aarp|able|adac|aero|aigo|akdn|ally|amex|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|mtpc|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sapo|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|дети|сайт|بيتك|تونس|شبكة|عراق|عمان|موقع|भारत|ভারত|ਭਾਰਤ|ભારત|ලංකා|グーグル|クラウド|ポイント|大众汽车|组织机构|電訊盈科|香格里拉|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|htc|ibm|ice|icu|ifm|ing|ink|int|ist|itv|iwc|jcb|jcp|jio|jlc|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|lol|lpl|ltd|man|mba|mcd|med|men|meo|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|бел|ком|қаз|мкд|мон|орг|рус|срб|укр|հայ|קום|قطر|كوم|مصر|कॉम|नेट|คอม|ไทย|ストア|セール|みんな|中文网|天主教|我爱你|新加坡|淡马锡|诺基亚|飞利浦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|бг|ею|рф|გე|닷넷|닷컴|삼성|한국|コム|世界|中信|中国|中國|企业|佛山|信息|健康|八卦|公司|公益|台湾|台灣|商城|商店|商标|嘉里|在线|大拿|娱乐|家電|工行|广东|微博|慈善|手机|手表|政务|政府|新闻|时尚|書籍|机构|游戏|澳門|点看|珠宝|移动|网址|网店|网站|网络|联通|谷歌|购物|通販|集团|食品|餐厅|香港)/,e.matcher.Matcher=e.Util.extend(Object,{constructor:function(e){if(!e.tagBuilder)throw new Error("`tagBuilder` cfg required");this.tagBuilder=e.tagBuilder},parseMatches:e.Util.abstractMethod}),e.matcher.Email=e.Util.extend(e.matcher.Matcher,{matcherRegex:function(){var t=e.RegexLib.alphaNumericCharsStr+"!#$%&'*+\\-\\/=?^_`{|}~",n=new RegExp("(?:["+t+"](?:["+t+']|\\.(?!\\.|@))*|\\"['+(t+'\\s"(),:;<>@\\[\\]')+'.]+\\")@'),i=e.RegexLib.getDomainNameStr,a=e.tldRegex;return new RegExp([n.source,i(1),"\\.",a.source].join(""),"gi")}(),parseMatches:function(t){for(var n,i=this.matcherRegex,a=this.tagBuilder,s=[];null!==(n=i.exec(t));){var o=n[0];s.push(new e.match.Email({tagBuilder:a,matchedText:o,offset:n.index,email:o}))}return s}}),e.matcher.Hashtag=e.Util.extend(e.matcher.Matcher,{matcherRegex:new RegExp("#[_"+e.RegexLib.alphaNumericCharsStr+"]{1,139}","g"),nonWordCharRegex:new RegExp("[^"+e.RegexLib.alphaNumericCharsStr+"]"),constructor:function(t){e.matcher.Matcher.prototype.constructor.call(this,t),this.serviceName=t.serviceName},parseMatches:function(t){for(var n,i=this.matcherRegex,a=this.nonWordCharRegex,s=this.serviceName,o=this.tagBuilder,r=[];null!==(n=i.exec(t));){var l=n.index,c=t.charAt(l-1);if(0===l||a.test(c)){var d=n[0],u=n[0].slice(1);r.push(new e.match.Hashtag({tagBuilder:o,matchedText:d,offset:l,serviceName:s,hashtag:u}))}}return r}}),e.matcher.Phone=e.Util.extend(e.matcher.Matcher,{matcherRegex:/(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4}([,;]*[0-9]+#?)*/g,parseMatches:function(t){for(var n,i=this.matcherRegex,a=this.tagBuilder,s=[];null!==(n=i.exec(t));){var o=n[0],r=o.replace(/[^0-9,;#]/g,""),l=!!n[1];this.testMatch(n[2])&&this.testMatch(o)&&s.push(new e.match.Phone({tagBuilder:a,matchedText:o,offset:n.index,number:r,plusSign:l}))}return s},testMatch:function(e){return/\D/.test(e)}}),e.matcher.Mention=e.Util.extend(e.matcher.Matcher,{matcherRegexes:{twitter:new RegExp("@[_"+e.RegexLib.alphaNumericCharsStr+"]{1,20}","g"),instagram:new RegExp("@[_."+e.RegexLib.alphaNumericCharsStr+"]{1,50}","g")},nonWordCharRegex:new RegExp("[^"+e.RegexLib.alphaNumericCharsStr+"]"),constructor:function(t){e.matcher.Matcher.prototype.constructor.call(this,t),this.serviceName=t.serviceName},parseMatches:function(t){var n,i=this.matcherRegexes[this.serviceName],a=this.nonWordCharRegex,s=this.serviceName,o=this.tagBuilder,r=[];if(!i)return r;for(;null!==(n=i.exec(t));){var l=n.index,c=t.charAt(l-1);if(0===l||a.test(c)){var d=n[0].replace(/\.+$/g,""),u=d.slice(1);r.push(new e.match.Mention({tagBuilder:o,matchedText:d,offset:l,serviceName:s,mention:u}))}}return r}}),e.matcher.Url=e.Util.extend(e.matcher.Matcher,{matcherRegex:function(){var t=e.RegexLib.getDomainNameStr,n=e.tldRegex,i=e.RegexLib.alphaNumericCharsStr,a=new RegExp("[/?#](?:["+i+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;✓]*["+i+"\\-+&@#/%=~_()|'$*\\[\\]✓])?");return new RegExp(["(?:","(",/(?:[A-Za-z][-.+A-Za-z0-9]{0,63}:(?![A-Za-z][-.+A-Za-z0-9]{0,63}:\/\/)(?!\d+\/?)(?:\/\/)?)/.source,t(2),")","|","(","(//)?",/(?:www\.)/.source,t(6),")","|","(","(//)?",t(10)+"\\.",n.source,"(?![-"+i+"])",")",")","(?::[0-9]+)?","(?:"+a.source+")?"].join(""),"gi")}(),wordCharRegExp:new RegExp("["+e.RegexLib.alphaNumericCharsStr+"]"),openParensRe:/\(/g,closeParensRe:/\)/g,constructor:function(t){if(e.matcher.Matcher.prototype.constructor.call(this,t),null==t.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==t.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");this.stripPrefix=t.stripPrefix,this.stripTrailingSlash=t.stripTrailingSlash,this.decodePercentEncoding=t.decodePercentEncoding},parseMatches:function(t){for(var n,i=this.matcherRegex,a=this.stripPrefix,s=this.stripTrailingSlash,o=this.decodePercentEncoding,r=this.tagBuilder,l=[];null!==(n=i.exec(t));){var c=n[0],d=n[1],u=n[4],h=n[5],p=n[9],m=n.index,f=h||p,g=t.charAt(m-1);if(e.matcher.UrlMatchValidator.isValid(c,d)&&!(m>0&&"@"===g||m>0&&f&&this.wordCharRegExp.test(g))){if(/\?$/.test(c)&&(c=c.substr(0,c.length-1)),this.matchHasUnbalancedClosingParen(c))c=c.substr(0,c.length-1);else{var b=this.matchHasInvalidCharAfterTld(c,d);b>-1&&(c=c.substr(0,b))}var v=d?"scheme":u?"www":"tld",y=!!d;l.push(new e.match.Url({tagBuilder:r,matchedText:c,offset:m,urlMatchType:v,url:c,protocolUrlMatch:y,protocolRelativeMatch:!!f,stripPrefix:a,stripTrailingSlash:s,decodePercentEncoding:o}))}}return l},matchHasUnbalancedClosingParen:function(e){if(")"===e.charAt(e.length-1)){var t=e.match(this.openParensRe),n=e.match(this.closeParensRe);if((t&&t.length||0)<(n&&n.length||0))return!0}return!1},matchHasInvalidCharAfterTld:function(t,n){if(!t)return-1;var i=0;n&&(i=t.indexOf(":"),t=t.slice(i));var a=e.RegexLib.alphaNumericCharsStr,s=new RegExp("^((.?//)?[-."+a+"]*[-"+a+"]\\.[-"+a+"]+)").exec(t);return null===s?-1:(i+=s[1].length,t=t.slice(s[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(t)?i:-1)}}),e.matcher.UrlMatchValidator={hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]*:/,hasWordCharAfterProtocolRegex:new RegExp(":[^\\s]*?["+e.RegexLib.alphaCharsStr+"]"),ipRegex:/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,isValid:function(e,t){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)&&!this.isValidIpAddress(e)||this.containsMultipleDots(e))},isValidIpAddress:function(e){var t=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==e.match(t)},containsMultipleDots:function(e){var t=e;return this.hasFullProtocolRegex.test(e)&&(t=e.split("://")[1]),t.split("/")[0].indexOf("..")>-1},isValidUriScheme:function(e){var t=e.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==t&&"vbscript:"!==t},urlMatchDoesNotHaveProtocolOrDot:function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||-1!==e.indexOf("."))},urlMatchDoesNotHaveAtLeastOneWordChar:function(e,t){return!(!e||!t)&&!this.hasWordCharAfterProtocolRegex.test(e)}},e.truncate.TruncateEnd=function(t,n,i){return e.Util.ellipsis(t,n,i)},e.truncate.TruncateMiddle=function(e,t,n){if(e.length<=t)return e;var i,a;null==n?(n="&hellip;",i=8,a=3):(i=n.length,a=n.length);var s=t-a,o="";return s>0&&(o=e.substr(-1*Math.floor(s/2))),(e.substr(0,Math.ceil(s/2))+n+o).substr(0,s+i)},e.truncate.TruncateSmart=function(e,t,n){var i,a;null==n?(n="&hellip;",a=3,i=8):(a=n.length,i=n.length);var s=function(e){var t="";return e.scheme&&e.host&&(t+=e.scheme+"://"),e.host&&(t+=e.host),e.path&&(t+="/"+e.path),e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t},o=function(e,t){var i=t/2,a=Math.ceil(i),s=-1*Math.floor(i),o="";return s<0&&(o=e.substr(s)),e.substr(0,a)+n+o};if(e.length<=t)return e;var r=t-a,l=function(e){var t={},n=e,i=n.match(/^([a-z]+):\/\//i);return i&&(t.scheme=i[1],n=n.substr(i[0].length)),(i=n.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(t.host=i[1],n=n.substr(i[0].length)),(i=n.match(/^\/(.*?)(?=(\?|#|$))/i))&&(t.path=i[1],n=n.substr(i[0].length)),(i=n.match(/^\?(.*?)(?=(#|$))/i))&&(t.query=i[1],n=n.substr(i[0].length)),(i=n.match(/^#(.*?)$/i))&&(t.fragment=i[1]),t}(e);if(l.query){var c=l.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);c&&(l.query=l.query.substr(0,c[1].length),e=s(l))}if(e.length<=t)return e;if(l.host&&(l.host=l.host.replace(/^www\./,""),e=s(l)),e.length<=t)return e;var d="";if(l.host&&(d+=l.host),d.length>=r)return l.host.length==t?(l.host.substr(0,t-a)+n).substr(0,r+i):o(d,r).substr(0,r+i);var u="";if(l.path&&(u+="/"+l.path),l.query&&(u+="?"+l.query),u){if((d+u).length>=r)return(d+u).length==t?(d+u).substr(0,t):(d+o(u,r-d.length)).substr(0,r+i);d+=u}if(l.fragment){var h="#"+l.fragment;if((d+h).length>=r)return(d+h).length==t?(d+h).substr(0,t):(d+o(h,r-d.length)).substr(0,r+i);else d+=h}if(l.scheme&&l.host){var p=l.scheme+"://";if((d+p).length<r)return(p+d).substr(0,t)}if(d.length<=t)return d;var m="";return r>0&&(m=d.substr(-1*Math.floor(r/2))),(d.substr(0,Math.ceil(r/2))+n+m).substr(0,r+i)},e})},function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}i.prototype=n(522),i.prototype.loadAsync=n(569),i.support=n(72),i.defaults=n(422),i.version="3.1.5",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=n(174),e.exports=i},function(e,t,n){"use strict";var i=n(155),a=n(32),s=n(51),o=n(421),r=n(422),l=n(372),c=n(555),d=n(556),u=n(187),h=n(568),p=function(e,t,n){var i,o=a.getTypeOf(t),d=a.extend(n||{},r);d.date=d.date||new Date,null!==d.compression&&(d.compression=d.compression.toUpperCase()),"string"==typeof d.unixPermissions&&(d.unixPermissions=parseInt(d.unixPermissions,8)),d.unixPermissions&&16384&d.unixPermissions&&(d.dir=!0),d.dosPermissions&&16&d.dosPermissions&&(d.dir=!0),d.dir&&(e=f(e)),d.createFolders&&(i=m(e))&&g.call(this,i,!0);var p="string"===o&&!1===d.binary&&!1===d.base64;n&&void 0!==n.binary||(d.binary=!p),(t instanceof l&&0===t.uncompressedSize||d.dir||!t||0===t.length)&&(d.base64=!1,d.binary=!0,t="",d.compression="STORE",o="string");var b=null;b=t instanceof l||t instanceof s?t:u.isNode&&u.isStream(t)?new h(e,t):a.prepareContent(e,t,d.binary,d.optimizedBinaryString,d.base64);var v=new c(e,b,d);this.files[e]=v},m=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},f=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:r.createFolders,e=f(e),this.files[e]||p.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function b(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i))},filter:function(e){var t=[];return this.forEach(function(n,i){e(n,i)&&t.push(i)}),t},file:function(e,t,n){if(1===arguments.length){if(b(e)){var i=e;return this.filter(function(e,t){return!t.dir&&i.test(e)})}var a=this.files[this.root+e];return a&&!a.dir?a:null}return e=this.root+e,p.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(b(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=g.call(this,t),i=this.clone();return i.root=n.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=a.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");a.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=d.generateWorker(this,n,r)}catch(e){(t=new s("error")).error(e)}return new o(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};e.exports=v},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){for(var t,n=c(e),i=n[0],o=n[1],r=new s(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),l=0,d=o>0?i-4:i,u=0;u<d;u+=4)t=a[e.charCodeAt(u)]<<18|a[e.charCodeAt(u+1)]<<12|a[e.charCodeAt(u+2)]<<6|a[e.charCodeAt(u+3)],r[l++]=t>>16&255,r[l++]=t>>8&255,r[l++]=255&t;2===o&&(t=a[e.charCodeAt(u)]<<2|a[e.charCodeAt(u+1)]>>4,r[l++]=255&t);1===o&&(t=a[e.charCodeAt(u)]<<10|a[e.charCodeAt(u+1)]<<4|a[e.charCodeAt(u+2)]>>2,r[l++]=t>>8&255,r[l++]=255&t);return r},t.fromByteArray=function(e){for(var t,n=e.length,a=n%3,s=[],o=0,r=n-a;o<r;o+=16383)s.push(u(e,o,o+16383>r?r:o+16383));1===a?(t=e[n-1],s.push(i[t>>2]+i[t<<4&63]+"==")):2===a&&(t=(e[n-2]<<8)+e[n-1],s.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return s.join("")};for(var i=[],a=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,l=o.length;r<l;++r)i[r]=o[r],a[o.charCodeAt(r)]=r;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function d(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}function u(e,t,n){for(var i,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(d(i));return a.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,a){var s,o,r=8*a-i-1,l=(1<<r)-1,c=l>>1,d=-7,u=n?a-1:0,h=n?-1:1,p=e[t+u];for(u+=h,s=p&(1<<-d)-1,p>>=-d,d+=r;d>0;s=256*s+e[t+u],u+=h,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=i;d>0;o=256*o+e[t+u],u+=h,d-=8);if(0===s)s=1-c;else{if(s===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,i),s-=c}return(p?-1:1)*o*Math.pow(2,s-i)},t.write=function(e,t,n,i,a,s){var o,r,l,c=8*s-a-1,d=(1<<c)-1,u=d>>1,h=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:s-1,m=i?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(r=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+u>=1?h/l:h*Math.pow(2,1-u))*l>=2&&(o++,l/=2),o+u>=d?(r=0,o=d):o+u>=1?(r=(t*l-1)*Math.pow(2,a),o+=u):(r=t*Math.pow(2,u-1)*Math.pow(2,a),o=0));a>=8;e[n+p]=255&r,p+=m,r/=256,a-=8);for(o=o<<a|r,c+=a;c>0;e[n+p]=255&o,p+=m,o/=256,c-=8);e[n+p-m]|=128*f}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=a;var i=n(367).EventEmitter;function a(){i.call(this)}n(156)(a,i),a.Readable=n(368),a.Writable=n(533),a.Duplex=n(534),a.Transform=n(535),a.PassThrough=n(536),a.Stream=a,a.prototype.pipe=function(e,t){var n=this;function a(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function s(){n.readable&&n.resume&&n.resume()}n.on("data",a),e.on("drain",s),e._isStdio||t&&!1===t.end||(n.on("end",r),n.on("close",l));var o=!1;function r(){o||(o=!0,e.end())}function l(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(d(),0===i.listenerCount(this,"error"))throw e}function d(){n.removeListener("data",a),e.removeListener("drain",s),n.removeListener("end",r),n.removeListener("close",l),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",d),n.removeListener("close",d),e.removeListener("close",d)}return n.on("error",c),e.on("error",c),n.on("end",d),n.on("close",d),e.on("close",d),e.emit("pipe",n),e}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){},function(e,t,n){"use strict";var i=n(186).Buffer,a=n(530);function s(e,t,n){e.copy(t,n)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t=i.allocUnsafe(e>>>0),n=this.head,a=0;n;)s(n.data,t,a),a+=n.data.length,n=n.next;return t},e}(),a&&a.inspect&&a.inspect.custom&&(e.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}}}).call(t,n(64))},function(e,t,n){"use strict";e.exports=s;var i=n(415),a=n(173);function s(e){if(!(this instanceof s))return new s(e);i.call(this,e)}a.inherits=n(156),a.inherits(s,i),s.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(369)},function(e,t,n){e.exports=n(147)},function(e,t,n){e.exports=n(368).Transform},function(e,t,n){e.exports=n(368).PassThrough},function(e,t,n){n(538),e.exports=n(417).setImmediate},function(e,t,n){var i=n(539),a=n(547);i(i.G+i.B,{setImmediate:a.set,clearImmediate:a.clear})},function(e,t,n){var i=n(188),a=n(417),s=n(418),o=n(541),r=function(e,t,n){var l,c,d,u=e&r.F,h=e&r.G,p=e&r.S,m=e&r.P,f=e&r.B,g=e&r.W,b=h?a:a[t]||(a[t]={}),v=b.prototype,y=h?i:p?i[t]:(i[t]||{}).prototype;for(l in h&&(n=t),n)(c=!u&&y&&void 0!==y[l])&&l in b||(d=c?y[l]:n[l],b[l]=h&&"function"!=typeof y[l]?n[l]:f&&c?s(d,i):g&&y[l]==d?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?s(Function.call,d):d,m&&((b.virtual||(b.virtual={}))[l]=d,e&r.R&&v&&!v[l]&&o(v,l,d)))};r.F=1,r.G=2,r.S=4,r.P=8,r.B=16,r.W=32,r.U=64,r.R=128,e.exports=r},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var i=n(542),a=n(546);e.exports=n(371)?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(543),a=n(544),s=n(545),o=Object.defineProperty;t.f=n(371)?Object.defineProperty:function(e,t,n){if(i(e),t=s(t,!0),i(n),a)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(370);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(371)&&!n(419)(function(){return 7!=Object.defineProperty(n(420)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(370);e.exports=function(e,t){if(!i(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!i(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!i(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!i(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i,a,s,o=n(418),r=n(548),l=n(549),c=n(420),d=n(188),u=d.process,h=d.setImmediate,p=d.clearImmediate,m=d.MessageChannel,f=0,g={},b=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},v=function(e){b.call(e.data)};h&&p||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++f]=function(){r("function"==typeof e?e:Function(e),t)},i(f),f},p=function(e){delete g[e]},"process"==n(550)(u)?i=function(e){u.nextTick(o(b,e,1))}:m?(s=(a=new m).port2,a.port1.onmessage=v,i=o(s.postMessage,s,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(i=function(e){d.postMessage(e+"","*")},d.addEventListener("message",v,!1)):i="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(o(b,e,1),0)}),e.exports={set:h,clear:p}},function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){e.exports=n(188).document&&document.documentElement},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var i=n(552);function a(){}var s={},o=["REJECTED"],r=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==a&&p(this,e)}function d(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(e,t,n){i(function(){var i;try{i=t(n)}catch(t){return s.reject(e,t)}i===e?s.reject(e,new TypeError("Cannot resolve promise with itself")):s.resolve(e,i)})}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function i(t){n||(n=!0,s.reject(e,t))}function a(t){n||(n=!0,s.resolve(e,t))}var o=m(function(){t(a,i)});"error"===o.status&&i(o.value)}function m(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}e.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===r||"function"!=typeof t&&this.state===o)return this;var n=new this.constructor(a);this.state!==l?u(n,this.state===r?e:t,this.outcome):this.queue.push(new d(n,e,t));return n},d.prototype.callFulfilled=function(e){s.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){s.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},s.resolve=function(e,t){var n=m(h,t);if("error"===n.status)return s.reject(e,n.value);var i=n.value;if(i)p(e,i);else{e.state=r,e.outcome=t;for(var a=-1,o=e.queue.length;++a<o;)e.queue[a].callFulfilled(t)}return e},s.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},c.resolve=function(e){if(e instanceof this)return e;return s.resolve(new this(a),e)},c.reject=function(e){var t=new this(a);return s.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);var o=new Array(n),r=0,l=-1,c=new this(a);for(;++l<n;)d(e[l],l);return c;function d(e,a){t.resolve(e).then(function(e){o[a]=e,++r!==n||i||(i=!0,s.resolve(c,o))},function(e){i||(i=!0,s.reject(c,e))})}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);var o=-1,r=new this(a);for(;++o<n;)l(e[o]);return r;function l(e){t.resolve(e).then(function(e){i||(i=!0,s.resolve(r,e))},function(e){i||(i=!0,s.reject(r,e))})}}},function(e,t,n){"use strict";(function(t){var n,i,a=t.MutationObserver||t.WebKitMutationObserver;if(a){var s=0,o=new a(d),r=t.document.createTextNode("");o.observe(r,{characterData:!0}),n=function(){r.data=s=++s%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){d(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(d,0)};else{var l=new t.MessageChannel;l.port1.onmessage=d,n=function(){l.port2.postMessage(0)}}var c=[];function d(){var e,t;i=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}i=!1}e.exports=function(e){1!==c.push(e)||i||n()}}).call(t,n(64))},function(e,t,n){"use strict";var i=n(51),a=n(32);function s(e){i.call(this,"ConvertWorker to "+e),this.destType=e}a.inherits(s,i),s.prototype.processChunk=function(e){this.push({data:a.transformTo(this.destType,e.data),meta:e.meta})},e.exports=s},function(e,t,n){"use strict";var i=n(410).Readable;function a(e,t,n){i.call(this,t),this._helper=e;var a=this;e.on("data",function(e,t){a.push(e)||a._helper.pause(),n&&n(t)}).on("error",function(e){a.emit("error",e)}).on("end",function(){a.push(null)})}n(32).inherits(a,i),a.prototype._read=function(){this._helper.resume()},e.exports=a},function(e,t,n){"use strict";var i=n(421),a=n(423),s=n(155),o=n(372),r=n(51),l=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var a="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!a&&(t=t.pipe(new s.Utf8EncodeWorker)),!o&&a&&(t=t.pipe(new s.Utf8DecodeWorker))}catch(e){(t=new r("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new s.Utf8EncodeWorker)),o.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof r?this._data:new a(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<c.length;u++)l.prototype[c[u]]=d;e.exports=l},function(e,t,n){"use strict";var i=n(426),a=n(567);t.generateWorker=function(e,t,n){var s=new a(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach(function(e,n){o++;var a=function(e,t){var n=e||t,a=i[n];if(!a)throw new Error(n+" is not a valid compression method !");return a}(n.options.compression,t.compression),r=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(a,r).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(s)}),s.entriesCount=o}catch(e){s.error(e)}return s}},function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,a=n(558),s=n(32),o=n(51),r=i?"uint8array":"array";function l(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}t.magic="\b\0",s.inherits(l,o),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(r,e.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},t.compressWorker=function(e){return new l("Deflate",e)},t.uncompressWorker=function(){return new l("Inflate",{})}},function(e,t,n){"use strict";var i={};(0,n(73).assign)(i,n(559),n(562),n(431)),e.exports=i},function(e,t,n){"use strict";var i=n(560),a=n(73),s=n(429),o=n(374),r=n(430),l=Object.prototype.toString,c=0,d=-1,u=0,h=8;function p(e){if(!(this instanceof p))return new p(e);this.options=a.assign({level:d,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(o[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var m;if(m="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=i.deflateSetDictionary(this.strm,m))!==c)throw new Error(o[n]);this._dict_set=!0}}function m(e,t){var n=new p(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}p.prototype.push=function(e,t){var n,o,r=this.strm,d=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?r.input=s.string2buf(e):"[object ArrayBuffer]"===l.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new a.Buf8(d),r.next_out=0,r.avail_out=d),1!==(n=i.deflate(r,o))&&n!==c)return this.onEnd(n),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(s.buf2binstring(a.shrinkBuf(r.output,r.next_out))):this.onData(a.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&1!==n);return 4===o?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==o||(this.onEnd(c),r.avail_out=0,!0)},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=p,t.deflate=m,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,m(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,m(e,t)}},function(e,t,n){"use strict";var i,a=n(73),s=n(561),o=n(427),r=n(428),l=n(374),c=0,d=1,u=3,h=4,p=5,m=0,f=1,g=-2,b=-3,v=-5,y=-1,C=1,w=2,S=3,k=4,E=0,j=2,x=8,D=9,_=15,O=8,L=286,T=30,R=19,I=2*L+1,A=15,N=3,P=258,M=P+N+1,U=32,B=42,z=69,F=73,q=91,H=103,W=113,Z=666,V=1,$=2,G=3,Y=4,K=3;function X(e,t){return e.msg=l[t],t}function J(e){return(e<<1)-(e>4?9:0)}function Q(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(a.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function te(e,t){s._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ne(e,t){e.pending_buf[e.pending++]=t}function ie(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ae(e,t,n,i){var s=e.avail_in;return s>i&&(s=i),0===s?0:(e.avail_in-=s,a.arraySet(t,e.input,e.next_in,s,n),1===e.state.wrap?e.adler=o(e.adler,t,s,n):2===e.state.wrap&&(e.adler=r(e.adler,t,s,n)),e.next_in+=s,e.total_in+=s,s)}function se(e,t){var n,i,a=e.max_chain_length,s=e.strstart,o=e.prev_length,r=e.nice_match,l=e.strstart>e.w_size-M?e.strstart-(e.w_size-M):0,c=e.window,d=e.w_mask,u=e.prev,h=e.strstart+P,p=c[s+o-1],m=c[s+o];e.prev_length>=e.good_match&&(a>>=2),r>e.lookahead&&(r=e.lookahead);do{if(c[(n=t)+o]===m&&c[n+o-1]===p&&c[n]===c[s]&&c[++n]===c[s+1]){s+=2,n++;do{}while(c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&s<h);if(i=P-(h-s),s=h-P,i>o){if(e.match_start=t,o=i,i>=r)break;p=c[s+o-1],m=c[s+o]}}}while((t=u[t&d])>l&&0!=--a);return o<=e.lookahead?o:e.lookahead}function oe(e){var t,n,i,s,o,r=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=r+(r-M)){a.arraySet(e.window,e.window,r,r,0),e.match_start-=r,e.strstart-=r,e.block_start-=r,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=r?i-r:0}while(--n);t=n=r;do{i=e.prev[--t],e.prev[t]=i>=r?i-r:0}while(--n);s+=r}if(0===e.strm.avail_in)break;if(n=ae(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=n,e.lookahead+e.insert>=N)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+N-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<N)););}while(e.lookahead<M&&0!==e.strm.avail_in)}function re(e,t){for(var n,i;;){if(e.lookahead<M){if(oe(e),e.lookahead<M&&t===c)return V;if(0===e.lookahead)break}if(n=0,e.lookahead>=N&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-M&&(e.match_length=se(e,n)),e.match_length>=N)if(i=s._tr_tally(e,e.strstart-e.match_start,e.match_length-N),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=N){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(te(e,!1),0===e.strm.avail_out))return V}return e.insert=e.strstart<N-1?e.strstart:N-1,t===h?(te(e,!0),0===e.strm.avail_out?G:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?V:$}function le(e,t){for(var n,i,a;;){if(e.lookahead<M){if(oe(e),e.lookahead<M&&t===c)return V;if(0===e.lookahead)break}if(n=0,e.lookahead>=N&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=N-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-M&&(e.match_length=se(e,n),e.match_length<=5&&(e.strategy===C||e.match_length===N&&e.strstart-e.match_start>4096)&&(e.match_length=N-1)),e.prev_length>=N&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-N,i=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-N),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=N-1,e.strstart++,i&&(te(e,!1),0===e.strm.avail_out))return V}else if(e.match_available){if((i=s._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return V}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<N-1?e.strstart:N-1,t===h?(te(e,!0),0===e.strm.avail_out?G:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?V:$}function ce(e,t,n,i,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=a}function de(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=j,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?B:W,e.adler=2===t.wrap?0:1,t.last_flush=c,s._tr_init(t),m):X(e,g)}function ue(e){var t=de(e);return t===m&&function(e){e.window_size=2*e.w_size,Q(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=N-1,e.match_available=0,e.ins_h=0}(e.state),t}function he(e,t,n,i,s,o){if(!e)return g;var r=1;if(t===y&&(t=6),i<0?(r=0,i=-i):i>15&&(r=2,i-=16),s<1||s>D||n!==x||i<8||i>15||t<0||t>9||o<0||o>k)return X(e,g);8===i&&(i=9);var l=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*I),this.dyn_dtree=new a.Buf16(2*(2*T+1)),this.bl_tree=new a.Buf16(2*(2*R+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(A+1),this.heap=new a.Buf16(2*L+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*L+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return e.state=l,l.strm=e,l.wrap=r,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+N-1)/N),l.window=new a.Buf8(2*l.w_size),l.head=new a.Buf16(l.hash_size),l.prev=new a.Buf16(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new a.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=n,ue(e)}i=[new ce(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(oe(e),0===e.lookahead&&t===c)return V;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,te(e,!1),0===e.strm.avail_out))return V;if(e.strstart-e.block_start>=e.w_size-M&&(te(e,!1),0===e.strm.avail_out))return V}return e.insert=0,t===h?(te(e,!0),0===e.strm.avail_out?G:Y):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),V)}),new ce(4,4,8,4,re),new ce(4,5,16,8,re),new ce(4,6,32,32,re),new ce(4,4,16,16,le),new ce(8,16,32,32,le),new ce(8,16,128,128,le),new ce(8,32,128,256,le),new ce(32,128,258,1024,le),new ce(32,258,258,4096,le)],t.deflateInit=function(e,t){return he(e,t,x,_,O,E)},t.deflateInit2=he,t.deflateReset=ue,t.deflateResetKeep=de,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?g:(e.state.gzhead=t,m):g},t.deflate=function(e,t){var n,a,o,l;if(!e||!e.state||t>p||t<0)return e?X(e,g):g;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||a.status===Z&&t!==h)return X(e,0===e.avail_out?v:g);if(a.strm=e,n=a.last_flush,a.last_flush=t,a.status===B)if(2===a.wrap)e.adler=0,ne(a,31),ne(a,139),ne(a,8),a.gzhead?(ne(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),ne(a,255&a.gzhead.time),ne(a,a.gzhead.time>>8&255),ne(a,a.gzhead.time>>16&255),ne(a,a.gzhead.time>>24&255),ne(a,9===a.level?2:a.strategy>=w||a.level<2?4:0),ne(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(ne(a,255&a.gzhead.extra.length),ne(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=r(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=z):(ne(a,0),ne(a,0),ne(a,0),ne(a,0),ne(a,0),ne(a,9===a.level?2:a.strategy>=w||a.level<2?4:0),ne(a,K),a.status=W);else{var b=x+(a.w_bits-8<<4)<<8;b|=(a.strategy>=w||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(b|=U),b+=31-b%31,a.status=W,ie(a,b),0!==a.strstart&&(ie(a,e.adler>>>16),ie(a,65535&e.adler)),e.adler=1}if(a.status===z)if(a.gzhead.extra){for(o=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>o&&(e.adler=r(e.adler,a.pending_buf,a.pending-o,o)),ee(e),o=a.pending,a.pending!==a.pending_buf_size));)ne(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>o&&(e.adler=r(e.adler,a.pending_buf,a.pending-o,o)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=F)}else a.status=F;if(a.status===F)if(a.gzhead.name){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(e.adler=r(e.adler,a.pending_buf,a.pending-o,o)),ee(e),o=a.pending,a.pending===a.pending_buf_size)){l=1;break}l=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,ne(a,l)}while(0!==l);a.gzhead.hcrc&&a.pending>o&&(e.adler=r(e.adler,a.pending_buf,a.pending-o,o)),0===l&&(a.gzindex=0,a.status=q)}else a.status=q;if(a.status===q)if(a.gzhead.comment){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(e.adler=r(e.adler,a.pending_buf,a.pending-o,o)),ee(e),o=a.pending,a.pending===a.pending_buf_size)){l=1;break}l=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,ne(a,l)}while(0!==l);a.gzhead.hcrc&&a.pending>o&&(e.adler=r(e.adler,a.pending_buf,a.pending-o,o)),0===l&&(a.status=H)}else a.status=H;if(a.status===H&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&ee(e),a.pending+2<=a.pending_buf_size&&(ne(a,255&e.adler),ne(a,e.adler>>8&255),e.adler=0,a.status=W)):a.status=W),0!==a.pending){if(ee(e),0===e.avail_out)return a.last_flush=-1,m}else if(0===e.avail_in&&J(t)<=J(n)&&t!==h)return X(e,v);if(a.status===Z&&0!==e.avail_in)return X(e,v);if(0!==e.avail_in||0!==a.lookahead||t!==c&&a.status!==Z){var y=a.strategy===w?function(e,t){for(var n;;){if(0===e.lookahead&&(oe(e),0===e.lookahead)){if(t===c)return V;break}if(e.match_length=0,n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return V}return e.insert=0,t===h?(te(e,!0),0===e.strm.avail_out?G:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?V:$}(a,t):a.strategy===S?function(e,t){for(var n,i,a,o,r=e.window;;){if(e.lookahead<=P){if(oe(e),e.lookahead<=P&&t===c)return V;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=N&&e.strstart>0&&(i=r[a=e.strstart-1])===r[++a]&&i===r[++a]&&i===r[++a]){o=e.strstart+P;do{}while(i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&a<o);e.match_length=P-(o-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=N?(n=s._tr_tally(e,1,e.match_length-N),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(te(e,!1),0===e.strm.avail_out))return V}return e.insert=0,t===h?(te(e,!0),0===e.strm.avail_out?G:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?V:$}(a,t):i[a.level].func(a,t);if(y!==G&&y!==Y||(a.status=Z),y===V||y===G)return 0===e.avail_out&&(a.last_flush=-1),m;if(y===$&&(t===d?s._tr_align(a):t!==p&&(s._tr_stored_block(a,0,0,!1),t===u&&(Q(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),ee(e),0===e.avail_out))return a.last_flush=-1,m}return t!==h?m:a.wrap<=0?f:(2===a.wrap?(ne(a,255&e.adler),ne(a,e.adler>>8&255),ne(a,e.adler>>16&255),ne(a,e.adler>>24&255),ne(a,255&e.total_in),ne(a,e.total_in>>8&255),ne(a,e.total_in>>16&255),ne(a,e.total_in>>24&255)):(ie(a,e.adler>>>16),ie(a,65535&e.adler)),ee(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?m:f)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==B&&t!==z&&t!==F&&t!==q&&t!==H&&t!==W&&t!==Z?X(e,g):(e.state=null,t===W?X(e,b):m):g},t.deflateSetDictionary=function(e,t){var n,i,s,r,l,c,d,u,h=t.length;if(!e||!e.state)return g;if(2===(r=(n=e.state).wrap)||1===r&&n.status!==B||n.lookahead)return g;for(1===r&&(e.adler=o(e.adler,t,h,0)),n.wrap=0,h>=n.w_size&&(0===r&&(Q(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new a.Buf8(n.w_size),a.arraySet(u,t,h-n.w_size,n.w_size,0),t=u,h=n.w_size),l=e.avail_in,c=e.next_in,d=e.input,e.avail_in=h,e.next_in=0,e.input=t,oe(n);n.lookahead>=N;){i=n.strstart,s=n.lookahead-(N-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+N-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--s);n.strstart=i,n.lookahead=N-1,oe(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=N-1,n.match_available=0,e.next_in=c,e.input=d,e.avail_in=l,n.wrap=r,m},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var i=n(73),a=4,s=0,o=1,r=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var c=0,d=1,u=2,h=29,p=256,m=p+1+h,f=30,g=19,b=2*m+1,v=15,y=16,C=7,w=256,S=16,k=17,E=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],x=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],_=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=new Array(2*(m+2));l(O);var L=new Array(2*f);l(L);var T=new Array(512);l(T);var R=new Array(256);l(R);var I=new Array(h);l(I);var A,N,P,M=new Array(f);function U(e,t,n,i,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=a,this.has_stree=e&&e.length}function B(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function z(e){return e<256?T[e]:T[256+(e>>>7)]}function F(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function q(e,t,n){e.bi_valid>y-n?(e.bi_buf|=t<<e.bi_valid&65535,F(e,e.bi_buf),e.bi_buf=t>>y-e.bi_valid,e.bi_valid+=n-y):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function H(e,t,n){q(e,n[2*t],n[2*t+1])}function W(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function Z(e,t,n){var i,a,s=new Array(v+1),o=0;for(i=1;i<=v;i++)s[i]=o=o+n[i-1]<<1;for(a=0;a<=t;a++){var r=e[2*a+1];0!==r&&(e[2*a]=W(s[r]++,r))}}function V(e){var t;for(t=0;t<m;t++)e.dyn_ltree[2*t]=0;for(t=0;t<f;t++)e.dyn_dtree[2*t]=0;for(t=0;t<g;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*w]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function $(e){e.bi_valid>8?F(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function G(e,t,n,i){var a=2*t,s=2*n;return e[a]<e[s]||e[a]===e[s]&&i[t]<=i[n]}function Y(e,t,n){for(var i=e.heap[n],a=n<<1;a<=e.heap_len&&(a<e.heap_len&&G(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!G(t,i,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=i}function K(e,t,n){var i,a,s,o,r=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*r]<<8|e.pending_buf[e.d_buf+2*r+1],a=e.pending_buf[e.l_buf+r],r++,0===i?H(e,a,t):(H(e,(s=R[a])+p+1,t),0!==(o=j[s])&&q(e,a-=I[s],o),H(e,s=z(--i),n),0!==(o=x[s])&&q(e,i-=M[s],o))}while(r<e.last_lit);H(e,w,t)}function X(e,t){var n,i,a,s=t.dyn_tree,o=t.stat_desc.static_tree,r=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=b,n=0;n<l;n++)0!==s[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):s[2*n+1]=0;for(;e.heap_len<2;)s[2*(a=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[a]=0,e.opt_len--,r&&(e.static_len-=o[2*a+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)Y(e,s,n);a=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Y(e,s,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,s[2*a]=s[2*n]+s[2*i],e.depth[a]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,s[2*n+1]=s[2*i+1]=a,e.heap[1]=a++,Y(e,s,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,a,s,o,r,l=t.dyn_tree,c=t.max_code,d=t.stat_desc.static_tree,u=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,m=t.stat_desc.max_length,f=0;for(s=0;s<=v;s++)e.bl_count[s]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<b;n++)(s=l[2*l[2*(i=e.heap[n])+1]+1]+1)>m&&(s=m,f++),l[2*i+1]=s,i>c||(e.bl_count[s]++,o=0,i>=p&&(o=h[i-p]),r=l[2*i],e.opt_len+=r*(s+o),u&&(e.static_len+=r*(d[2*i+1]+o)));if(0!==f){do{for(s=m-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[m]--,f-=2}while(f>0);for(s=m;0!==s;s--)for(i=e.bl_count[s];0!==i;)(a=e.heap[--n])>c||(l[2*a+1]!==s&&(e.opt_len+=(s-l[2*a+1])*l[2*a],l[2*a+1]=s),i--)}}(e,t),Z(s,c,e.bl_count)}function J(e,t,n){var i,a,s=-1,o=t[1],r=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)a=o,o=t[2*(i+1)+1],++r<l&&a===o||(r<c?e.bl_tree[2*a]+=r:0!==a?(a!==s&&e.bl_tree[2*a]++,e.bl_tree[2*S]++):r<=10?e.bl_tree[2*k]++:e.bl_tree[2*E]++,r=0,s=a,0===o?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4))}function Q(e,t,n){var i,a,s=-1,o=t[1],r=0,l=7,c=4;for(0===o&&(l=138,c=3),i=0;i<=n;i++)if(a=o,o=t[2*(i+1)+1],!(++r<l&&a===o)){if(r<c)do{H(e,a,e.bl_tree)}while(0!=--r);else 0!==a?(a!==s&&(H(e,a,e.bl_tree),r--),H(e,S,e.bl_tree),q(e,r-3,2)):r<=10?(H(e,k,e.bl_tree),q(e,r-3,3)):(H(e,E,e.bl_tree),q(e,r-11,7));r=0,s=a,0===o?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4)}}l(M);var ee=!1;function te(e,t,n,a){q(e,(c<<1)+(a?1:0),3),function(e,t,n,a){$(e),a&&(F(e,n),F(e,~n)),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){ee||(function(){var e,t,n,i,a,s=new Array(v+1);for(n=0,i=0;i<h-1;i++)for(I[i]=n,e=0;e<1<<j[i];e++)R[n++]=i;for(R[n-1]=i,a=0,i=0;i<16;i++)for(M[i]=a,e=0;e<1<<x[i];e++)T[a++]=i;for(a>>=7;i<f;i++)for(M[i]=a<<7,e=0;e<1<<x[i]-7;e++)T[256+a++]=i;for(t=0;t<=v;t++)s[t]=0;for(e=0;e<=143;)O[2*e+1]=8,e++,s[8]++;for(;e<=255;)O[2*e+1]=9,e++,s[9]++;for(;e<=279;)O[2*e+1]=7,e++,s[7]++;for(;e<=287;)O[2*e+1]=8,e++,s[8]++;for(Z(O,m+1,s),e=0;e<f;e++)L[2*e+1]=5,L[2*e]=W(e,5);A=new U(O,j,p+1,m,v),N=new U(L,x,0,f,v),P=new U(new Array(0),D,0,g,C)}(),ee=!0),e.l_desc=new B(e.dyn_ltree,A),e.d_desc=new B(e.dyn_dtree,N),e.bl_desc=new B(e.bl_tree,P),e.bi_buf=0,e.bi_valid=0,V(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,n,i){var l,c,h=0;e.level>0?(e.strm.data_type===r&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return s;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<p;t++)if(0!==e.dyn_ltree[2*t])return o;return s}(e)),X(e,e.l_desc),X(e,e.d_desc),h=function(e){var t;for(J(e,e.dyn_ltree,e.l_desc.max_code),J(e,e.dyn_dtree,e.d_desc.max_code),X(e,e.bl_desc),t=g-1;t>=3&&0===e.bl_tree[2*_[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),l=e.opt_len+3+7>>>3,(c=e.static_len+3+7>>>3)<=l&&(l=c)):l=c=n+5,n+4<=l&&-1!==t?te(e,t,n,i):e.strategy===a||c===l?(q(e,(d<<1)+(i?1:0),3),K(e,O,L)):(q(e,(u<<1)+(i?1:0),3),function(e,t,n,i){var a;for(q(e,t-257,5),q(e,n-1,5),q(e,i-4,4),a=0;a<i;a++)q(e,e.bl_tree[2*_[a]+1],3);Q(e,e.dyn_ltree,t-1),Q(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,h+1),K(e,e.dyn_ltree,e.dyn_dtree)),V(e),i&&$(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(R[n]+p+1)]++,e.dyn_dtree[2*z(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){q(e,d<<1,3),H(e,w,O),function(e){16===e.bi_valid?(F(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var i=n(563),a=n(73),s=n(429),o=n(431),r=n(374),l=n(430),c=n(566),d=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(r[n]);this.header=new c,i.inflateGetHeader(this.strm,this.header)}function h(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||r[n.err];return n.result}u.prototype.push=function(e,t){var n,r,l,c,u,h,p=this.strm,m=this.options.chunkSize,f=this.options.dictionary,g=!1;if(this.ended)return!1;r=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?p.input=s.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new a.Buf8(m),p.next_out=0,p.avail_out=m),(n=i.inflate(p,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&f&&(h="string"==typeof f?s.string2buf(f):"[object ArrayBuffer]"===d.call(f)?new Uint8Array(f):f,n=i.inflateSetDictionary(this.strm,h)),n===o.Z_BUF_ERROR&&!0===g&&(n=o.Z_OK,g=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&n!==o.Z_STREAM_END&&(0!==p.avail_in||r!==o.Z_FINISH&&r!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=s.utf8border(p.output,p.next_out),c=p.next_out-l,u=s.buf2string(p.output,l),p.next_out=c,p.avail_out=m-c,c&&a.arraySet(p.output,p.output,l,c,0),this.onData(u)):this.onData(a.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(g=!0)}while((p.avail_in>0||0===p.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(r=o.Z_FINISH),r===o.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):r!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),p.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=u,t.inflate=h,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},t.ungzip=h},function(e,t,n){"use strict";var i=n(73),a=n(427),s=n(428),o=n(564),r=n(565),l=0,c=1,d=2,u=4,h=5,p=6,m=0,f=1,g=2,b=-2,v=-3,y=-4,C=-5,w=8,S=1,k=2,E=3,j=4,x=5,D=6,_=7,O=8,L=9,T=10,R=11,I=12,A=13,N=14,P=15,M=16,U=17,B=18,z=19,F=20,q=21,H=22,W=23,Z=24,V=25,$=26,G=27,Y=28,K=29,X=30,J=31,Q=32,ee=852,te=592,ne=15;function ie(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ae(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=S,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(ee),t.distcode=t.distdyn=new i.Buf32(te),t.sane=1,t.back=-1,m):b}function se(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,ae(e)):b}function oe(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?b:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,se(e))):b}function re(e,t){var n,a;return e?(a=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},e.state=a,a.window=null,(n=oe(e,t))!==m&&(e.state=null),n):b}var le,ce,de=!0;function ue(e){if(de){var t;for(le=new i.Buf32(512),ce=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(r(c,e.lens,0,288,le,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;r(d,e.lens,0,32,ce,0,e.work,{bits:5}),de=!1}e.lencode=le,e.lenbits=9,e.distcode=ce,e.distbits=5}function he(e,t,n,a){var s,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),a>=o.wsize?(i.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((s=o.wsize-o.wnext)>a&&(s=a),i.arraySet(o.window,t,n-a,s,o.wnext),(a-=s)?(i.arraySet(o.window,t,n-a,a,0),o.wnext=a,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}t.inflateReset=se,t.inflateReset2=oe,t.inflateResetKeep=ae,t.inflateInit=function(e){return re(e,ne)},t.inflateInit2=re,t.inflate=function(e,t){var n,ee,te,ne,ae,se,oe,re,le,ce,de,pe,me,fe,ge,be,ve,ye,Ce,we,Se,ke,Ee,je,xe=0,De=new i.Buf8(4),_e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return b;(n=e.state).mode===I&&(n.mode=A),ae=e.next_out,te=e.output,oe=e.avail_out,ne=e.next_in,ee=e.input,se=e.avail_in,re=n.hold,le=n.bits,ce=se,de=oe,ke=m;e:for(;;)switch(n.mode){case S:if(0===n.wrap){n.mode=A;break}for(;le<16;){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}if(2&n.wrap&&35615===re){n.check=0,De[0]=255&re,De[1]=re>>>8&255,n.check=s(n.check,De,2,0),re=0,le=0,n.mode=k;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&re)<<8)+(re>>8))%31){e.msg="incorrect header check",n.mode=X;break}if((15&re)!==w){e.msg="unknown compression method",n.mode=X;break}if(le-=4,Se=8+(15&(re>>>=4)),0===n.wbits)n.wbits=Se;else if(Se>n.wbits){e.msg="invalid window size",n.mode=X;break}n.dmax=1<<Se,e.adler=n.check=1,n.mode=512&re?T:I,re=0,le=0;break;case k:for(;le<16;){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}if(n.flags=re,(255&n.flags)!==w){e.msg="unknown compression method",n.mode=X;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=X;break}n.head&&(n.head.text=re>>8&1),512&n.flags&&(De[0]=255&re,De[1]=re>>>8&255,n.check=s(n.check,De,2,0)),re=0,le=0,n.mode=E;case E:for(;le<32;){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}n.head&&(n.head.time=re),512&n.flags&&(De[0]=255&re,De[1]=re>>>8&255,De[2]=re>>>16&255,De[3]=re>>>24&255,n.check=s(n.check,De,4,0)),re=0,le=0,n.mode=j;case j:for(;le<16;){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}n.head&&(n.head.xflags=255&re,n.head.os=re>>8),512&n.flags&&(De[0]=255&re,De[1]=re>>>8&255,n.check=s(n.check,De,2,0)),re=0,le=0,n.mode=x;case x:if(1024&n.flags){for(;le<16;){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}n.length=re,n.head&&(n.head.extra_len=re),512&n.flags&&(De[0]=255&re,De[1]=re>>>8&255,n.check=s(n.check,De,2,0)),re=0,le=0}else n.head&&(n.head.extra=null);n.mode=D;case D:if(1024&n.flags&&((pe=n.length)>se&&(pe=se),pe&&(n.head&&(Se=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,ee,ne,pe,Se)),512&n.flags&&(n.check=s(n.check,ee,pe,ne)),se-=pe,ne+=pe,n.length-=pe),n.length))break e;n.length=0,n.mode=_;case _:if(2048&n.flags){if(0===se)break e;pe=0;do{Se=ee[ne+pe++],n.head&&Se&&n.length<65536&&(n.head.name+=String.fromCharCode(Se))}while(Se&&pe<se);if(512&n.flags&&(n.check=s(n.check,ee,pe,ne)),se-=pe,ne+=pe,Se)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=O;case O:if(4096&n.flags){if(0===se)break e;pe=0;do{Se=ee[ne+pe++],n.head&&Se&&n.length<65536&&(n.head.comment+=String.fromCharCode(Se))}while(Se&&pe<se);if(512&n.flags&&(n.check=s(n.check,ee,pe,ne)),se-=pe,ne+=pe,Se)break e}else n.head&&(n.head.comment=null);n.mode=L;case L:if(512&n.flags){for(;le<16;){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}if(re!==(65535&n.check)){e.msg="header crc mismatch",n.mode=X;break}re=0,le=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=I;break;case T:for(;le<32;){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}e.adler=n.check=ie(re),re=0,le=0,n.mode=R;case R:if(0===n.havedict)return e.next_out=ae,e.avail_out=oe,e.next_in=ne,e.avail_in=se,n.hold=re,n.bits=le,g;e.adler=n.check=1,n.mode=I;case I:if(t===h||t===p)break e;case A:if(n.last){re>>>=7&le,le-=7&le,n.mode=G;break}for(;le<3;){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}switch(n.last=1&re,le-=1,3&(re>>>=1)){case 0:n.mode=N;break;case 1:if(ue(n),n.mode=F,t===p){re>>>=2,le-=2;break e}break;case 2:n.mode=U;break;case 3:e.msg="invalid block type",n.mode=X}re>>>=2,le-=2;break;case N:for(re>>>=7&le,le-=7&le;le<32;){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}if((65535&re)!=(re>>>16^65535)){e.msg="invalid stored block lengths",n.mode=X;break}if(n.length=65535&re,re=0,le=0,n.mode=P,t===p)break e;case P:n.mode=M;case M:if(pe=n.length){if(pe>se&&(pe=se),pe>oe&&(pe=oe),0===pe)break e;i.arraySet(te,ee,ne,pe,ae),se-=pe,ne+=pe,oe-=pe,ae+=pe,n.length-=pe;break}n.mode=I;break;case U:for(;le<14;){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}if(n.nlen=257+(31&re),re>>>=5,le-=5,n.ndist=1+(31&re),re>>>=5,le-=5,n.ncode=4+(15&re),re>>>=4,le-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=X;break}n.have=0,n.mode=B;case B:for(;n.have<n.ncode;){for(;le<3;){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}n.lens[_e[n.have++]]=7&re,re>>>=3,le-=3}for(;n.have<19;)n.lens[_e[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Ee={bits:n.lenbits},ke=r(l,n.lens,0,19,n.lencode,0,n.work,Ee),n.lenbits=Ee.bits,ke){e.msg="invalid code lengths set",n.mode=X;break}n.have=0,n.mode=z;case z:for(;n.have<n.nlen+n.ndist;){for(;be=(xe=n.lencode[re&(1<<n.lenbits)-1])>>>16&255,ve=65535&xe,!((ge=xe>>>24)<=le);){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}if(ve<16)re>>>=ge,le-=ge,n.lens[n.have++]=ve;else{if(16===ve){for(je=ge+2;le<je;){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}if(re>>>=ge,le-=ge,0===n.have){e.msg="invalid bit length repeat",n.mode=X;break}Se=n.lens[n.have-1],pe=3+(3&re),re>>>=2,le-=2}else if(17===ve){for(je=ge+3;le<je;){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}le-=ge,Se=0,pe=3+(7&(re>>>=ge)),re>>>=3,le-=3}else{for(je=ge+7;le<je;){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}le-=ge,Se=0,pe=11+(127&(re>>>=ge)),re>>>=7,le-=7}if(n.have+pe>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=X;break}for(;pe--;)n.lens[n.have++]=Se}}if(n.mode===X)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=X;break}if(n.lenbits=9,Ee={bits:n.lenbits},ke=r(c,n.lens,0,n.nlen,n.lencode,0,n.work,Ee),n.lenbits=Ee.bits,ke){e.msg="invalid literal/lengths set",n.mode=X;break}if(n.distbits=6,n.distcode=n.distdyn,Ee={bits:n.distbits},ke=r(d,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Ee),n.distbits=Ee.bits,ke){e.msg="invalid distances set",n.mode=X;break}if(n.mode=F,t===p)break e;case F:n.mode=q;case q:if(se>=6&&oe>=258){e.next_out=ae,e.avail_out=oe,e.next_in=ne,e.avail_in=se,n.hold=re,n.bits=le,o(e,de),ae=e.next_out,te=e.output,oe=e.avail_out,ne=e.next_in,ee=e.input,se=e.avail_in,re=n.hold,le=n.bits,n.mode===I&&(n.back=-1);break}for(n.back=0;be=(xe=n.lencode[re&(1<<n.lenbits)-1])>>>16&255,ve=65535&xe,!((ge=xe>>>24)<=le);){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}if(be&&0==(240&be)){for(ye=ge,Ce=be,we=ve;be=(xe=n.lencode[we+((re&(1<<ye+Ce)-1)>>ye)])>>>16&255,ve=65535&xe,!(ye+(ge=xe>>>24)<=le);){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}re>>>=ye,le-=ye,n.back+=ye}if(re>>>=ge,le-=ge,n.back+=ge,n.length=ve,0===be){n.mode=$;break}if(32&be){n.back=-1,n.mode=I;break}if(64&be){e.msg="invalid literal/length code",n.mode=X;break}n.extra=15&be,n.mode=H;case H:if(n.extra){for(je=n.extra;le<je;){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}n.length+=re&(1<<n.extra)-1,re>>>=n.extra,le-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=W;case W:for(;be=(xe=n.distcode[re&(1<<n.distbits)-1])>>>16&255,ve=65535&xe,!((ge=xe>>>24)<=le);){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}if(0==(240&be)){for(ye=ge,Ce=be,we=ve;be=(xe=n.distcode[we+((re&(1<<ye+Ce)-1)>>ye)])>>>16&255,ve=65535&xe,!(ye+(ge=xe>>>24)<=le);){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}re>>>=ye,le-=ye,n.back+=ye}if(re>>>=ge,le-=ge,n.back+=ge,64&be){e.msg="invalid distance code",n.mode=X;break}n.offset=ve,n.extra=15&be,n.mode=Z;case Z:if(n.extra){for(je=n.extra;le<je;){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}n.offset+=re&(1<<n.extra)-1,re>>>=n.extra,le-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=X;break}n.mode=V;case V:if(0===oe)break e;if(pe=de-oe,n.offset>pe){if((pe=n.offset-pe)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=X;break}pe>n.wnext?(pe-=n.wnext,me=n.wsize-pe):me=n.wnext-pe,pe>n.length&&(pe=n.length),fe=n.window}else fe=te,me=ae-n.offset,pe=n.length;pe>oe&&(pe=oe),oe-=pe,n.length-=pe;do{te[ae++]=fe[me++]}while(--pe);0===n.length&&(n.mode=q);break;case $:if(0===oe)break e;te[ae++]=n.length,oe--,n.mode=q;break;case G:if(n.wrap){for(;le<32;){if(0===se)break e;se--,re|=ee[ne++]<<le,le+=8}if(de-=oe,e.total_out+=de,n.total+=de,de&&(e.adler=n.check=n.flags?s(n.check,te,de,ae-de):a(n.check,te,de,ae-de)),de=oe,(n.flags?re:ie(re))!==n.check){e.msg="incorrect data check",n.mode=X;break}re=0,le=0}n.mode=Y;case Y:if(n.wrap&&n.flags){for(;le<32;){if(0===se)break e;se--,re+=ee[ne++]<<le,le+=8}if(re!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=X;break}re=0,le=0}n.mode=K;case K:ke=f;break e;case X:ke=v;break e;case J:return y;case Q:default:return b}return e.next_out=ae,e.avail_out=oe,e.next_in=ne,e.avail_in=se,n.hold=re,n.bits=le,(n.wsize||de!==e.avail_out&&n.mode<X&&(n.mode<G||t!==u))&&he(e,e.output,e.next_out,de-e.avail_out)?(n.mode=J,y):(ce-=e.avail_in,de-=e.avail_out,e.total_in+=ce,e.total_out+=de,n.total+=de,n.wrap&&de&&(e.adler=n.check=n.flags?s(n.check,te,de,e.next_out-de):a(n.check,te,de,e.next_out-de)),e.data_type=n.bits+(n.last?64:0)+(n.mode===I?128:0)+(n.mode===F||n.mode===P?256:0),(0===ce&&0===de||t===u)&&ke===m&&(ke=C),ke)},t.inflateEnd=function(e){if(!e||!e.state)return b;var t=e.state;return t.window&&(t.window=null),e.state=null,m},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?b:(n.head=t,t.done=!1,m):b},t.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==R?b:n.mode===R&&a(1,t,i,0)!==n.check?v:he(e,t,i,i)?(n.mode=J,y):(n.havedict=1,m):b},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,i,a,s,o,r,l,c,d,u,h,p,m,f,g,b,v,y,C,w,S,k,E,j,x;n=e.state,i=e.next_in,j=e.input,a=i+(e.avail_in-5),s=e.next_out,x=e.output,o=s-(t-e.avail_out),r=s+(e.avail_out-257),l=n.dmax,c=n.wsize,d=n.whave,u=n.wnext,h=n.window,p=n.hold,m=n.bits,f=n.lencode,g=n.distcode,b=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{m<15&&(p+=j[i++]<<m,m+=8,p+=j[i++]<<m,m+=8),y=f[p&b];t:for(;;){if(p>>>=C=y>>>24,m-=C,0===(C=y>>>16&255))x[s++]=65535&y;else{if(!(16&C)){if(0==(64&C)){y=f[(65535&y)+(p&(1<<C)-1)];continue t}if(32&C){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&y,(C&=15)&&(m<C&&(p+=j[i++]<<m,m+=8),w+=p&(1<<C)-1,p>>>=C,m-=C),m<15&&(p+=j[i++]<<m,m+=8,p+=j[i++]<<m,m+=8),y=g[p&v];n:for(;;){if(p>>>=C=y>>>24,m-=C,!(16&(C=y>>>16&255))){if(0==(64&C)){y=g[(65535&y)+(p&(1<<C)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(S=65535&y,m<(C&=15)&&(p+=j[i++]<<m,(m+=8)<C&&(p+=j[i++]<<m,m+=8)),(S+=p&(1<<C)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=C,m-=C,S>(C=s-o)){if((C=S-C)>d&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=0,E=h,0===u){if(k+=c-C,C<w){w-=C;do{x[s++]=h[k++]}while(--C);k=s-S,E=x}}else if(u<C){if(k+=c+u-C,(C-=u)<w){w-=C;do{x[s++]=h[k++]}while(--C);if(k=0,u<w){w-=C=u;do{x[s++]=h[k++]}while(--C);k=s-S,E=x}}}else if(k+=u-C,C<w){w-=C;do{x[s++]=h[k++]}while(--C);k=s-S,E=x}for(;w>2;)x[s++]=E[k++],x[s++]=E[k++],x[s++]=E[k++],w-=3;w&&(x[s++]=E[k++],w>1&&(x[s++]=E[k++]))}else{k=s-S;do{x[s++]=x[k++],x[s++]=x[k++],x[s++]=x[k++],w-=3}while(w>2);w&&(x[s++]=x[k++],w>1&&(x[s++]=x[k++]))}break}}break}}while(i<a&&s<r);i-=w=m>>3,p&=(1<<(m-=w<<3))-1,e.next_in=i,e.next_out=s,e.avail_in=i<a?a-i+5:5-(i-a),e.avail_out=s<r?r-s+257:257-(s-r),n.hold=p,n.bits=m}},function(e,t,n){"use strict";var i=n(73),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],r=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,c,d,u,h){var p,m,f,g,b,v,y,C,w,S=h.bits,k=0,E=0,j=0,x=0,D=0,_=0,O=0,L=0,T=0,R=0,I=null,A=0,N=new i.Buf16(16),P=new i.Buf16(16),M=null,U=0;for(k=0;k<=15;k++)N[k]=0;for(E=0;E<l;E++)N[t[n+E]]++;for(D=S,x=15;x>=1&&0===N[x];x--);if(D>x&&(D=x),0===x)return c[d++]=20971520,c[d++]=20971520,h.bits=1,0;for(j=1;j<x&&0===N[j];j++);for(D<j&&(D=j),L=1,k=1;k<=15;k++)if(L<<=1,(L-=N[k])<0)return-1;if(L>0&&(0===e||1!==x))return-1;for(P[1]=0,k=1;k<15;k++)P[k+1]=P[k]+N[k];for(E=0;E<l;E++)0!==t[n+E]&&(u[P[t[n+E]]++]=E);if(0===e?(I=M=u,v=19):1===e?(I=a,A-=257,M=s,U-=257,v=256):(I=o,M=r,v=-1),R=0,E=0,k=j,b=d,_=D,O=0,f=-1,g=(T=1<<D)-1,1===e&&T>852||2===e&&T>592)return 1;for(;;){y=k-O,u[E]<v?(C=0,w=u[E]):u[E]>v?(C=M[U+u[E]],w=I[A+u[E]]):(C=96,w=0),p=1<<k-O,j=m=1<<_;do{c[b+(R>>O)+(m-=p)]=y<<24|C<<16|w|0}while(0!==m);for(p=1<<k-1;R&p;)p>>=1;if(0!==p?(R&=p-1,R+=p):R=0,E++,0==--N[k]){if(k===x)break;k=t[n+u[E]]}if(k>D&&(R&g)!==f){for(0===O&&(O=D),b+=j,L=1<<(_=k-O);_+O<x&&!((L-=N[_+O])<=0);)_++,L<<=1;if(T+=1<<_,1===e&&T>852||2===e&&T>592)return 1;c[f=R&g]=D<<24|_<<16|b-d|0}}return 0!==R&&(c[b+R]=k-O<<24|64<<16|0),h.bits=D,0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){"use strict";var i=n(32),a=n(51),s=n(155),o=n(373),r=n(432),l=function(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},c=function(e,t,n,a,c,d){var u,h,p=e.file,m=e.compression,f=d!==s.utf8encode,g=i.transformTo("string",d(p.name)),b=i.transformTo("string",s.utf8encode(p.name)),v=p.comment,y=i.transformTo("string",d(v)),C=i.transformTo("string",s.utf8encode(v)),w=b.length!==p.name.length,S=C.length!==v.length,k="",E="",j="",x=p.dir,D=p.date,_={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(_.crc32=e.crc32,_.compressedSize=e.compressedSize,_.uncompressedSize=e.uncompressedSize);var O=0;t&&(O|=8),f||!w&&!S||(O|=2048);var L=0,T=0;x&&(L|=16),"UNIX"===c?(T=798,L|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(p.unixPermissions,x)):(T=20,L|=function(e,t){return 63&(e||0)}(p.dosPermissions)),u=D.getUTCHours(),u<<=6,u|=D.getUTCMinutes(),u<<=5,u|=D.getUTCSeconds()/2,h=D.getUTCFullYear()-1980,h<<=4,h|=D.getUTCMonth()+1,h<<=5,h|=D.getUTCDate(),w&&(E=l(1,1)+l(o(g),4)+b,k+="up"+l(E.length,2)+E),S&&(j=l(1,1)+l(o(y),4)+C,k+="uc"+l(j.length,2)+j);var R="";return R+="\n\0",R+=l(O,2),R+=m.magic,R+=l(u,2),R+=l(h,2),R+=l(_.crc32,4),R+=l(_.compressedSize,4),R+=l(_.uncompressedSize,4),R+=l(g.length,2),R+=l(k.length,2),{fileRecord:r.LOCAL_FILE_HEADER+R+g+k,dirRecord:r.CENTRAL_FILE_HEADER+l(T,2)+R+l(y.length,2)+"\0\0\0\0"+l(L,4)+l(a,4)+g+k+y}};function d(e,t,n,i){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(d,a),d.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},d.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=c(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=c(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return r.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,a=function(e,t,n,a,s){var o=i.transformTo("string",s(a));return r.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(n,4)+l(o.length,2)+o}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:a,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},d.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},d.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=d},function(e,t,n){"use strict";var i=n(32),a=n(51);function s(e,t){a.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(s,a),s.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},s.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=s},function(e,t,n){"use strict";var i=n(32),a=n(174),s=n(155),o=(i=n(32),n(570)),r=n(425),l=n(187);function c(e){return new a.Promise(function(t,n){var i=e.decompressed.getContentWorker().pipe(new r);i.on("error",function(e){n(e)}).on("end",function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}e.exports=function(e,t){var n=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),l.isNode&&l.isStream(e)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new o(t);return n.load(e),n}).then(function(e){var n=[a.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var s=0;s<i.length;s++)n.push(c(i[s]));return a.Promise.all(n)}).then(function(e){for(var i=e.shift(),a=i.files,s=0;s<a.length;s++){var o=a[s];n.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n})}},function(e,t,n){"use strict";var i=n(433),a=n(32),s=n(432),o=n(573),r=(n(155),n(72));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(t)+", expected "+a.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=r.uint8array?"uint8array":"array",n=a.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=t-n;if(i>0)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},function(e,t,n){"use strict";var i=n(435);function a(e){i.call(this,e)}n(32).inherits(a,i),a.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},a.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},a.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},a.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=a},function(e,t,n){"use strict";var i=n(436);function a(e){i.call(this,e)}n(32).inherits(a,i),a.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=a},function(e,t,n){"use strict";var i=n(433),a=n(32),s=n(372),o=n(373),r=n(155),l=n(426),c=n(72);function d(e,t){this.options=e,this.loadOptions=t}d.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,a=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<a;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i}},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=r.utf8decode(this.fileName),this.fileCommentStr=r.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=a.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var s=a.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)?null:o(this.fileName)!==t.readInt(4)?null:r.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)?null:o(this.fileComment)!==t.readInt(4)?null:r.utf8decode(t.readData(e.length-5))}return null}},e.exports=d},function(e,t,n){"use strict";var i=n(1);function a(e){this._isMac=e&&e.mac,this._routes=[],this._history=new s,this._history.attach(function(e){this._handle(e.url)}.bind(this))}function s(){this._history=window.history,this._listeners={},this._listenerCount=0,this._flowNavigationStack=[],window.addEventListener("popstate",this._handlePopState.bind(this))}function o(e,t){this._element=e,this._router=t,this._element.addEventListener("click",this._clickHandler.bind(this))}Object.defineProperties(a.prototype,{isMac:{get:function(){return this._isMac}},history:{get:function(){return this._history}},match:{value:function(e){return e=this._getUrl(e),!!this._findRoute(e)}},route:{value:function(e,t){return this._register({regex:e,handler:t}),this}},start:{value:function(e,t,n){var i=Promise.resolve();return this._hookAppLinks(e),t&&(i=i.then(t)),i=i.then(function(){this._handle(window.location.href)}.bind(this)),n&&i.then(n),this}},_createLink:{value:function(e){return new o(e,this)}},_register:{value:function(e){this._routes.push(e)}},_getUrl:{value:function(e){return"string"==typeof e?(e.startsWith("/")&&(e=window.location.origin+e),new URL(e)):e}},_findRoute:{value:function(e){return this._routes.find(function(t){return t.regex.test(e.href)})}},_handle:{value:function(e){e=this._getUrl(e);var t=this._findRoute(e);if(t)return t.handler({url:e,match:e.href.match(t.regex).slice(1),query:Object(i.N)(e.search.substr(1))})}},_searchAppLinks:{value:function(e){var t=this;return e.nodeType!==Node.ELEMENT_NODE?[]:e.hasAttribute("data-link-type")&&"inApp"===e.dataset.linkType?[e]:Array.from(e.childNodes).reduce(function(e,n){return e.concat(t._searchAppLinks(n))},[])}},_hookAppLinks:{value:function(e){var t=this,n=e.querySelectorAll('[data-link-type="inApp"]');Array.from(n).forEach(function(e){t._createLink(e)});new MutationObserver(function(e){e.forEach(function(e){switch(e.type){case"attributes":"inApp"===e.target.dataset.linkType&&t._createLink(e.target);break;case"childList":Array.from(e.addedNodes).forEach(function(e){t._searchAppLinks(e).forEach(function(e){t._createLink(e)})})}})}).observe(e,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["data-link-type"]})}}}),Object.defineProperties(s.prototype,{actions:{value:{PUSH_STATE:"PUSH_STATE",POP_STATE:"POP_STATE",REPLACE_STATE:"REPLACE_STATE"}},attach:{value:function(e){var t=this._listenerCount;return this._listeners[t]=e,this._listenerCount++,t}},detach:{value:function(e){delete this._listeners[e]}},push:{value:function(e,{state:t,flowNavigation:n}={}){n?this._flowNavigationStack.push({url:location.href,state:this._history.state}):this._flowNavigationStack.length=0,this._history.pushState(t,null,e),this._notifyListeners({action:this.actions.PUSH_STATE,state:t,url:e})}},replace:{value:function(e,{state:t,flowNavigation:n}={}){n?this._flowNavigationStack.push({url:location.href,state:this._history.state}):this._flowNavigationStack.length=0,this._history.replaceState(t,null,e),this._notifyListeners({action:this.actions.REPLACE_STATE,state:t,url:e})}},pop:{value:function(){if(!this._flowNavigationStack.length)return;const{state:e,url:t}=this._flowNavigationStack.pop();this._history.pushState(e,null,t),this._notifyListeners({action:this.actions.PUSH_STATE,state:e,url:window.location.toString()})}},_notifyListeners:{value:function(e){Object.keys(this._listeners).forEach(function(t){this._listeners[t](e)},this)}},_handlePopState:{value:function(e){this._notifyListeners({action:this.actions.POP_STATE,state:e.state,url:window.location.toString()})}}}),Object.defineProperties(o.prototype,{element:{get:function(){return this._element}},navigationOperation:{get:function(){return this._element.dataset.navOp}},_clickHandler:{value:function(e){if("#"!==this._element.href&&(!this._router.match(this._element.href)||(this._router.isMac?e.metaKey:e.ctrlKey)))return;e.preventDefault();const t={};switch("flowNav"in this._element.dataset&&(t.flowNavigation=!0),this.navigationOperation){case"replace":this._router.history.replace(this._element.href,t);break;case"pop":this._router.history.pop();break;case"push":default:this._router.history.push(this._element.href,t)}}}}),t.a=a},function(e,t,n){"use strict";t.d=function(e,t,n){o=n,c=t,u(e),i.a.ipcRenderer.send("query-asset-download-target",e)},t.b=function(e){u(e.projectId),i.a.ipcRenderer.removeAllListeners("assets-downloaded"),i.a.ipcRenderer.once("assets-downloaded",h),i.a.ipcRenderer.send("download-assets",e)},t.a=function(){if(!l||!c)return;u(l),i.a.ipcRenderer.send("change-asset-download-target",{projectId:l,projectType:c})},t.c=function(){if(!r)return;i.a.ipcRenderer.send("open-item",r)};var i=n(29),a=n(1);const s=document.querySelector("main");let o,r,l,c,d;function u(e){l=e,i.a.ipcRenderer.removeAllListeners(e+":asset-download-target"),i.a.ipcRenderer.once(e+":asset-download-target",(e,t)=>{r=t.projectFolder,o(t)})}function h(e,t){clearTimeout(d),d=setTimeout(()=>{a.V("Exported to "+t.projectName,s)},200),"android"===c&&mixpanel.webapp.track("Exported assets",{folderType:t.projectFolderType,projectType:c})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"manageSuggestedEmojis",function(){return C}),n.d(t,"open",function(){return S}),n.d(t,"close",function(){return k}),n.d(t,"formatEmojiString",function(){return w}),n.d(t,"replace",function(){return y});var i,a,s,o,r=n(1),l=n(375),c=n(437),d=document.getElementById("suggestedEmojisContainer"),u=d.querySelector(".suggestedListBox"),h=document.getElementById("suggestedEmojiTemplate"),p=0,m=[],f=/:(\S+?):/g;function g(e){return e?(o=e,(m=l.a.getSuggestedEmojis(e)).length?(m.forEach(b),d.appendChild(u),!i||function(e){return!m.some(function(t){return t.emoji===e.emoji})}(i)?(p=0,i=m[0]):p=d.querySelector(".suggestedItem[data-emoji='"+i.emoji+"']").dataset.index,d):void(i=null)):(i=null,p=0,void k())}function b(e,t){var n=document.importNode(h.content,!0),i=n.querySelector(".suggestedItem"),a=e.alias.replace(/\s/gi,"_");i.dataset.index=t,i.dataset.emoji=e.emoji,e.customEmoji?(i.querySelector(".emojiImg").src=e.emoji,i.classList.add("customEmoji")):i.querySelector(".emojiChar").textContent=e.emoji,i.querySelector(".emojiAlias").textContent=a,i.querySelector(".emojiAlias").title=a,u.appendChild(n)}function v(e){var t=a.selectionStart,n=a.value.substring(0,t),i=n.length-n.split("").reverse().join("").search(/:/)-1,l=a.value.substring(i,t),c=e.alias.replace(/\s/g,"_");a.value=a.value.substring(0,i)+l.replace(o,c+": ")+a.value.substring(t),s.innerHTML=Object(r.m)(a.value)+"&nbsp;";var d=t-o.length+c.length+2;a.focus(),a.setSelectionRange(d,d),k()}function y(e,t,n){return e.replace(f,function(e,i){var a=l.a.searchEmoji(i);if(a){if(n)return"";if(!a.customEmoji)return a.emoji;if(!t)return'<img class="customEmoji" src="'+a.emoji+'" title="'+i+'">'}return t?e:`<span class="customEmojiPlainText">${e}</span>`})}function C(e,t){if(a=e,s=t,!d.classList.contains("hidden")){var n=d.querySelector(".suggestedItem.selected");n&&(i=m[n.dataset.index])}var r=e.value.substring(0,e.selectionStart),c=r.lastIndexOf(":"),u=e.value.substring(c,e.selectionStart).match(/^:(.+)/);if(u){var h=u[0].substring(1);if(o===h&&!d.classList.contains("hidden"))return;k();var b=r.substring(0,c).lastIndexOf(":"),v=r.substring(b,c+1).match(f);if(v&&l.a.searchEmoji(v[0].substring(1,v[0].length-1)))return;return g(h)}p=0,i=null,k()}function w(e,t){return y(e,t)}function S(){var e={elements:{textContainer:a,suggestedListContainer:d},cb:{autoComplete:v},index:p,list:m};c.b(e)}function k(){c.a()}},function(e,t,n){"use strict";t.a=[{emoji:"😀",aliases:["grinning"]},{emoji:"😃",aliases:["smiley"]},{emoji:"😄",aliases:["smile"]},{emoji:"😁",aliases:["grin"]},{emoji:"😆",aliases:["laughing","satisfied"]},{emoji:"😅",aliases:["sweat smile"]},{emoji:"😂",aliases:["joy"]},{emoji:"🤣",aliases:["rofl"]},{emoji:"☺️",aliases:["relaxed"]},{emoji:"😊",aliases:["blush"]},{emoji:"😇",aliases:["innocent"]},{emoji:"🙂",aliases:["slightly smiling face"]},{emoji:"🙃",aliases:["upside down face"]},{emoji:"😉",aliases:["wink"]},{emoji:"😌",aliases:["relieved"]},{emoji:"😍",aliases:["heart eyes"]},{emoji:"😘",aliases:["kissing heart"]},{emoji:"😗",aliases:["kissing"]},{emoji:"😙",aliases:["kissing smiling eyes"]},{emoji:"😚",aliases:["kissing closed eyes"]},{emoji:"😋",aliases:["yum"]},{emoji:"😜",aliases:["stuck out tongue winking eye"]},{emoji:"😝",aliases:["stuck out tongue closed eyes"]},{emoji:"😛",aliases:["stuck out tongue"]},{emoji:"🤑",aliases:["money mouth face"]},{emoji:"🤗",aliases:["hugs"]},{emoji:"🤓",aliases:["nerd face"]},{emoji:"😎",aliases:["sunglasses"]},{emoji:"🤡",aliases:["clown face"]},{emoji:"🤠",aliases:["cowboy hat face"]},{emoji:"😏",aliases:["smirk"]},{emoji:"😒",aliases:["unamused"]},{emoji:"😞",aliases:["disappointed"]},{emoji:"😔",aliases:["pensive"]},{emoji:"😟",aliases:["worried"]},{emoji:"😕",aliases:["confused"]},{emoji:"🙁",aliases:["slightly frowning face"]},{emoji:"☹️",aliases:["frowning face"]},{emoji:"😣",aliases:["persevere"]},{emoji:"😖",aliases:["confounded"]},{emoji:"😫",aliases:["tired face"]},{emoji:"😩",aliases:["weary"]},{emoji:"😤",aliases:["triumph"]},{emoji:"😠",aliases:["angry"]},{emoji:"😡",aliases:["rage","pout"]},{emoji:"😶",aliases:["no mouth"]},{emoji:"😐",aliases:["neutral face"]},{emoji:"😑",aliases:["expressionless"]},{emoji:"😯",aliases:["hushed"]},{emoji:"😦",aliases:["frowning"]},{emoji:"😧",aliases:["anguished"]},{emoji:"😮",aliases:["open mouth"]},{emoji:"😲",aliases:["astonished"]},{emoji:"😵",aliases:["dizzy face"]},{emoji:"😳",aliases:["flushed"]},{emoji:"😱",aliases:["scream"]},{emoji:"😨",aliases:["fearful"]},{emoji:"😰",aliases:["cold sweat"]},{emoji:"😢",aliases:["cry"]},{emoji:"😥",aliases:["disappointed relieved"]},{emoji:"🤤",aliases:["drooling face"]},{emoji:"😭",aliases:["sob"]},{emoji:"😓",aliases:["sweat"]},{emoji:"😪",aliases:["sleepy"]},{emoji:"😴",aliases:["sleeping"]},{emoji:"🙄",aliases:["roll eyes"]},{emoji:"🤔",aliases:["thinking"]},{emoji:"🤥",aliases:["lying face"]},{emoji:"😬",aliases:["grimacing"]},{emoji:"🤐",aliases:["zipper mouth face"]},{emoji:"🤢",aliases:["nauseated face"]},{emoji:"🤧",aliases:["sneezing face"]},{emoji:"😷",aliases:["mask"]},{emoji:"🤒",aliases:["face with thermometer"]},{emoji:"🤕",aliases:["face with head bandage"]},{emoji:"😈",aliases:["smiling imp"]},{emoji:"👿",aliases:["imp"]},{emoji:"👹",aliases:["japanese ogre"]},{emoji:"👺",aliases:["japanese goblin"]},{emoji:"💩",aliases:["hankey","poop","shit"]},{emoji:"👻",aliases:["ghost"]},{emoji:"💀",aliases:["skull"]},{emoji:"☠️",aliases:["skull and crossbones"]},{emoji:"👽",aliases:["alien"]},{emoji:"👾",aliases:["space invader"]},{emoji:"🤖",aliases:["robot"]},{emoji:"🎃",aliases:["jack o lantern"]},{emoji:"😺",aliases:["smiley cat"]},{emoji:"😸",aliases:["smile cat"]},{emoji:"😹",aliases:["joy cat"]},{emoji:"😻",aliases:["heart eyes cat"]},{emoji:"😼",aliases:["smirk cat"]},{emoji:"😽",aliases:["kissing cat"]},{emoji:"🙀",aliases:["scream cat"]},{emoji:"😿",aliases:["crying cat face"]},{emoji:"😾",aliases:["pouting cat"]},{emoji:"👐",aliases:["open hands"]},{emoji:"🙌",aliases:["raised hands"]},{emoji:"👏",aliases:["clap"]},{emoji:"🙏",aliases:["pray"]},{emoji:"🤝",aliases:["handshake"]},{emoji:"👍",aliases:["+1","thumbsup"]},{emoji:"👎",aliases:["-1","thumbsdown"]},{emoji:"👊",aliases:["fist oncoming","facepunch","punch"]},{emoji:"✊",aliases:["fist raised","fist"]},{emoji:"🤛",aliases:["fist left"]},{emoji:"🤜",aliases:["fist right"]},{emoji:"🤞",aliases:["crossed fingers"]},{emoji:"✌️",aliases:["v"]},{emoji:"🤘",aliases:["metal"]},{emoji:"👌",aliases:["ok hand"]},{emoji:"👈",aliases:["point left"]},{emoji:"👉",aliases:["point right"]},{emoji:"👆",aliases:["point up 2"]},{emoji:"👇",aliases:["point down"]},{emoji:"☝️",aliases:["point up"]},{emoji:"✋",aliases:["hand","raised hand"]},{emoji:"🤚",aliases:["raised back of hand"]},{emoji:"🖐",aliases:["raised hand with fingers splayed"]},{emoji:"🖖",aliases:["vulcan salute"]},{emoji:"👋",aliases:["wave"]},{emoji:"🤙",aliases:["call me hand"]},{emoji:"💪",aliases:["muscle"]},{emoji:"🖕",aliases:["middle finger","fu"]},{emoji:"✍️",aliases:["writing hand"]},{emoji:"🤳",aliases:["selfie"]},{emoji:"💅",aliases:["nail care"]},{emoji:"💍",aliases:["ring"]},{emoji:"💄",aliases:["lipstick"]},{emoji:"💋",aliases:["kiss"]},{emoji:"👄",aliases:["lips"]},{emoji:"👅",aliases:["tongue"]},{emoji:"👂",aliases:["ear"]},{emoji:"👃",aliases:["nose"]},{emoji:"👣",aliases:["footprints"]},{emoji:"👁",aliases:["eye"]},{emoji:"👀",aliases:["eyes"]},{emoji:"🗣",aliases:["speaking head"]},{emoji:"👤",aliases:["bust in silhouette"]},{emoji:"👥",aliases:["busts in silhouette"]},{emoji:"👶",aliases:["baby"]},{emoji:"👦",aliases:["boy"]},{emoji:"👧",aliases:["girl"]},{emoji:"👨",aliases:["man"]},{emoji:"👩",aliases:["woman"]},{emoji:"👱‍♀️‍",aliases:["blonde woman"]},{emoji:"👱",aliases:["blonde man","person with blond hair"]},{emoji:"👴",aliases:["older man"]},{emoji:"👵",aliases:["older woman"]},{emoji:"👲",aliases:["man with gua pi mao"]},{emoji:"👳‍♀️",aliases:["woman with turban"]},{emoji:"👳",aliases:["man with turban"]},{emoji:"👮‍♀️",aliases:["policewoman"]},{emoji:"👮",aliases:["policeman","cop"]},{emoji:"👷‍♀️",aliases:["construction worker woman"]},{emoji:"👷",aliases:["construction worker man","construction worker"]},{emoji:"💂‍♀️",aliases:["guardswoman"]},{emoji:"💂",aliases:["guardsman"]},{emoji:"🕵️‍♀️",aliases:["female detective"]},{emoji:"🕵",aliases:["male detective","detective"]},{emoji:"👩‍⚕️",aliases:["woman health worker"]},{emoji:"👨‍⚕️",aliases:["man health worker"]},{emoji:"👩‍🌾",aliases:["woman farmer"]},{emoji:"👨‍🌾",aliases:["man farmer"]},{emoji:"👩‍🍳",aliases:["woman cook"]},{emoji:"👨‍🍳",aliases:["man cook"]},{emoji:"👩‍🎓",aliases:["woman student"]},{emoji:"👨‍🎓",aliases:["man student"]},{emoji:"👩‍🎤",aliases:["woman singer"]},{emoji:"👨‍🎤",aliases:["man singer"]},{emoji:"👩‍🏫",aliases:["woman teacher"]},{emoji:"👨‍🏫",aliases:["man teacher"]},{emoji:"👩‍🏭",aliases:["woman factory worker"]},{emoji:"👨‍🏭",aliases:["man factory worker"]},{emoji:"👩‍💻",aliases:["woman technologist"]},{emoji:"👨‍💻",aliases:["man technologist"]},{emoji:"👩‍💼",aliases:["woman office worker"]},{emoji:"👨‍💼",aliases:["man office worker"]},{emoji:"👩‍🔧",aliases:["woman mechanic"]},{emoji:"👨‍🔧",aliases:["man mechanic"]},{emoji:"👩‍🔬",aliases:["woman scientist"]},{emoji:"👨‍🔬",aliases:["man scientist"]},{emoji:"👩‍🎨",aliases:["woman artist"]},{emoji:"👨‍🎨",aliases:["man artist"]},{emoji:"👩‍🚒",aliases:["woman firefighter"]},{emoji:"👨‍🚒",aliases:["man firefighter"]},{emoji:"👩‍✈️",aliases:["woman pilot"]},{emoji:"👨‍✈️",aliases:["man pilot"]},{emoji:"👩‍🚀",aliases:["woman astronaut"]},{emoji:"👨‍🚀",aliases:["man astronaut"]},{emoji:"👩‍⚖️",aliases:["woman judge"]},{emoji:"👨‍⚖️",aliases:["man judge"]},{emoji:"🤶",aliases:["mrs claus"]},{emoji:"🎅",aliases:["santa"]},{emoji:"👸",aliases:["princess"]},{emoji:"🤴",aliases:["prince"]},{emoji:"👰",aliases:["bride with veil"]},{emoji:"🤵",aliases:["man in tuxedo"]},{emoji:"👼",aliases:["angel"]},{emoji:"🤰",aliases:["pregnant woman"]},{emoji:"🙇‍♀️",aliases:["bowing woman"]},{emoji:"🙇",aliases:["bowing man","bow"]},{emoji:"💁",aliases:["tipping hand woman","information desk person","sassy woman"]},{emoji:"💁‍♂️",aliases:["tipping hand man","sassy man"]},{emoji:"🙅",aliases:["no good woman","no good","ng woman"]},{emoji:"🙅‍♂️",aliases:["no good man","ng man"]},{emoji:"🙆",aliases:["ok woman"]},{emoji:"🙆‍♂️",aliases:["ok man"]},{emoji:"🙋",aliases:["raising hand woman","raising hand"]},{emoji:"🙋‍♂️",aliases:["raising hand man"]},{emoji:"🤦‍♀️",aliases:["woman facepalming"]},{emoji:"🤦‍♂️",aliases:["man facepalming"]},{emoji:"🤷‍♀️",aliases:["woman shrugging"]},{emoji:"🤷‍♂️",aliases:["man shrugging"]},{emoji:"🙎",aliases:["pouting woman","person with pouting face"]},{emoji:"🙎‍♂️",aliases:["pouting man"]},{emoji:"🙍",aliases:["frowning woman","person frowning"]},{emoji:"🙍‍♂️",aliases:["frowning man"]},{emoji:"💇",aliases:["haircut woman","haircut"]},{emoji:"💇‍♂️",aliases:["haircut man"]},{emoji:"💆",aliases:["massage woman","massage"]},{emoji:"💆‍♂️",aliases:["massage man"]},{emoji:"🕴",aliases:["business suit levitating"]},{emoji:"💃",aliases:["dancer"]},{emoji:"🕺",aliases:["man dancing"]},{emoji:"👯",aliases:["dancing women","dancers"]},{emoji:"👯‍♂️",aliases:["dancing men"]},{emoji:"🚶‍♀️",aliases:["walking woman"]},{emoji:"🚶",aliases:["walking man","walking"]},{emoji:"🏃‍♀️",aliases:["running woman"]},{emoji:"🏃",aliases:["running man","runner","running"]},{emoji:"👫",aliases:["couple"]},{emoji:"👭",aliases:["two women holding hands"]},{emoji:"👬",aliases:["two men holding hands"]},{emoji:"💑",aliases:["couple with heart woman man","couple with heart"]},{emoji:"👩‍❤️‍👩",aliases:["couple with heart woman woman"]},{emoji:"👨‍❤️‍👨",aliases:["couple with heart man man"]},{emoji:"💏",aliases:["couplekiss man woman"]},{emoji:"👩‍❤️‍💋‍👩",aliases:["couplekiss woman woman"]},{emoji:"👨‍❤️‍💋‍👨",aliases:["couplekiss man man"]},{emoji:"👪",aliases:["family man woman boy","family"]},{emoji:"👨‍👩‍👧",aliases:["family man woman girl"]},{emoji:"👨‍👩‍👧‍👦",aliases:["family man woman girl boy"]},{emoji:"👨‍👩‍👦‍👦",aliases:["family man woman boy boy"]},{emoji:"👨‍👩‍👧‍👧",aliases:["family man woman girl girl"]},{emoji:"👩‍👩‍👦",aliases:["family woman woman boy"]},{emoji:"👩‍👩‍👧",aliases:["family woman woman girl"]},{emoji:"👩‍👩‍👧‍👦",aliases:["family woman woman girl boy"]},{emoji:"👩‍👩‍👦‍👦",aliases:["family woman woman boy boy"]},{emoji:"👩‍👩‍👧‍👧",aliases:["family woman woman girl girl"]},{emoji:"👨‍👨‍👦",aliases:["family man man boy"]},{emoji:"👨‍👨‍👧",aliases:["family man man girl"]},{emoji:"👨‍👨‍👧‍👦",aliases:["family man man girl boy"]},{emoji:"👨‍👨‍👦‍👦",aliases:["family man man boy boy"]},{emoji:"👨‍👨‍👧‍👧",aliases:["family man man girl girl"]},{emoji:"👩‍👦",aliases:["family woman boy"]},{emoji:"👩‍👧",aliases:["family woman girl"]},{emoji:"👩‍👧‍👦",aliases:["family woman girl boy"]},{emoji:"👩‍👦‍👦",aliases:["family woman boy boy"]},{emoji:"👩‍👧‍👧",aliases:["family woman girl girl"]},{emoji:"👨‍👦",aliases:["family man boy"]},{emoji:"👨‍👧",aliases:["family man girl"]},{emoji:"👨‍👧‍👦",aliases:["family man girl boy"]},{emoji:"👨‍👦‍👦",aliases:["family man boy boy"]},{emoji:"👨‍👧‍👧",aliases:["family man girl girl"]},{emoji:"👚",aliases:["womans clothes"]},{emoji:"👕",aliases:["shirt","tshirt"]},{emoji:"👖",aliases:["jeans"]},{emoji:"👔",aliases:["necktie"]},{emoji:"👗",aliases:["dress"]},{emoji:"👙",aliases:["bikini"]},{emoji:"👘",aliases:["kimono"]},{emoji:"👠",aliases:["high heel"]},{emoji:"👡",aliases:["sandal"]},{emoji:"👢",aliases:["boot"]},{emoji:"👞",aliases:["mans shoe","shoe"]},{emoji:"👟",aliases:["athletic shoe"]},{emoji:"👒",aliases:["womans hat"]},{emoji:"🎩",aliases:["tophat"]},{emoji:"🎓",aliases:["mortar board"]},{emoji:"👑",aliases:["crown"]},{emoji:"⛑",aliases:["rescue worker helmet"]},{emoji:"🎒",aliases:["school satchel"]},{emoji:"👝",aliases:["pouch"]},{emoji:"👛",aliases:["purse"]},{emoji:"👜",aliases:["handbag"]},{emoji:"💼",aliases:["briefcase"]},{emoji:"👓",aliases:["eyeglasses"]},{emoji:"🕶",aliases:["dark sunglasses"]},{emoji:"🌂",aliases:["closed umbrella"]},{emoji:"☂️",aliases:["open umbrella"]},{emoji:"🐶",aliases:["dog"]},{emoji:"🐱",aliases:["cat"]},{emoji:"🐭",aliases:["mouse"]},{emoji:"🐹",aliases:["hamster"]},{emoji:"🐰",aliases:["rabbit"]},{emoji:"🦊",aliases:["fox face"]},{emoji:"🐻",aliases:["bear"]},{emoji:"🐼",aliases:["panda face"]},{emoji:"🐨",aliases:["koala"]},{emoji:"🐯",aliases:["tiger"]},{emoji:"🦁",aliases:["lion"]},{emoji:"🐮",aliases:["cow"]},{emoji:"🐷",aliases:["pig"]},{emoji:"🐽",aliases:["pig nose"]},{emoji:"🐸",aliases:["frog"]},{emoji:"🐵",aliases:["monkey face"]},{emoji:"🙈",aliases:["see no evil"]},{emoji:"🙉",aliases:["hear no evil"]},{emoji:"🙊",aliases:["speak no evil"]},{emoji:"🐒",aliases:["monkey"]},{emoji:"🐔",aliases:["chicken"]},{emoji:"🐧",aliases:["penguin"]},{emoji:"🐦",aliases:["bird"]},{emoji:"🐤",aliases:["baby chick"]},{emoji:"🐣",aliases:["hatching chick"]},{emoji:"🐥",aliases:["hatched chick"]},{emoji:"🦆",aliases:["duck"]},{emoji:"🦅",aliases:["eagle"]},{emoji:"🦉",aliases:["owl"]},{emoji:"🦇",aliases:["bat"]},{emoji:"🐺",aliases:["wolf"]},{emoji:"🐗",aliases:["boar"]},{emoji:"🐴",aliases:["horse"]},{emoji:"🦄",aliases:["unicorn"]},{emoji:"🐝",aliases:["bee","honeybee"]},{emoji:"🐛",aliases:["bug"]},{emoji:"🦋",aliases:["butterfly"]},{emoji:"🐌",aliases:["snail"]},{emoji:"🐚",aliases:["shell"]},{emoji:"🐞",aliases:["beetle"]},{emoji:"🐜",aliases:["ant"]},{emoji:"🕷",aliases:["spider"]},{emoji:"🕸",aliases:["spider web"]},{emoji:"🐢",aliases:["turtle"]},{emoji:"🐍",aliases:["snake"]},{emoji:"🦎",aliases:["lizard"]},{emoji:"🦂",aliases:["scorpion"]},{emoji:"🦀",aliases:["crab"]},{emoji:"🦑",aliases:["squid"]},{emoji:"🐙",aliases:["octopus"]},{emoji:"🦐",aliases:["shrimp"]},{emoji:"🐠",aliases:["tropical fish"]},{emoji:"🐟",aliases:["fish"]},{emoji:"🐡",aliases:["blowfish"]},{emoji:"🐬",aliases:["dolphin","flipper"]},{emoji:"🦈",aliases:["shark"]},{emoji:"🐳",aliases:["whale"]},{emoji:"🐋",aliases:["whale2"]},{emoji:"🐊",aliases:["crocodile"]},{emoji:"🐆",aliases:["leopard"]},{emoji:"🐅",aliases:["tiger2"]},{emoji:"🐃",aliases:["water buffalo"]},{emoji:"🐂",aliases:["ox"]},{emoji:"🐄",aliases:["cow2"]},{emoji:"🦌",aliases:["deer"]},{emoji:"🐪",aliases:["dromedary camel"]},{emoji:"🐫",aliases:["camel"]},{emoji:"🐘",aliases:["elephant"]},{emoji:"🦏",aliases:["rhinoceros"]},{emoji:"🦍",aliases:["gorilla"]},{emoji:"🐎",aliases:["racehorse"]},{emoji:"🐖",aliases:["pig2"]},{emoji:"🐐",aliases:["goat"]},{emoji:"🐏",aliases:["ram"]},{emoji:"🐑",aliases:["sheep"]},{emoji:"🐕",aliases:["dog2"]},{emoji:"🐩",aliases:["poodle"]},{emoji:"🐈",aliases:["cat2"]},{emoji:"🐓",aliases:["rooster"]},{emoji:"🦃",aliases:["turkey"]},{emoji:"🕊",aliases:["dove"]},{emoji:"🐇",aliases:["rabbit2"]},{emoji:"🐁",aliases:["mouse2"]},{emoji:"🐀",aliases:["rat"]},{emoji:"🐿",aliases:["chipmunk"]},{emoji:"🐾",aliases:["feet","paw prints"]},{emoji:"🐉",aliases:["dragon"]},{emoji:"🐲",aliases:["dragon face"]},{emoji:"🌵",aliases:["cactus"]},{emoji:"🎄",aliases:["christmas tree"]},{emoji:"🌲",aliases:["evergreen tree"]},{emoji:"🌳",aliases:["deciduous tree"]},{emoji:"🌴",aliases:["palm tree"]},{emoji:"🌱",aliases:["seedling"]},{emoji:"🌿",aliases:["herb"]},{emoji:"☘️",aliases:["shamrock"]},{emoji:"🍀",aliases:["four leaf clover"]},{emoji:"🎍",aliases:["bamboo"]},{emoji:"🎋",aliases:["tanabata tree"]},{emoji:"🍃",aliases:["leaves"]},{emoji:"🍂",aliases:["fallen leaf"]},{emoji:"🍁",aliases:["maple leaf"]},{emoji:"🍄",aliases:["mushroom"]},{emoji:"🌾",aliases:["ear of rice"]},{emoji:"💐",aliases:["bouquet"]},{emoji:"🌷",aliases:["tulip"]},{emoji:"🌹",aliases:["rose"]},{emoji:"🥀",aliases:["wilted flower"]},{emoji:"🌻",aliases:["sunflower"]},{emoji:"🌼",aliases:["blossom"]},{emoji:"🌸",aliases:["cherry blossom"]},{emoji:"🌺",aliases:["hibiscus"]},{emoji:"🌎",aliases:["earth americas"]},{emoji:"🌍",aliases:["earth africa"]},{emoji:"🌏",aliases:["earth asia"]},{emoji:"🌕",aliases:["full moon"]},{emoji:"🌖",aliases:["waning gibbous moon"]},{emoji:"🌗",aliases:["last quarter moon"]},{emoji:"🌘",aliases:["waning crescent moon"]},{emoji:"🌑",aliases:["new moon"]},{emoji:"🌒",aliases:["waxing crescent moon"]},{emoji:"🌓",aliases:["first quarter moon"]},{emoji:"🌔",aliases:["moon","waxing gibbous moon"]},{emoji:"🌚",aliases:["new moon with face"]},{emoji:"🌝",aliases:["full moon with face"]},{emoji:"🌞",aliases:["sun with face"]},{emoji:"🌛",aliases:["first quarter moon with face"]},{emoji:"🌜",aliases:["last quarter moon with face"]},{emoji:"🌙",aliases:["crescent moon"]},{emoji:"💫",aliases:["dizzy"]},{emoji:"⭐️",aliases:["star"]},{emoji:"🌟",aliases:["star2"]},{emoji:"✨",aliases:["sparkles"]},{emoji:"⚡️",aliases:["zap"]},{emoji:"🔥",aliases:["fire"]},{emoji:"💥",aliases:["boom","collision"]},{emoji:"☄",aliases:["comet"]},{emoji:"☀️",aliases:["sunny"]},{emoji:"🌤",aliases:["sun behind small cloud"]},{emoji:"⛅️",aliases:["partly sunny"]},{emoji:"🌥",aliases:["sun behind large cloud"]},{emoji:"🌦",aliases:["sun behind rain cloud"]},{emoji:"🌈",aliases:["rainbow"]},{emoji:"☁️",aliases:["cloud"]},{emoji:"🌧",aliases:["cloud with rain"]},{emoji:"⛈",aliases:["cloud with lightning and rain"]},{emoji:"🌩",aliases:["cloud with lightning"]},{emoji:"🌨",aliases:["cloud with snow"]},{emoji:"☃️",aliases:["snowman with snow"]},{emoji:"⛄️",aliases:["snowman"]},{emoji:"❄️",aliases:["snowflake"]},{emoji:"🌬",aliases:["wind face"]},{emoji:"💨",aliases:["dash"]},{emoji:"🌪",aliases:["tornado"]},{emoji:"🌫",aliases:["fog"]},{emoji:"🌊",aliases:["ocean"]},{emoji:"💧",aliases:["droplet"]},{emoji:"💦",aliases:["sweat drops"]},{emoji:"☔️",aliases:["umbrella"]},{emoji:"🍏",aliases:["green apple"]},{emoji:"🍎",aliases:["apple"]},{emoji:"🍐",aliases:["pear"]},{emoji:"🍊",aliases:["tangerine","orange","mandarin"]},{emoji:"🍋",aliases:["lemon"]},{emoji:"🍌",aliases:["banana"]},{emoji:"🍉",aliases:["watermelon"]},{emoji:"🍇",aliases:["grapes"]},{emoji:"🍓",aliases:["strawberry"]},{emoji:"🍈",aliases:["melon"]},{emoji:"🍒",aliases:["cherries"]},{emoji:"🍑",aliases:["peach"]},{emoji:"🍍",aliases:["pineapple"]},{emoji:"🥝",aliases:["kiwi fruit"]},{emoji:"🥑",aliases:["avocado"]},{emoji:"🍅",aliases:["tomato"]},{emoji:"🍆",aliases:["eggplant"]},{emoji:"🥒",aliases:["cucumber"]},{emoji:"🥕",aliases:["carrot"]},{emoji:"🌽",aliases:["corn"]},{emoji:"🌶",aliases:["hot pepper"]},{emoji:"🥔",aliases:["potato"]},{emoji:"🍠",aliases:["sweet potato"]},{emoji:"🌰",aliases:["chestnut"]},{emoji:"🥜",aliases:["peanuts"]},{emoji:"🍯",aliases:["honey pot"]},{emoji:"🥐",aliases:["croissant"]},{emoji:"🍞",aliases:["bread"]},{emoji:"🥖",aliases:["baguette bread"]},{emoji:"🧀",aliases:["cheese"]},{emoji:"🥚",aliases:["egg"]},{emoji:"🍳",aliases:["fried egg"]},{emoji:"🥓",aliases:["bacon"]},{emoji:"🥞",aliases:["pancakes"]},{emoji:"🍤",aliases:["fried shrimp"]},{emoji:"🍗",aliases:["poultry leg"]},{emoji:"🍖",aliases:["meat on bone"]},{emoji:"🍕",aliases:["pizza"]},{emoji:"🌭",aliases:["hotdog"]},{emoji:"🍔",aliases:["hamburger"]},{emoji:"🍟",aliases:["fries"]},{emoji:"🥙",aliases:["stuffed flatbread"]},{emoji:"🌮",aliases:["taco"]},{emoji:"🌯",aliases:["burrito"]},{emoji:"🥗",aliases:["green salad"]},{emoji:"🥘",aliases:["shallow pan of food"]},{emoji:"🍝",aliases:["spaghetti"]},{emoji:"🍜",aliases:["ramen"]},{emoji:"🍲",aliases:["stew"]},{emoji:"🍥",aliases:["fish cake"]},{emoji:"🍣",aliases:["sushi"]},{emoji:"🍱",aliases:["bento"]},{emoji:"🍛",aliases:["curry"]},{emoji:"🍚",aliases:["rice"]},{emoji:"🍙",aliases:["rice ball"]},{emoji:"🍘",aliases:["rice cracker"]},{emoji:"🍢",aliases:["oden"]},{emoji:"🍡",aliases:["dango"]},{emoji:"🍧",aliases:["shaved ice"]},{emoji:"🍨",aliases:["ice cream"]},{emoji:"🍦",aliases:["icecream"]},{emoji:"🍰",aliases:["cake"]},{emoji:"🎂",aliases:["birthday"]},{emoji:"🍮",aliases:["custard"]},{emoji:"🍭",aliases:["lollipop"]},{emoji:"🍬",aliases:["candy"]},{emoji:"🍫",aliases:["chocolate bar"]},{emoji:"🍿",aliases:["popcorn"]},{emoji:"🍩",aliases:["doughnut"]},{emoji:"🍪",aliases:["cookie"]},{emoji:"🥛",aliases:["milk glass"]},{emoji:"🍼",aliases:["baby bottle"]},{emoji:"☕️",aliases:["coffee"]},{emoji:"🍵",aliases:["tea"]},{emoji:"🍶",aliases:["sake"]},{emoji:"🍺",aliases:["beer"]},{emoji:"🍻",aliases:["beers"]},{emoji:"🥂",aliases:["clinking glasses"]},{emoji:"🍷",aliases:["wine glass"]},{emoji:"🥃",aliases:["tumbler glass"]},{emoji:"🍸",aliases:["cocktail"]},{emoji:"🍹",aliases:["tropical drink"]},{emoji:"🍾",aliases:["champagne"]},{emoji:"🥄",aliases:["spoon"]},{emoji:"🍴",aliases:["fork and knife"]},{emoji:"🍽",aliases:["plate with cutlery"]},{emoji:"⚽️",aliases:["soccer"]},{emoji:"🏀",aliases:["basketball"]},{emoji:"🏈",aliases:["football"]},{emoji:"⚾️",aliases:["baseball"]},{emoji:"🎾",aliases:["tennis"]},{emoji:"🏐",aliases:["volleyball"]},{emoji:"🏉",aliases:["rugby football"]},{emoji:"🎱",aliases:["8ball"]},{emoji:"🏓",aliases:["ping pong"]},{emoji:"🏸",aliases:["badminton"]},{emoji:"🥅",aliases:["goal net"]},{emoji:"🏒",aliases:["ice hockey"]},{emoji:"🏑",aliases:["field hockey"]},{emoji:"🏏",aliases:["cricket"]},{emoji:"⛳️",aliases:["golf"]},{emoji:"🏹",aliases:["bow and arrow"]},{emoji:"🎣",aliases:["fishing pole and fish"]},{emoji:"🥊",aliases:["boxing glove"]},{emoji:"🥋",aliases:["martial arts uniform"]},{emoji:"⛸",aliases:["ice skate"]},{emoji:"🎿",aliases:["ski"]},{emoji:"⛷",aliases:["skier"]},{emoji:"🏂",aliases:["snowboarder"]},{emoji:"🏋️‍♀️",aliases:["weight lifting woman"]},{emoji:"🏋",aliases:["weight lifting man"]},{emoji:"🤺",aliases:["person fencing"]},{emoji:"🤼‍♀️",aliases:["women wrestling"]},{emoji:"🤼‍♂️",aliases:["men wrestling"]},{emoji:"🤸‍♀️",aliases:["woman cartwheeling"]},{emoji:"🤸‍♂️",aliases:["man cartwheeling"]},{emoji:"⛹️‍♀️",aliases:["basketball woman"]},{emoji:"⛹",aliases:["basketball man"]},{emoji:"🤾‍♀️",aliases:["woman playing handball"]},{emoji:"🤾‍♂️",aliases:["man playing handball"]},{emoji:"🏌️‍♀️",aliases:["golfing woman"]},{emoji:"🏌",aliases:["golfing man"]},{emoji:"🏄‍♀️",aliases:["surfing woman"]},{emoji:"🏄",aliases:["surfing man","surfer"]},{emoji:"🏊‍♀️",aliases:["swimming woman"]},{emoji:"🏊",aliases:["swimming man","swimmer"]},{emoji:"🤽‍♀️",aliases:["woman playing water polo"]},{emoji:"🤽‍♂️",aliases:["man playing water polo"]},{emoji:"🚣‍♀️",aliases:["rowing woman"]},{emoji:"🚣",aliases:["rowing man","rowboat"]},{emoji:"🏇",aliases:["horse racing"]},{emoji:"🚴‍♀️",aliases:["biking woman"]},{emoji:"🚴",aliases:["biking man","bicyclist"]},{emoji:"🚵‍♀️",aliases:["mountain biking woman"]},{emoji:"🚵",aliases:["mountain biking man","mountain bicyclist"]},{emoji:"🎽",aliases:["running shirt with sash"]},{emoji:"🏅",aliases:["medal sports"]},{emoji:"🎖",aliases:["medal military"]},{emoji:"🥇",aliases:["1st place medal"]},{emoji:"🥈",aliases:["2nd place medal"]},{emoji:"🥉",aliases:["3rd place medal"]},{emoji:"🏆",aliases:["trophy"]},{emoji:"🏵",aliases:["rosette"]},{emoji:"🎗",aliases:["reminder ribbon"]},{emoji:"🎫",aliases:["ticket"]},{emoji:"🎟",aliases:["tickets"]},{emoji:"🎪",aliases:["circus tent"]},{emoji:"🤹‍♀️",aliases:["woman juggling"]},{emoji:"🤹‍♂️",aliases:["man juggling"]},{emoji:"🎭",aliases:["performing arts"]},{emoji:"🎨",aliases:["art"]},{emoji:"🎬",aliases:["clapper"]},{emoji:"🎤",aliases:["microphone"]},{emoji:"🎧",aliases:["headphones"]},{emoji:"🎼",aliases:["musical score"]},{emoji:"🎹",aliases:["musical keyboard"]},{emoji:"🥁",aliases:["drum"]},{emoji:"🎷",aliases:["saxophone"]},{emoji:"🎺",aliases:["trumpet"]},{emoji:"🎸",aliases:["guitar"]},{emoji:"🎻",aliases:["violin"]},{emoji:"🎲",aliases:["game die"]},{emoji:"🎯",aliases:["dart"]},{emoji:"🎳",aliases:["bowling"]},{emoji:"🎮",aliases:["video game"]},{emoji:"🎰",aliases:["slot machine"]},{emoji:"🚗",aliases:["car","red car"]},{emoji:"🚕",aliases:["taxi"]},{emoji:"🚙",aliases:["blue car"]},{emoji:"🚌",aliases:["bus"]},{emoji:"🚎",aliases:["trolleybus"]},{emoji:"🏎",aliases:["racing car"]},{emoji:"🚓",aliases:["police car"]},{emoji:"🚑",aliases:["ambulance"]},{emoji:"🚒",aliases:["fire engine"]},{emoji:"🚐",aliases:["minibus"]},{emoji:"🚚",aliases:["truck"]},{emoji:"🚛",aliases:["articulated lorry"]},{emoji:"🚜",aliases:["tractor"]},{emoji:"🛴",aliases:["kick scooter"]},{emoji:"🚲",aliases:["bike"]},{emoji:"🛵",aliases:["motor scooter"]},{emoji:"🏍",aliases:["motorcycle"]},{emoji:"🚨",aliases:["rotating light"]},{emoji:"🚔",aliases:["oncoming police car"]},{emoji:"🚍",aliases:["oncoming bus"]},{emoji:"🚘",aliases:["oncoming automobile"]},{emoji:"🚖",aliases:["oncoming taxi"]},{emoji:"🚡",aliases:["aerial tramway"]},{emoji:"🚠",aliases:["mountain cableway"]},{emoji:"🚟",aliases:["suspension railway"]},{emoji:"🚃",aliases:["railway car"]},{emoji:"🚋",aliases:["train"]},{emoji:"🚞",aliases:["mountain railway"]},{emoji:"🚝",aliases:["monorail"]},{emoji:"🚄",aliases:["bullettrain side"]},{emoji:"🚅",aliases:["bullettrain front"]},{emoji:"🚈",aliases:["light rail"]},{emoji:"🚂",aliases:["steam locomotive"]},{emoji:"🚆",aliases:["train2"]},{emoji:"🚇",aliases:["metro"]},{emoji:"🚊",aliases:["tram"]},{emoji:"🚉",aliases:["station"]},{emoji:"🚁",aliases:["helicopter"]},{emoji:"🛩",aliases:["small airplane"]},{emoji:"✈️",aliases:["airplane"]},{emoji:"🛫",aliases:["flight departure"]},{emoji:"🛬",aliases:["flight arrival"]},{emoji:"🚀",aliases:["rocket"]},{emoji:"🛰",aliases:["artificial satellite"]},{emoji:"💺",aliases:["seat"]},{emoji:"🛶",aliases:["canoe"]},{emoji:"⛵️",aliases:["boat","sailboat"]},{emoji:"🛥",aliases:["motor boat"]},{emoji:"🚤",aliases:["speedboat"]},{emoji:"🛳",aliases:["passenger ship"]},{emoji:"⛴",aliases:["ferry"]},{emoji:"🚢",aliases:["ship"]},{emoji:"⚓️",aliases:["anchor"]},{emoji:"🚧",aliases:["construction"]},{emoji:"⛽️",aliases:["fuelpump"]},{emoji:"🚏",aliases:["busstop"]},{emoji:"🚦",aliases:["vertical traffic light"]},{emoji:"🚥",aliases:["traffic light"]},{emoji:"🗺",aliases:["world map"]},{emoji:"🗿",aliases:["moyai"]},{emoji:"🗽",aliases:["statue of liberty"]},{emoji:"⛲️",aliases:["fountain"]},{emoji:"🗼",aliases:["tokyo tower"]},{emoji:"🏰",aliases:["european castle"]},{emoji:"🏯",aliases:["japanese castle"]},{emoji:"🏟",aliases:["stadium"]},{emoji:"🎡",aliases:["ferris wheel"]},{emoji:"🎢",aliases:["roller coaster"]},{emoji:"🎠",aliases:["carousel horse"]},{emoji:"⛱",aliases:["parasol on ground"]},{emoji:"🏖",aliases:["beach umbrella"]},{emoji:"🏝",aliases:["desert island"]},{emoji:"⛰",aliases:["mountain"]},{emoji:"🏔",aliases:["mountain snow"]},{emoji:"🗻",aliases:["mount fuji"]},{emoji:"🌋",aliases:["volcano"]},{emoji:"🏜",aliases:["desert"]},{emoji:"🏕",aliases:["camping"]},{emoji:"⛺️",aliases:["tent"]},{emoji:"🛤",aliases:["railway track"]},{emoji:"🛣",aliases:["motorway"]},{emoji:"🏗",aliases:["building construction"]},{emoji:"🏭",aliases:["factory"]},{emoji:"🏠",aliases:["house"]},{emoji:"🏡",aliases:["house with garden"]},{emoji:"🏘",aliases:["houses"]},{emoji:"🏚",aliases:["derelict house"]},{emoji:"🏢",aliases:["office"]},{emoji:"🏬",aliases:["department store"]},{emoji:"🏣",aliases:["post office"]},{emoji:"🏤",aliases:["european post office"]},{emoji:"🏥",aliases:["hospital"]},{emoji:"🏦",aliases:["bank"]},{emoji:"🏨",aliases:["hotel"]},{emoji:"🏪",aliases:["convenience store"]},{emoji:"🏫",aliases:["school"]},{emoji:"🏩",aliases:["love hotel"]},{emoji:"💒",aliases:["wedding"]},{emoji:"🏛",aliases:["classical building"]},{emoji:"⛪️",aliases:["church"]},{emoji:"🕌",aliases:["mosque"]},{emoji:"🕍",aliases:["synagogue"]},{emoji:"🕋",aliases:["kaaba"]},{emoji:"⛩",aliases:["shinto shrine"]},{emoji:"🗾",aliases:["japan"]},{emoji:"🎑",aliases:["rice scene"]},{emoji:"🏞",aliases:["national park"]},{emoji:"🌅",aliases:["sunrise"]},{emoji:"🌄",aliases:["sunrise over mountains"]},{emoji:"🌠",aliases:["stars"]},{emoji:"🎇",aliases:["sparkler"]},{emoji:"🎆",aliases:["fireworks"]},{emoji:"🌇",aliases:["city sunrise"]},{emoji:"🌆",aliases:["city sunset"]},{emoji:"🏙",aliases:["cityscape"]},{emoji:"🌃",aliases:["night with stars"]},{emoji:"🌌",aliases:["milky way"]},{emoji:"🌉",aliases:["bridge at night"]},{emoji:"🌁",aliases:["foggy"]},{emoji:"⌚️",aliases:["watch"]},{emoji:"📱",aliases:["iphone"]},{emoji:"📲",aliases:["calling"]},{emoji:"💻",aliases:["computer"]},{emoji:"⌨️",aliases:["keyboard"]},{emoji:"🖥",aliases:["desktop computer"]},{emoji:"🖨",aliases:["printer"]},{emoji:"🖱",aliases:["computer mouse"]},{emoji:"🖲",aliases:["trackball"]},{emoji:"🕹",aliases:["joystick"]},{emoji:"🗜",aliases:["clamp"]},{emoji:"💽",aliases:["minidisc"]},{emoji:"💾",aliases:["floppy disk"]},{emoji:"💿",aliases:["cd"]},{emoji:"📀",aliases:["dvd"]},{emoji:"📼",aliases:["vhs"]},{emoji:"📷",aliases:["camera"]},{emoji:"📸",aliases:["camera flash"]},{emoji:"📹",aliases:["video camera"]},{emoji:"🎥",aliases:["movie camera"]},{emoji:"📽",aliases:["film projector"]},{emoji:"🎞",aliases:["film strip"]},{emoji:"📞",aliases:["telephone receiver"]},{emoji:"☎️",aliases:["phone","telephone"]},{emoji:"📟",aliases:["pager"]},{emoji:"📠",aliases:["fax"]},{emoji:"📺",aliases:["tv"]},{emoji:"📻",aliases:["radio"]},{emoji:"🎙",aliases:["studio microphone"]},{emoji:"🎚",aliases:["level slider"]},{emoji:"🎛",aliases:["control knobs"]},{emoji:"⏱",aliases:["stopwatch"]},{emoji:"⏲",aliases:["timer clock"]},{emoji:"⏰",aliases:["alarm clock"]},{emoji:"🕰",aliases:["mantelpiece clock"]},{emoji:"⌛️",aliases:["hourglass"]},{emoji:"⏳",aliases:["hourglass flowing sand"]},{emoji:"📡",aliases:["satellite"]},{emoji:"🔋",aliases:["battery"]},{emoji:"🔌",aliases:["electric plug"]},{emoji:"💡",aliases:["bulb"]},{emoji:"🔦",aliases:["flashlight"]},{emoji:"🕯",aliases:["candle"]},{emoji:"🗑",aliases:["wastebasket"]},{emoji:"🛢",aliases:["oil drum"]},{emoji:"💸",aliases:["money with wings"]},{emoji:"💵",aliases:["dollar"]},{emoji:"💴",aliases:["yen"]},{emoji:"💶",aliases:["euro"]},{emoji:"💷",aliases:["pound"]},{emoji:"💰",aliases:["moneybag"]},{emoji:"💳",aliases:["credit card"]},{emoji:"💎",aliases:["gem"]},{emoji:"⚖️",aliases:["balance scale"]},{emoji:"🔧",aliases:["wrench"]},{emoji:"🔨",aliases:["hammer"]},{emoji:"⚒",aliases:["hammer and pick"]},{emoji:"🛠",aliases:["hammer and wrench"]},{emoji:"⛏",aliases:["pick"]},{emoji:"🔩",aliases:["nut and bolt"]},{emoji:"⚙️",aliases:["gear"]},{emoji:"⛓",aliases:["chains"]},{emoji:"🔫",aliases:["gun"]},{emoji:"💣",aliases:["bomb"]},{emoji:"🔪",aliases:["hocho","knife"]},{emoji:"🗡",aliases:["dagger"]},{emoji:"⚔️",aliases:["crossed swords"]},{emoji:"🛡",aliases:["shield"]},{emoji:"🚬",aliases:["smoking"]},{emoji:"⚰️",aliases:["coffin"]},{emoji:"⚱️",aliases:["funeral urn"]},{emoji:"🏺",aliases:["amphora"]},{emoji:"🔮",aliases:["crystal ball"]},{emoji:"📿",aliases:["prayer beads"]},{emoji:"💈",aliases:["barber"]},{emoji:"⚗️",aliases:["alembic"]},{emoji:"🔭",aliases:["telescope"]},{emoji:"🔬",aliases:["microscope"]},{emoji:"🕳",aliases:["hole"]},{emoji:"💊",aliases:["pill"]},{emoji:"💉",aliases:["syringe"]},{emoji:"🌡",aliases:["thermometer"]},{emoji:"🚽",aliases:["toilet"]},{emoji:"🚰",aliases:["potable water"]},{emoji:"🚿",aliases:["shower"]},{emoji:"🛁",aliases:["bathtub"]},{emoji:"🛀",aliases:["bath"]},{emoji:"🛎",aliases:["bellhop bell"]},{emoji:"🔑",aliases:["key"]},{emoji:"🗝",aliases:["old key"]},{emoji:"🚪",aliases:["door"]},{emoji:"🛋",aliases:["couch and lamp"]},{emoji:"🛏",aliases:["bed"]},{emoji:"🛌",aliases:["sleeping bed"]},{emoji:"🖼",aliases:["framed picture"]},{emoji:"🛍",aliases:["shopping"]},{emoji:"🛒",aliases:["shopping cart"]},{emoji:"🎁",aliases:["gift"]},{emoji:"🎈",aliases:["balloon"]},{emoji:"🎏",aliases:["flags"]},{emoji:"🎀",aliases:["ribbon"]},{emoji:"🎊",aliases:["confetti ball"]},{emoji:"🎉",aliases:["tada"]},{emoji:"🎎",aliases:["dolls"]},{emoji:"🏮",aliases:["izakaya lantern","lantern"]},{emoji:"🎐",aliases:["wind chime"]},{emoji:"✉️",aliases:["email","envelope"]},{emoji:"📩",aliases:["envelope with arrow"]},{emoji:"📨",aliases:["incoming envelope"]},{emoji:"📧",aliases:["e-mail"]},{emoji:"💌",aliases:["love letter"]},{emoji:"📥",aliases:["inbox tray"]},{emoji:"📤",aliases:["outbox tray"]},{emoji:"📦",aliases:["package"]},{emoji:"🏷",aliases:["label"]},{emoji:"📪",aliases:["mailbox closed"]},{emoji:"📫",aliases:["mailbox"]},{emoji:"📬",aliases:["mailbox with mail"]},{emoji:"📭",aliases:["mailbox with no mail"]},{emoji:"📮",aliases:["postbox"]},{emoji:"📯",aliases:["postal horn"]},{emoji:"📜",aliases:["scroll"]},{emoji:"📃",aliases:["page with curl"]},{emoji:"📄",aliases:["page facing up"]},{emoji:"📑",aliases:["bookmark tabs"]},{emoji:"📊",aliases:["bar chart"]},{emoji:"📈",aliases:["chart with upwards trend"]},{emoji:"📉",aliases:["chart with downwards trend"]},{emoji:"🗒",aliases:["spiral notepad"]},{emoji:"🗓",aliases:["spiral calendar"]},{emoji:"📆",aliases:["calendar"]},{emoji:"📅",aliases:["date"]},{emoji:"📇",aliases:["card index"]},{emoji:"🗃",aliases:["card file box"]},{emoji:"🗳",aliases:["ballot box"]},{emoji:"🗄",aliases:["file cabinet"]},{emoji:"📋",aliases:["clipboard"]},{emoji:"📁",aliases:["file folder"]},{emoji:"📂",aliases:["open file folder"]},{emoji:"🗂",aliases:["card index dividers"]},{emoji:"🗞",aliases:["newspaper roll"]},{emoji:"📰",aliases:["newspaper"]},{emoji:"📓",aliases:["notebook"]},{emoji:"📔",aliases:["notebook with decorative cover"]},{emoji:"📒",aliases:["ledger"]},{emoji:"📕",aliases:["closed book"]},{emoji:"📗",aliases:["green book"]},{emoji:"📘",aliases:["blue book"]},{emoji:"📙",aliases:["orange book"]},{emoji:"📚",aliases:["books"]},{emoji:"📖",aliases:["book","open book"]},{emoji:"🔖",aliases:["bookmark"]},{emoji:"🔗",aliases:["link"]},{emoji:"📎",aliases:["paperclip"]},{emoji:"🖇",aliases:["paperclips"]},{emoji:"📐",aliases:["triangular ruler"]},{emoji:"📏",aliases:["straight ruler"]},{emoji:"📌",aliases:["pushpin"]},{emoji:"📍",aliases:["round pushpin"]},{emoji:"✂️",aliases:["scissors"]},{emoji:"🖊",aliases:["pen"]},{emoji:"🖋",aliases:["fountain pen"]},{emoji:"✒️",aliases:["black nib"]},{emoji:"🖌",aliases:["paintbrush"]},{emoji:"🖍",aliases:["crayon"]},{emoji:"📝",aliases:["memo","pencil"]},{emoji:"✏️",aliases:["pencil2"]},{emoji:"🔍",aliases:["mag"]},{emoji:"🔎",aliases:["mag right"]},{emoji:"🔏",aliases:["lock with ink pen"]},{emoji:"🔐",aliases:["closed lock with key"]},{emoji:"🔒",aliases:["lock"]},{emoji:"🔓",aliases:["unlock"]},{emoji:"❤️",aliases:["heart"]},{emoji:"💛",aliases:["yellow heart"]},{emoji:"💚",aliases:["green heart"]},{emoji:"💙",aliases:["blue heart"]},{emoji:"💜",aliases:["purple heart"]},{emoji:"🖤",aliases:["black heart"]},{emoji:"💔",aliases:["broken heart"]},{emoji:"❣️",aliases:["heavy heart exclamation"]},{emoji:"💕",aliases:["two hearts"]},{emoji:"💞",aliases:["revolving hearts"]},{emoji:"💓",aliases:["heartbeat"]},{emoji:"💗",aliases:["heartpulse"]},{emoji:"💖",aliases:["sparkling heart"]},{emoji:"💘",aliases:["cupid"]},{emoji:"💝",aliases:["gift heart"]},{emoji:"💟",aliases:["heart decoration"]},{emoji:"☮️",aliases:["peace symbol"]},{emoji:"✝️",aliases:["latin cross"]},{emoji:"☪️",aliases:["star and crescent"]},{emoji:"🕉",aliases:["om"]},{emoji:"☸️",aliases:["wheel of dharma"]},{emoji:"✡️",aliases:["star of david"]},{emoji:"🔯",aliases:["six pointed star"]},{emoji:"🕎",aliases:["menorah"]},{emoji:"☯️",aliases:["yin yang"]},{emoji:"☦️",aliases:["orthodox cross"]},{emoji:"🛐",aliases:["place of worship"]},{emoji:"⛎",aliases:["ophiuchus"]},{emoji:"♈️",aliases:["aries"]},{emoji:"♉️",aliases:["taurus"]},{emoji:"♊️",aliases:["gemini"]},{emoji:"♋️",aliases:["cancer"]},{emoji:"♌️",aliases:["leo"]},{emoji:"♍️",aliases:["virgo"]},{emoji:"♎️",aliases:["libra"]},{emoji:"♏️",aliases:["scorpius"]},{emoji:"♐️",aliases:["sagittarius"]},{emoji:"♑️",aliases:["capricorn"]},{emoji:"♒️",aliases:["aquarius"]},{emoji:"♓️",aliases:["pisces"]},{emoji:"🆔",aliases:["id"]},{emoji:"⚛️",aliases:["atom symbol"]},{emoji:"🉑",aliases:["accept"]},{emoji:"☢️",aliases:["radioactive"]},{emoji:"☣️",aliases:["biohazard"]},{emoji:"📴",aliases:["mobile phone off"]},{emoji:"📳",aliases:["vibration mode"]},{emoji:"🈶",aliases:["u6709"]},{emoji:"🈚️",aliases:["u7121"]},{emoji:"🈸",aliases:["u7533"]},{emoji:"🈺",aliases:["u55b6"]},{emoji:"🈷️",aliases:["u6708"]},{emoji:"✴️",aliases:["eight pointed black star"]},{emoji:"🆚",aliases:["vs"]},{emoji:"💮",aliases:["white flower"]},{emoji:"🉐",aliases:["ideograph advantage"]},{emoji:"㊙️",aliases:["secret"]},{emoji:"㊗️",aliases:["congratulations"]},{emoji:"🈴",aliases:["u5408"]},{emoji:"🈵",aliases:["u6e80"]},{emoji:"🈹",aliases:["u5272"]},{emoji:"🈲",aliases:["u7981"]},{emoji:"🅰️",aliases:["a"]},{emoji:"🅱️",aliases:["b"]},{emoji:"🆎",aliases:["ab"]},{emoji:"🆑",aliases:["cl"]},{emoji:"🅾️",aliases:["o2"]},{emoji:"🆘",aliases:["sos"]},{emoji:"❌",aliases:["x"]},{emoji:"⭕️",aliases:["o"]},{emoji:"🛑",aliases:["stop sign"]},{emoji:"⛔️",aliases:["no entry"]},{emoji:"📛",aliases:["name badge"]},{emoji:"🚫",aliases:["no entry sign"]},{emoji:"💯",aliases:["100"]},{emoji:"💢",aliases:["anger"]},{emoji:"♨️",aliases:["hotsprings"]},{emoji:"🚷",aliases:["no pedestrians"]},{emoji:"🚯",aliases:["do not litter"]},{emoji:"🚳",aliases:["no bicycles"]},{emoji:"🚱",aliases:["non-potable water"]},{emoji:"🔞",aliases:["underage"]},{emoji:"📵",aliases:["no mobile phones"]},{emoji:"🚭",aliases:["no smoking"]},{emoji:"❗️",aliases:["exclamation","heavy exclamation mark"]},{emoji:"❕",aliases:["grey exclamation"]},{emoji:"❓",aliases:["question"]},{emoji:"❔",aliases:["grey question"]},{emoji:"‼️",aliases:["bangbang"]},{emoji:"⁉️",aliases:["interrobang"]},{emoji:"🔅",aliases:["low brightness"]},{emoji:"🔆",aliases:["high brightness"]},{emoji:"〽️",aliases:["part alternation mark"]},{emoji:"⚠️",aliases:["warning"]},{emoji:"🚸",aliases:["children crossing"]},{emoji:"🔱",aliases:["trident"]},{emoji:"⚜️",aliases:["fleur de lis"]},{emoji:"🔰",aliases:["beginner"]},{emoji:"♻️",aliases:["recycle"]},{emoji:"✅",aliases:["white check mark"]},{emoji:"🈯️",aliases:["u6307"]},{emoji:"💹",aliases:["chart"]},{emoji:"❇️",aliases:["sparkle"]},{emoji:"✳️",aliases:["eight spoked asterisk"]},{emoji:"❎",aliases:["negative squared cross mark"]},{emoji:"🌐",aliases:["globe with meridians"]},{emoji:"💠",aliases:["diamond shape with a dot inside"]},{emoji:"Ⓜ️",aliases:["m"]},{emoji:"🌀",aliases:["cyclone"]},{emoji:"💤",aliases:["zzz"]},{emoji:"🏧",aliases:["atm"]},{emoji:"🚾",aliases:["wc"]},{emoji:"♿️",aliases:["wheelchair"]},{emoji:"🅿️",aliases:["parking"]},{emoji:"🈳",aliases:["u7a7a"]},{emoji:"🈂️",aliases:["sa"]},{emoji:"🛂",aliases:["passport control"]},{emoji:"🛃",aliases:["customs"]},{emoji:"🛄",aliases:["baggage claim"]},{emoji:"🛅",aliases:["left luggage"]},{emoji:"🚹",aliases:["mens"]},{emoji:"🚺",aliases:["womens"]},{emoji:"🚼",aliases:["baby symbol"]},{emoji:"🚻",aliases:["restroom"]},{emoji:"🚮",aliases:["put litter in its place"]},{emoji:"🎦",aliases:["cinema"]},{emoji:"📶",aliases:["signal strength"]},{emoji:"🈁",aliases:["koko"]},{emoji:"🔣",aliases:["symbols"]},{emoji:"ℹ️",aliases:["information source"]},{emoji:"🔤",aliases:["abc"]},{emoji:"🔡",aliases:["abcd"]},{emoji:"🔠",aliases:["capital abcd"]},{emoji:"🆖",aliases:["ng"]},{emoji:"🆗",aliases:["ok"]},{emoji:"🆙",aliases:["up"]},{emoji:"🆒",aliases:["cool"]},{emoji:"🆕",aliases:["new"]},{emoji:"🆓",aliases:["free"]},{emoji:"0️⃣",aliases:["zero"]},{emoji:"1️⃣",aliases:["one"]},{emoji:"2️⃣",aliases:["two"]},{emoji:"3️⃣",aliases:["three"]},{emoji:"4️⃣",aliases:["four"]},{emoji:"5️⃣",aliases:["five"]},{emoji:"6️⃣",aliases:["six"]},{emoji:"7️⃣",aliases:["seven"]},{emoji:"8️⃣",aliases:["eight"]},{emoji:"9️⃣",aliases:["nine"]},{emoji:"🔟",aliases:["keycap ten"]},{emoji:"🔢",aliases:["1234"]},{emoji:"#️⃣",aliases:["hash"]},{emoji:"*️⃣",aliases:["asterisk"]},{emoji:"▶️",aliases:["arrow forward"]},{emoji:"⏸",aliases:["pause button"]},{emoji:"⏯",aliases:["play or pause button"]},{emoji:"⏹",aliases:["stop button"]},{emoji:"⏺",aliases:["record button"]},{emoji:"⏭",aliases:["next track button"]},{emoji:"⏮",aliases:["previous track button"]},{emoji:"⏩",aliases:["fast forward"]},{emoji:"⏪",aliases:["rewind"]},{emoji:"⏫",aliases:["arrow double up"]},{emoji:"⏬",aliases:["arrow double down"]},{emoji:"◀️",aliases:["arrow backward"]},{emoji:"🔼",aliases:["arrow up small"]},{emoji:"🔽",aliases:["arrow down small"]},{emoji:"➡️",aliases:["arrow right"]},{emoji:"⬅️",aliases:["arrow left"]},{emoji:"⬆️",aliases:["arrow up"]},{emoji:"⬇️",aliases:["arrow down"]},{emoji:"↗️",aliases:["arrow upper right"]},{emoji:"↘️",aliases:["arrow lower right"]},{emoji:"↙️",aliases:["arrow lower left"]},{emoji:"↖️",aliases:["arrow upper left"]},{emoji:"↕️",aliases:["arrow up down"]},{emoji:"↔️",aliases:["left right arrow"]},{emoji:"↪️",aliases:["arrow right hook"]},{emoji:"↩️",aliases:["leftwards arrow with hook"]},{emoji:"⤴️",aliases:["arrow heading up"]},{emoji:"⤵️",aliases:["arrow heading down"]},{emoji:"🔀",aliases:["twisted rightwards arrows"]},{emoji:"🔁",aliases:["repeat"]},{emoji:"🔂",aliases:["repeat one"]},{emoji:"🔄",aliases:["arrows counterclockwise"]},{emoji:"🔃",aliases:["arrows clockwise"]},{emoji:"🎵",aliases:["musical note"]},{emoji:"🎶",aliases:["notes"]},{emoji:"➕",aliases:["heavy plus sign"]},{emoji:"➖",aliases:["heavy minus sign"]},{emoji:"➗",aliases:["heavy division sign"]},{emoji:"✖️",aliases:["heavy multiplication x"]},{emoji:"💲",aliases:["heavy dollar sign"]},{emoji:"💱",aliases:["currency exchange"]},{emoji:"™️",aliases:["tm"]},{emoji:"©️",aliases:["copyright"]},{emoji:"®️",aliases:["registered"]},{emoji:"〰️",aliases:["wavy dash"]},{emoji:"➰",aliases:["curly loop"]},{emoji:"➿",aliases:["loop"]},{emoji:"🔚",aliases:["end"]},{emoji:"🔙",aliases:["back"]},{emoji:"🔛",aliases:["on"]},{emoji:"🔝",aliases:["top"]},{emoji:"🔜",aliases:["soon"]},{emoji:"✔️",aliases:["heavy check mark"]},{emoji:"☑️",aliases:["ballot box with check"]},{emoji:"🔘",aliases:["radio button"]},{emoji:"⚪️",aliases:["white circle"]},{emoji:"⚫️",aliases:["black circle"]},{emoji:"🔴",aliases:["red circle"]},{emoji:"🔵",aliases:["large blue circle"]},{emoji:"🔺",aliases:["small red triangle"]},{emoji:"🔻",aliases:["small red triangle down"]},{emoji:"🔸",aliases:["small orange diamond"]},{emoji:"🔹",aliases:["small blue diamond"]},{emoji:"🔶",aliases:["large orange diamond"]},{emoji:"🔷",aliases:["large blue diamond"]},{emoji:"🔳",aliases:["white square button"]},{emoji:"🔲",aliases:["black square button"]},{emoji:"▪️",aliases:["black small square"]},{emoji:"▫️",aliases:["white small square"]},{emoji:"◾️",aliases:["black medium small square"]},{emoji:"◽️",aliases:["white medium small square"]},{emoji:"◼️",aliases:["black medium square"]},{emoji:"◻️",aliases:["white medium square"]},{emoji:"⬛️",aliases:["black large square"]},{emoji:"⬜️",aliases:["white large square"]},{emoji:"🔈",aliases:["speaker"]},{emoji:"🔇",aliases:["mute"]},{emoji:"🔉",aliases:["sound"]},{emoji:"🔊",aliases:["loud sound"]},{emoji:"🔔",aliases:["bell"]},{emoji:"🔕",aliases:["no bell"]},{emoji:"📣",aliases:["mega"]},{emoji:"📢",aliases:["loudspeaker"]},{emoji:"👁‍🗨",aliases:["eye speech bubble"]},{emoji:"💬",aliases:["speech balloon"]},{emoji:"💭",aliases:["thought balloon"]},{emoji:"🗯",aliases:["right anger bubble"]},{emoji:"♠️",aliases:["spades"]},{emoji:"♣️",aliases:["clubs"]},{emoji:"♥️",aliases:["hearts"]},{emoji:"♦️",aliases:["diamonds"]},{emoji:"🃏",aliases:["black joker"]},{emoji:"🎴",aliases:["flower playing cards"]},{emoji:"🀄️",aliases:["mahjong"]},{emoji:"🕐",aliases:["clock1"]},{emoji:"🕑",aliases:["clock2"]},{emoji:"🕒",aliases:["clock3"]},{emoji:"🕓",aliases:["clock4"]},{emoji:"🕔",aliases:["clock5"]},{emoji:"🕕",aliases:["clock6"]},{emoji:"🕖",aliases:["clock7"]},{emoji:"🕗",aliases:["clock8"]},{emoji:"🕘",aliases:["clock9"]},{emoji:"🕙",aliases:["clock10"]},{emoji:"🕚",aliases:["clock11"]},{emoji:"🕛",aliases:["clock12"]},{emoji:"🕜",aliases:["clock130"]},{emoji:"🕝",aliases:["clock230"]},{emoji:"🕞",aliases:["clock330"]},{emoji:"🕟",aliases:["clock430"]},{emoji:"🕠",aliases:["clock530"]},{emoji:"🕡",aliases:["clock630"]},{emoji:"🕢",aliases:["clock730"]},{emoji:"🕣",aliases:["clock830"]},{emoji:"🕤",aliases:["clock930"]},{emoji:"🕥",aliases:["clock1030"]},{emoji:"🕦",aliases:["clock1130"]},{emoji:"🕧",aliases:["clock1230"]},{emoji:"🏳️",aliases:["white flag"]},{emoji:"🏴",aliases:["black flag"]},{emoji:"🏁",aliases:["checkered flag"]},{emoji:"🚩",aliases:["triangular flag on post"]},{emoji:"🏳️‍🌈",aliases:["rainbow flag"]},{emoji:"🇦🇫",aliases:["afghanistan"]},{emoji:"🇦🇽",aliases:["aland islands"]},{emoji:"🇦🇱",aliases:["albania"]},{emoji:"🇩🇿",aliases:["algeria"]},{emoji:"🇦🇸",aliases:["american samoa"]},{emoji:"🇦🇩",aliases:["andorra"]},{emoji:"🇦🇴",aliases:["angola"]},{emoji:"🇦🇮",aliases:["anguilla"]},{emoji:"🇦🇶",aliases:["antarctica"]},{emoji:"🇦🇬",aliases:["antigua barbuda"]},{emoji:"🇦🇷",aliases:["argentina"]},{emoji:"🇦🇲",aliases:["armenia"]},{emoji:"🇦🇼",aliases:["aruba"]},{emoji:"🇦🇺",aliases:["australia"]},{emoji:"🇦🇹",aliases:["austria"]},{emoji:"🇦🇿",aliases:["azerbaijan"]},{emoji:"🇧🇸",aliases:["bahamas"]},{emoji:"🇧🇭",aliases:["bahrain"]},{emoji:"🇧🇩",aliases:["bangladesh"]},{emoji:"🇧🇧",aliases:["barbados"]},{emoji:"🇧🇾",aliases:["belarus"]},{emoji:"🇧🇪",aliases:["belgium"]},{emoji:"🇧🇿",aliases:["belize"]},{emoji:"🇧🇯",aliases:["benin"]},{emoji:"🇧🇲",aliases:["bermuda"]},{emoji:"🇧🇹",aliases:["bhutan"]},{emoji:"🇧🇴",aliases:["bolivia"]},{emoji:"🇧🇶",aliases:["caribbean netherlands"]},{emoji:"🇧🇦",aliases:["bosnia herzegovina"]},{emoji:"🇧🇼",aliases:["botswana"]},{emoji:"🇧🇷",aliases:["brazil"]},{emoji:"🇮🇴",aliases:["british indian ocean territory"]},{emoji:"🇻🇬",aliases:["british virgin islands"]},{emoji:"🇧🇳",aliases:["brunei"]},{emoji:"🇧🇬",aliases:["bulgaria"]},{emoji:"🇧🇫",aliases:["burkina faso"]},{emoji:"🇧🇮",aliases:["burundi"]},{emoji:"🇨🇻",aliases:["cape verde"]},{emoji:"🇰🇭",aliases:["cambodia"]},{emoji:"🇨🇲",aliases:["cameroon"]},{emoji:"🇨🇦",aliases:["canada"]},{emoji:"🇮🇨",aliases:["canary islands"]},{emoji:"🇰🇾",aliases:["cayman islands"]},{emoji:"🇨🇫",aliases:["central african republic"]},{emoji:"🇹🇩",aliases:["chad"]},{emoji:"🇨🇱",aliases:["chile"]},{emoji:"🇨🇳",aliases:["cn"]},{emoji:"🇨🇽",aliases:["christmas island"]},{emoji:"🇨🇨",aliases:["cocos islands"]},{emoji:"🇨🇴",aliases:["colombia"]},{emoji:"🇰🇲",aliases:["comoros"]},{emoji:"🇨🇬",aliases:["congo brazzaville"]},{emoji:"🇨🇩",aliases:["congo kinshasa"]},{emoji:"🇨🇰",aliases:["cook islands"]},{emoji:"🇨🇷",aliases:["costa rica"]},{emoji:"🇨🇮",aliases:["cote divoire"]},{emoji:"🇭🇷",aliases:["croatia"]},{emoji:"🇨🇺",aliases:["cuba"]},{emoji:"🇨🇼",aliases:["curacao"]},{emoji:"🇨🇾",aliases:["cyprus"]},{emoji:"🇨🇿",aliases:["czech republic"]},{emoji:"🇩🇰",aliases:["denmark"]},{emoji:"🇩🇯",aliases:["djibouti"]},{emoji:"🇩🇲",aliases:["dominica"]},{emoji:"🇩🇴",aliases:["dominican republic"]},{emoji:"🇪🇨",aliases:["ecuador"]},{emoji:"🇪🇬",aliases:["egypt"]},{emoji:"🇸🇻",aliases:["el salvador"]},{emoji:"🇬🇶",aliases:["equatorial guinea"]},{emoji:"🇪🇷",aliases:["eritrea"]},{emoji:"🇪🇪",aliases:["estonia"]},{emoji:"🇪🇹",aliases:["ethiopia"]},{emoji:"🇪🇺",aliases:["eu","european union"]},{emoji:"🇫🇰",aliases:["falkland islands"]},{emoji:"🇫🇴",aliases:["faroe islands"]},{emoji:"🇫🇯",aliases:["fiji"]},{emoji:"🇫🇮",aliases:["finland"]},{emoji:"🇫🇷",aliases:["fr"]},{emoji:"🇬🇫",aliases:["french guiana"]},{emoji:"🇵🇫",aliases:["french polynesia"]},{emoji:"🇹🇫",aliases:["french southern territories"]},{emoji:"🇬🇦",aliases:["gabon"]},{emoji:"🇬🇲",aliases:["gambia"]},{emoji:"🇬🇪",aliases:["georgia"]},{emoji:"🇩🇪",aliases:["de"]},{emoji:"🇬🇭",aliases:["ghana"]},{emoji:"🇬🇮",aliases:["gibraltar"]},{emoji:"🇬🇷",aliases:["greece"]},{emoji:"🇬🇱",aliases:["greenland"]},{emoji:"🇬🇩",aliases:["grenada"]},{emoji:"🇬🇵",aliases:["guadeloupe"]},{emoji:"🇬🇺",aliases:["guam"]},{emoji:"🇬🇹",aliases:["guatemala"]},{emoji:"🇬🇬",aliases:["guernsey"]},{emoji:"🇬🇳",aliases:["guinea"]},{emoji:"🇬🇼",aliases:["guinea bissau"]},{emoji:"🇬🇾",aliases:["guyana"]},{emoji:"🇭🇹",aliases:["haiti"]},{emoji:"🇭🇳",aliases:["honduras"]},{emoji:"🇭🇰",aliases:["hong kong"]},{emoji:"🇭🇺",aliases:["hungary"]},{emoji:"🇮🇸",aliases:["iceland"]},{emoji:"🇮🇳",aliases:["india"]},{emoji:"🇮🇩",aliases:["indonesia"]},{emoji:"🇮🇷",aliases:["iran"]},{emoji:"🇮🇶",aliases:["iraq"]},{emoji:"🇮🇪",aliases:["ireland"]},{emoji:"🇮🇲",aliases:["isle of man"]},{emoji:"🇮🇱",aliases:["israel"]},{emoji:"🇮🇹",aliases:["it"]},{emoji:"🇯🇲",aliases:["jamaica"]},{emoji:"🇯🇵",aliases:["jp"]},{emoji:"🎌",aliases:["crossed flags"]},{emoji:"🇯🇪",aliases:["jersey"]},{emoji:"🇯🇴",aliases:["jordan"]},{emoji:"🇰🇿",aliases:["kazakhstan"]},{emoji:"🇰🇪",aliases:["kenya"]},{emoji:"🇰🇮",aliases:["kiribati"]},{emoji:"🇽🇰",aliases:["kosovo"]},{emoji:"🇰🇼",aliases:["kuwait"]},{emoji:"🇰🇬",aliases:["kyrgyzstan"]},{emoji:"🇱🇦",aliases:["laos"]},{emoji:"🇱🇻",aliases:["latvia"]},{emoji:"🇱🇧",aliases:["lebanon"]},{emoji:"🇱🇸",aliases:["lesotho"]},{emoji:"🇱🇷",aliases:["liberia"]},{emoji:"🇱🇾",aliases:["libya"]},{emoji:"🇱🇮",aliases:["liechtenstein"]},{emoji:"🇱🇹",aliases:["lithuania"]},{emoji:"🇱🇺",aliases:["luxembourg"]},{emoji:"🇲🇴",aliases:["macau"]},{emoji:"🇲🇰",aliases:["macedonia"]},{emoji:"🇲🇬",aliases:["madagascar"]},{emoji:"🇲🇼",aliases:["malawi"]},{emoji:"🇲🇾",aliases:["malaysia"]},{emoji:"🇲🇻",aliases:["maldives"]},{emoji:"🇲🇱",aliases:["mali"]},{emoji:"🇲🇹",aliases:["malta"]},{emoji:"🇲🇭",aliases:["marshall islands"]},{emoji:"🇲🇶",aliases:["martinique"]},{emoji:"🇲🇷",aliases:["mauritania"]},{emoji:"🇲🇺",aliases:["mauritius"]},{emoji:"🇾🇹",aliases:["mayotte"]},{emoji:"🇲🇽",aliases:["mexico"]},{emoji:"🇫🇲",aliases:["micronesia"]},{emoji:"🇲🇩",aliases:["moldova"]},{emoji:"🇲🇨",aliases:["monaco"]},{emoji:"🇲🇳",aliases:["mongolia"]},{emoji:"🇲🇪",aliases:["montenegro"]},{emoji:"🇲🇸",aliases:["montserrat"]},{emoji:"🇲🇦",aliases:["morocco"]},{emoji:"🇲🇿",aliases:["mozambique"]},{emoji:"🇲🇲",aliases:["myanmar"]},{emoji:"🇳🇦",aliases:["namibia"]},{emoji:"🇳🇷",aliases:["nauru"]},{emoji:"🇳🇵",aliases:["nepal"]},{emoji:"🇳🇱",aliases:["netherlands"]},{emoji:"🇳🇨",aliases:["new caledonia"]},{emoji:"🇳🇿",aliases:["new zealand"]},{emoji:"🇳🇮",aliases:["nicaragua"]},{emoji:"🇳🇪",aliases:["niger"]},{emoji:"🇳🇬",aliases:["nigeria"]},{emoji:"🇳🇺",aliases:["niue"]},{emoji:"🇳🇫",aliases:["norfolk island"]},{emoji:"🇲🇵",aliases:["northern mariana islands"]},{emoji:"🇰🇵",aliases:["north korea"]},{emoji:"🇳🇴",aliases:["norway"]},{emoji:"🇴🇲",aliases:["oman"]},{emoji:"🇵🇰",aliases:["pakistan"]},{emoji:"🇵🇼",aliases:["palau"]},{emoji:"🇵🇸",aliases:["palestinian territories"]},{emoji:"🇵🇦",aliases:["panama"]},{emoji:"🇵🇬",aliases:["papua new guinea"]},{emoji:"🇵🇾",aliases:["paraguay"]},{emoji:"🇵🇪",aliases:["peru"]},{emoji:"🇵🇭",aliases:["philippines"]},{emoji:"🇵🇳",aliases:["pitcairn islands"]},{emoji:"🇵🇱",aliases:["poland"]},{emoji:"🇵🇹",aliases:["portugal"]},{emoji:"🇵🇷",aliases:["puerto rico"]},{emoji:"🇶🇦",aliases:["qatar"]},{emoji:"🇷🇪",aliases:["reunion"]},{emoji:"🇷🇴",aliases:["romania"]},{emoji:"🇷🇺",aliases:["ru"]},{emoji:"🇷🇼",aliases:["rwanda"]},{emoji:"🇧🇱",aliases:["st barthelemy"]},{emoji:"🇸🇭",aliases:["st helena"]},{emoji:"🇰🇳",aliases:["st kitts nevis"]},{emoji:"🇱🇨",aliases:["st lucia"]},{emoji:"🇵🇲",aliases:["st pierre miquelon"]},{emoji:"🇻🇨",aliases:["st vincent grenadines"]},{emoji:"🇼🇸",aliases:["samoa"]},{emoji:"🇸🇲",aliases:["san marino"]},{emoji:"🇸🇹",aliases:["sao tome principe"]},{emoji:"🇸🇦",aliases:["saudi arabia"]},{emoji:"🇸🇳",aliases:["senegal"]},{emoji:"🇷🇸",aliases:["serbia"]},{emoji:"🇸🇨",aliases:["seychelles"]},{emoji:"🇸🇱",aliases:["sierra leone"]},{emoji:"🇸🇬",aliases:["singapore"]},{emoji:"🇸🇽",aliases:["sint maarten"]},{emoji:"🇸🇰",aliases:["slovakia"]},{emoji:"🇸🇮",aliases:["slovenia"]},{emoji:"🇸🇧",aliases:["solomon islands"]},{emoji:"🇸🇴",aliases:["somalia"]},{emoji:"🇿🇦",aliases:["south africa"]},{emoji:"🇬🇸",aliases:["south georgia south sandwich islands"]},{emoji:"🇰🇷",aliases:["kr"]},{emoji:"🇸🇸",aliases:["south sudan"]},{emoji:"🇪🇸",aliases:["es"]},{emoji:"🇱🇰",aliases:["sri lanka"]},{emoji:"🇸🇩",aliases:["sudan"]},{emoji:"🇸🇷",aliases:["suriname"]},{emoji:"🇸🇿",aliases:["swaziland"]},{emoji:"🇸🇪",aliases:["sweden"]},{emoji:"🇨🇭",aliases:["switzerland"]},{emoji:"🇸🇾",aliases:["syria"]},{emoji:"🇹🇼",aliases:["taiwan"]},{emoji:"🇹🇯",aliases:["tajikistan"]},{emoji:"🇹🇿",aliases:["tanzania"]},{emoji:"🇹🇭",aliases:["thailand"]},{emoji:"🇹🇱",aliases:["timor leste"]},{emoji:"🇹🇬",aliases:["togo"]},{emoji:"🇹🇰",aliases:["tokelau"]},{emoji:"🇹🇴",aliases:["tonga"]},{emoji:"🇹🇹",aliases:["trinidad tobago"]},{emoji:"🇹🇳",aliases:["tunisia"]},{emoji:"🇹🇷",aliases:["tr"]},{emoji:"🇹🇲",aliases:["turkmenistan"]},{emoji:"🇹🇨",aliases:["turks caicos islands"]},{emoji:"🇹🇻",aliases:["tuvalu"]},{emoji:"🇺🇬",aliases:["uganda"]},{emoji:"🇺🇦",aliases:["ukraine"]},{emoji:"🇦🇪",aliases:["united arab emirates"]},{emoji:"🇬🇧",aliases:["gb","uk"]},{emoji:"🇺🇸",aliases:["us"]},{emoji:"🇻🇮",aliases:["us virgin islands"]},{emoji:"🇺🇾",aliases:["uruguay"]},{emoji:"🇺🇿",aliases:["uzbekistan"]},{emoji:"🇻🇺",aliases:["vanuatu"]},{emoji:"🇻🇦",aliases:["vatican city"]},{emoji:"🇻🇪",aliases:["venezuela"]},{emoji:"🇻🇳",aliases:["vietnam"]},{emoji:"🇼🇫",aliases:["wallis futuna"]},{emoji:"🇪🇭",aliases:["western sahara"]},{emoji:"🇾🇪",aliases:["yemen"]},{emoji:"🇿🇲",aliases:["zambia"]},{emoji:"🇿🇼",aliases:["zimbabwe"]}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"manageSuggestedUsers",function(){return y}),n.d(t,"checkStatus",function(){return C}),n.d(t,"open",function(){return w}),n.d(t,"close",function(){return S});var i,a,s,o,r,l=n(1),c=n(437),d=document.getElementById("suggestedUsersContainer"),u=d.querySelector(".suggestedListBox"),h=document.getElementById("suggestedUsersTemplate"),p=[],m=0,f=null;function g(){var e=[{user:{username:"everyone",_id:"everyone"},icon:o.icon.type,projectName:o.name}].concat(o.users);if((p=e.filter(({user:e})=>"invited"!==e.status&&("me"===f&&Zeplin.user._id===e._id||e.username.startsWith(f)))).length)return f||(m=1,s=p[1]),p.forEach(b),d.appendChild(u),!s||function(e){return!p.some(function(t){return t.user._id===e.user._id})}(s)||"me"===f?(m=0,s=p[0]):m=d.querySelector(".suggestedItem[data-id='"+s.user._id+"']").dataset.index,d;S()}function b(e,t){var n=document.importNode(h.content,!0),i=n.querySelector(".suggestedItem"),a=n.querySelector(".suggestedUserName"),s=n.querySelector(".everyoneInfo"),o=n.querySelector(".suggestedUserImage"),r=n.querySelector(".projectIcon");i.dataset.id=e.user._id,i.dataset.index=t,a.textContent=e.user.username||e.user.email,a.title=e.user.username||e.user.email,e.user._id===Zeplin.user._id&&a.classList.add("you"),"everyone"===e.user._id?(s.textContent="Notify everyone in "+e.projectName,r.dataset.type=e.icon,o.parentElement.classList.add("hidden")):(s.textContent="",l.U(o,e.user)),u.appendChild(n)}function v(e){var t=i.value.substring(0,i.selectionStart),n=i.value.substring(i.selectionStart),s=e.user.username,o=t.substr(0,t.lastIndexOf("@"))+"@"+s+" ";i.value=o+n,a.innerHTML=l.m(i.value)+"&nbsp;",i.focus(),i.setSelectionRange(o.length+1,o.length+1),S()}function y(e,t,n){if(i=e,a=t,o=n,!d.classList.contains("hidden")){var r=d.querySelector(".suggestedItem.selected");r&&(s=p[r.dataset.index])}var c,u=l.s(i.value.substring(0,i.selectionStart),!0);return c=(c=l.s(i.value.substr(i.selectionStart)))>-1?i.selectionStart+c:0,S(),f=null,"everyone"===(f=c?i.value.substring(u+1,c):i.value.substring(u+1))&&(f=""),g()}function C(){f&&c.b(r)}function w(){r={elements:{textContainer:i,suggestedListContainer:d},cb:{autoComplete:v},index:m,list:p},c.b(r)}function S(){c.a()}},function(e,t,n){"use strict";var i,a,s,o=n(1),r={root:document.body,allowX:!0,allowY:!0,grabDelay:300},l={},c=0,d=!1,u=!1,h=null,p=null,m={x:0,y:0},f={x:0,y:0};function g(e,t){p.classList.add("hidden");var n=document.elementFromPoint(e,t);return p.classList.remove("hidden"),n}function b(){requestAnimationFrame(function(){d&&function(e){var t=f.x,n=f.y;f.x=e.scrollLeft,f.y=e.scrollTop,m.x+=t-f.x,m.y+=n-f.y}(a.root)})}function v(e,t,n){h=e,function(e,t){var n=h.getBoundingClientRect(),i=a.root.getBoundingClientRect();f.x=a.root.scrollLeft,f.y=a.root.scrollTop,m.x=e-(n.left+f.x-i.left),m.y=t-(n.top+f.y-i.top),(p=h.cloneNode(!0)).style.top=t-m.y+"px",p.style.left=e-m.x+"px",p.classList.add("mirror"),a.root.appendChild(p)}(t,n),h.classList.add("target"),d=!0,i=!1,s=a.root.scrollHeight,a.root.addEventListener("scroll",b),a.onGrab&&a.onGrab(h,p)}document.addEventListener("click",function(e){u&&(e.preventDefault(),e.stopImmediatePropagation())},!0),document.addEventListener("mousedown",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT&&!Object(o.H)(e.target)){var t=e.target.closest("[data-drag-id] > *");t&&((a=l[parseInt(t.parentNode.dataset.dragId,10)]).canGrab&&!a.canGrab(t,e.target)||(clearTimeout(i),i=setTimeout(v,a.grabDelay,t,e.clientX,e.clientY)))}}),document.addEventListener("mouseup",function(e){if(u=!1,i)clearTimeout(i),i=!1;else if(d){e.stopPropagation(),u=!0,d=!1,a.root.removeEventListener("scroll",b);var t=Promise.resolve();if(a.onDrop){var n,s,o=g(e.clientX,e.clientY);o&&(n=o.closest('[data-drag-id="'+a.dragId+'"] > *:not(.mirror)'),s=o.closest('[data-drag-id="'+a.dragId+'"]')||o.closest('[data-drop-target-for="'+a.dragId+'"]')),t=a.onDrop(h.parentNode,h,s,n,p)||t}t.then(function(){h.classList.remove("target"),p&&(p.remove(),p=null),h=null,a=null})}}),document.addEventListener("mousemove",function(e){if(d){var t=p.getBoundingClientRect(),n=a.root.getBoundingClientRect();a.allowY&&(e.clientY>window.innerHeight-t.height/10&&a.root.scrollTop+a.root.offsetHeight+t.height/10<s?a.root.scrollTop+=t.height/10:e.clientY<n.top+t.height/10&&a.root.scrollTop>0&&(a.root.scrollTop-=t.height/10))}}),document.addEventListener("mousemove",function(e){if(d){a.allowY&&(p.style.top=e.clientY-m.y+"px"),a.allowX&&(p.style.left=e.clientX-m.x+"px");var t,n,i=g(e.clientX,e.clientY);i&&(t=i.closest('[data-drag-id="'+a.dragId+'"] > *:not(.mirror)'),n=i.closest('[data-drag-id="'+a.dragId+'"]')||i.closest('[data-drop-target-for="'+a.dragId+'"]')),a.onMove(h.parentNode,h,n,t,p)}}),t.a={enable:function(e){[].concat(e).forEach(function(e){(e=Object.assign({},r,e)).containers=[].concat(e.containers).map(function(e){return e.dataset.dragId=c,e}),e.dropTargets=(e.dropTargets||[]).map(function(e){return e.dataset.dropTargetFor=c,e}),e.dragId=c,l[c]=e,c++})},disable:function(e){delete l[e]}}},function(e,t,n){"use strict";n.d(t,"a",function(){return x}),n.d(t,"b",function(){return D});var i=n(9),a=n(10),s=n(1),o=n(27),r=n(4);const l=document.querySelector(".integrationPreferencesContainer"),c=document.querySelector(".integrationPreferencesDialog"),d=document.querySelector(".integrationPreferencesDone"),u=document.getElementById("slackIntegrationPreferenceTemplate"),h=document.querySelector(".integrationPreferences"),p=document.querySelector(".integrationPreferencesHeader span"),m={screens:{name:"Screens",info:"Screen added",events:["screen.created"]},versions:{name:"Screen versions",info:"Version added to screen",events:["screen.version.created"]},components:{name:"Components",info:"Component added or updated on Styleguide",events:["component.created","component.version.created"]},colors:{name:"Colors",info:"Color added, removed or updated on Styleguide",events:["color.created","color.updated","color.deleted"]},textStyles:{name:"Text styles",info:"Text style added, removed or updated on Styleguide",events:["textstyle.created","textstyle.updated","textstyle.deleted"]},notes:{name:"Notes",info:"Note added",events:["dot.created"]},replies:{name:"Replies",info:"Replied to note",events:["dot.comment.created"]},members:{name:"Members",info:"Member invited",events:["project.user.invited"]},extensions:{name:"Extensions",info:"Extension added or removed",events:["project.extension.added","project.extension.removed"]},projectStatus:{name:"Project status",info:"Project archived or activated",events:["project.archived","project.activated"]}},f=Object.keys(m).reduce(function(e,t){return m[t].events.reduce(function(e,n){return e[n]=t,e},e)},{});let g,b,v,y={},C={};function w(e,t){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/integrations/slacks/"+t+"/events",{method:"GET",headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw a.a(e.status,t)})}).then(function(e){return e.events}).catch(function(){})}function S(e){const t=e.target.closest(".integrationPreference"),n=e.target;t.classList.add("loading"),e.target.disabled=!0;const i=n.name;let s;(s=n.checked?function(e,t,n){return m[e].events.reduce(function(e,i){return e.then(function(){return function(e,t,n){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/integrations/slacks/"+t+"/events/"+n,{method:"POST",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw a.a(e.status,t)})}).catch(function(e){a.b(e)})}(t,n,i)})},Promise.resolve())}(i,g,b).then(function(){y[b][i]=Array.from(m[i].events)}):function(e,t,n){return m[e].events.reduce(function(e,i){return e.then(function(){return function(e,t,n){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/integrations/slacks/"+t+"/events/"+n,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw a.a(e.status,t)})}).catch(function(e){a.b(e)})}(t,n,i)})},Promise.resolve())}(i,g,b).then(function(){delete y[b][i]})).then(function(){e.target.disabled=!1,t.classList.remove("loading")}).catch(function(n){e.target.disabled=!1,e.target.checked=!e.target.checked,t.classList.remove("loading"),a.b(n)})}function k(e,t){C[e]=!!t,t&&(y[e]=t.reduce(function(e,t){return f[t]?(e[f[t]]?e[f[t]].push(t):e[f[t]]=[t],e):e},{}))}function E(e,t){document.querySelector(".integrationPreferences input[type='checkbox'][name='"+e+"']").checked=t}function j(){l.classList.add("hidden")}function x(e,t){g=e,function(e,t){C={},y={};const n=t.map(function(t){return w(e,t)});return Promise.all(n).then(function(e){e.forEach(function(e,n){k(t[n],e)})})}(e,t).then(function(t){return function(e){v&&o.c.unsubscribe(v),v=r.p+e;const t=o.c.channel(v)||o.c.subscribe(v);t.bind("AddIntegrationEvent",function(e){if(e.params.pid!==g||"slacks"!==e.params.intype||!y[e.params.inid])return;const t=f[e.params.event];y[e.params.inid][t]?-1===y[e.params.inid][t].indexOf(e.params.event)&&y[e.params.inid][t].push(e.params.event):y[e.params.inid][t]=[e.params.event],l.classList.contains("hidden")||y[e.params.inid][t].length===m[t].events.length&&E(t,!0)}),t.bind("DeleteIntegrationEvent",function(e){const t=f[e.params.event];e.params.pid===g&&"slacks"===e.params.intype&&y[e.params.inid]&&y[e.params.inid][t]&&y[e.params.inid][t].indexOf(e.params.event)>-1&&(s.b(y[e.params.inid][t],function(t){return t===e.params.event}),l.classList.contains("hidden")||E(t,!1))})}(e),t})}function D(e,t){C[e]?(b=e,l.classList.remove("hidden"),p.textContent=t,p.title=t,function(e){Array.from(document.querySelectorAll(".integrationPreferences input[type='checkbox']")).forEach(function(e){e.checked=!1}),Object.keys(y[e]).forEach(function(t){y[e][t].length===m[t].events.length&&E(t,!0)})}(e),h.scrollTop=1,h.scrollTop=0):i.a({message:"Something went wrong while fetching Slack preferences.",done:{name:"TRY AGAIN",cb:function(){w(g,e).then(function(n){k(e,n),D(e,t)})}}})}Object.keys(m).forEach(function(e){const t=m[e],n=document.importNode(u.content,!0),i=n.querySelector(".integrationPreferenceGroupName"),a=n.querySelector(".integrationPreferenceGroupInfo"),s=n.querySelector("input[type='checkbox']");i.textContent=t.name,i.title=t.name,a.textContent=t.info,a.title=t.info,s.name=e,h.appendChild(n)}),l.addEventListener("click",function(e){e.stopPropagation(),j()}),c.addEventListener("click",function(e){e.stopPropagation()}),d.addEventListener("click",function(){j()}),Array.from(document.querySelectorAll(".integrationPreferences input[type='checkbox']")).forEach(function(e){e.addEventListener("change",S)})},function(e,t,n){"use strict";var i=n(582);t.a=i.a},function(e,t,n){"use strict";var i=n(0),a=n(583),s=n(1),o=n(10),r=n(586),l=(n.n(r),Object.freeze({android:"Android",ios:"iOS",osx:"macOS",web:"Web"}));t.a=class extends i.default.Component{constructor(e){super(e),this.closePopup=this.closePopup.bind(this),this.moveHandler=this.moveHandler.bind(this),this.openHandler=this.openHandler.bind(this),this.moveStartHandler=this.moveStartHandler.bind(this),this.state={spinnerIndex:-1,listItems:[],loading:!0}}closePopup(){i.default.render(null,this.base.parentElement,this.base)}getInteractiveItemAtIndex(e){return this.state.listItems.filter(function(e){return"header"!==e.type})[e]}positionPopup(){var e=this.base.getBoundingClientRect(),t=Math.max(108,this.props.top-e.height/2);t=Math.min(t,window.innerHeight-24-e.height);var n=Math.min(this.props.left,window.innerWidth-36-e.width);this.base.style.top=t+"px",this.base.style.left=n+"px"}moveHandler(e){if(-1===this.state.spinnerIndex){if(!this.props.onMove)throw new Error("Prop onMove is required");this.props.onMove(this.getInteractiveItemAtIndex(e),e,this.moveStartHandler,this.closePopup)}}moveStartHandler(e){this.setState({spinnerIndex:e})}openHandler(){this.props.onOpen&&this.props.onOpen()}componentDidMount(){if(this.positionPopup(),this.openHandler(),this.props.projectsLoader){var e=this;e.setState({loading:!0}),this.props.projectsLoader().then(function(t){e.setState({loading:!1,listItems:t})}).catch(o.b)}}componentDidUpdate(){this.positionPopup()}componentWillUnmount(){this.props.onClose&&this.props.onClose()}render(e,t){var n;return n=t.loading?i.default.h("div",{class:"projectListLoading"}):i.default.h(a.a,{projectType:l[e.projectType],density:e.density,items:t.listItems,spinnerIndex:t.spinnerIndex,onSelect:this.moveHandler}),i.default.h("div",{class:"moveToProjectPopup",onClick:s.Z,onContextMenu:s.Z},i.default.h("p",null,"To keep asset sizes and measurements consistent, only ",i.default.h("strong",null,l[e.projectType])," projects with ",i.default.h("strong",null,e.density)," density are listed. Select one or create a new one to move the screen(s):"),n)}}},function(e,t,n){"use strict";var i=n(584);t.a=i.a},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(585),o=(n.n(s),i.default.h("svg",{class:"spinner",width:"12",height:"12",viewBox:"0 0 12 12"},i.default.h("g",{"fill-rule":"evenodd"},i.default.h("path",{d:"M4.328 3.606c-.398.035-.75-.256-.784-.657L3.354.785c-.034-.398.258-.748.658-.783.398-.035.75.257.784.657l.19 2.163c.034.398-.257.748-.658.783z"}),i.default.h("path",{d:"M3.125 5.49c-.257.306-.71.348-1.02.09L.444 4.183c-.306-.257-.348-.71-.09-1.02.258-.305.712-.347 1.02-.088L3.036 4.47c.306.258.348.712.09 1.02z",opacity:".3"}),i.default.h("path",{d:"M3.606 7.672c.035.398-.256.75-.657.784l-2.164.19c-.398.034-.748-.258-.783-.658-.035-.398.257-.75.657-.784l2.163-.19c.398-.034.748.257.783.658z",opacity:".4"}),i.default.h("path",{d:"M5.49 8.875c.306.257.348.71.09 1.02l-1.396 1.662c-.257.306-.71.348-1.02.09-.305-.258-.347-.712-.088-1.02L4.47 8.964c.258-.306.712-.348 1.02-.09z",opacity:".5"}),i.default.h("path",{d:"M7.672 8.394c.398-.035.75.256.784.657l.19 2.164c.034.398-.258.748-.658.783-.398.035-.75-.257-.784-.657l-.19-2.163c-.034-.398.257-.748.658-.783z",opacity:".6"}),i.default.h("path",{d:"M8.875 6.51c.257-.306.71-.348 1.02-.09l1.662 1.396c.306.257.348.71.09 1.02-.258.305-.712.347-1.02.088L8.964 7.53c-.306-.258-.348-.712-.09-1.02z",opacity:".7"}),i.default.h("path",{d:"M8.394 4.328c-.035-.398.256-.75.657-.784l2.164-.19c.398-.034.748.258.783.658.035.398-.257.75-.657.784l-2.163.19c-.398.034-.748-.257-.783-.658z",opacity:".85"}),i.default.h("path",{d:"M6.51 3.125c-.306-.257-.348-.71-.09-1.02L7.817.444c.257-.306.71-.348 1.02-.09.305.258.347.712.088 1.02L7.53 3.036c-.258.306-.712.348-1.02.09z",opacity:".95"}))));class r extends i.default.Component{constructor(e){super(),this.mouseEnterHandler=this.mouseEnterHandler.bind(this),this.mouseMoveHandler=this.mouseMoveHandler.bind(this),this.clickHandler=this.clickHandler.bind(this),this.keydownHandler=this.keydownHandler.bind(this),this.itemCount=r.getInteractiveItemCount(e.items),this.state={selectedIndex:0}}createHeader(e){return i.default.h("h3",{key:e},i.default.h("span",null,e)," ",i.default.h("span",null,"(",this.props.projectType,", ",this.props.density,")"))}createProjectButton(e,t){var n=["newProjectButton"];return t===this.state.selectedIndex&&n.push("selected"),i.default.h("div",{key:e,class:n.join(" "),"data-index":t,"data-oid":e},i.default.h("svg",{class:"plus",width:"24",height:"24"},i.default.h("g",{fill:"none","fill-rule":"evenodd"},i.default.h("circle",{cx:"12",cy:"12",r:"12"}),i.default.h("path",{d:"M13 7.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5V11H7.5a.5.5 0 0 0-.5.5v1c0 .3.2.5.5.5H11v3.5c0 .3.2.5.5.5h1a.5.5 0 0 0 .5-.5V13h3.5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H13V7.5z"}))),i.default.h("div",null,i.default.h("div",null,"New project"),i.default.h("div",null,"Create a new project and transfer screens")),t===this.props.spinnerIndex&&o)}createProjectItem(e,t,n,a){var s=["project"];return n&&s.push("odd"),a===this.state.selectedIndex&&s.push("selected"),i.default.h("div",{key:e,class:s.join(" "),title:t,"data-index":a},i.default.h("span",null,t),a===this.props.spinnerIndex&&o)}static getInteractiveItemCount(e){return e.filter(function(e){return"header"!==e.type}).length}clickHandler(e){e.stopPropagation(),this.props.onSelect&&this.props.onSelect(this.state.selectedIndex)}keydownHandler(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:this.props.onSelect&&this.props.onSelect(this.state.selectedIndex);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),this.setState({selectedIndex:Math.max(0,this.state.selectedIndex-1)});break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),this.setState({selectedIndex:Math.min(this.state.selectedIndex+1,this.itemCount-1)})}}mouseEnterHandler(e){this.lastX=e.clientX,this.lastY=e.clientY}mouseMoveHandler(e){if(e.stopPropagation(),this.lastX!==e.clientX||this.lastY!==e.clientY){var t=e.target.closest("[data-index]");if(t){var n=parseInt(t.dataset.index,10);n!==this.state.selectedIndex&&this.setState({selectedIndex:n}),this.lastX=e.clientX,this.lastY=e.clientY}}}componentDidMount(){document.addEventListener("keydown",this.keydownHandler)}componentWillReceiveProps(e){this.itemCount=r.getInteractiveItemCount(e.items)}componentDidUpdate(){a.S(this.base.querySelector("[data-index='"+this.state.selectedIndex+"']"))}componentWillUnmount(){document.removeEventListener("keydown",this.keydownHandler)}render(e,t){var n=this,a=0,s=!1,o=e.items.map(function(e){switch(e.type){case"header":return n.createHeader(e.content);case"create":return s=!1,n.createProjectButton(e.oid,a++);case"project":return s=!s,n.createProjectItem(e.pid,e.name,s,a++);default:return null}});return i.default.h("div",{class:"projectList",onMouseEnter:this.mouseEnterHandler,onMouseMove:this.mouseMoveHandler,onClick:this.clickHandler},o)}}t.a=r},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(588);t.a=i.a},function(e,t,n){"use strict";var i=n(0),a=n(589),s=n(609),o=n(612);n.n(o);t.a=(({platform:e,supportsFigma:t,supportsXd:n})=>{const o="electron"===e?i.default.h(a.a,{supportsFigma:t,supportsXd:n}):i.default.h(s.a,null);return i.default.h("div",{class:"noScreens"},o)})},function(e,t,n){"use strict";var i=n(590);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(591),s=n(29),o=n(23);function r(e){e.preventDefault(),s.a.shell.openExternal(e.target.href)}t.a=class extends i.default.Component{constructor(e){super(e),this.state={designTool:"photoshop"},this.handleMount=this.handleMount.bind(this),this.handleDesignToolChange=this.handleDesignToolChange.bind(this)}handleMount(){o.c.get("noScreensDesignToolSelection").then(e=>{this.setState({designTool:e})})}handleDesignToolChange(e){const t=e.target.value;this.setState({designTool:t}),o.c.set("noScreensDesignToolSelection",t)}render({supportsFigma:e,supportsXd:t},{designTool:n}){return i.default.h(a.a,{designTool:n,onDesignToolChange:this.handleDesignToolChange,onExternalLinkClicked:r,onMount:this.handleMount,supportsFigma:e,supportsXd:t})}}},function(e,t,n){"use strict";var i=n(0),a=n(592),s=n(595),o=n(438),r=n(602),l=n(605),c=n(608);n.n(c);t.a=function(e){if(e.supportsFigma||e.supportsXd){const t=[i.default.h(a.a.Tab,{value:"xd",description:"Adobe XD CC",width:156},i.default.h(l.a,null)),i.default.h(a.a.Divider,null)],n=[i.default.h(a.a.Tab,{value:"figma",description:"Figma",width:79},i.default.h(r.a,null)),i.default.h(a.a.Divider,null)],s=i.default.h(a.a.Tab,{value:"photoshop",description:"Photoshop",width:127},i.default.h(o.a,{onExternalLinkClicked:e.onExternalLinkClicked}));return i.default.h(a.a,{designTool:e.designTool,onDesignToolChange:e.onDesignToolChange},e.supportsXd&&t,e.supportsFigma&&n,s)}return i.default.h(s.a,{onExternalLinkClicked:e.onExternalLinkClicked})}},function(e,t,n){"use strict";var i=n(593);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(594);n.n(a);class s extends i.default.Component{renderTabs(){const{children:e,designTool:t,onDesignToolChange:n}=this.props;return e.map(e=>e?i.default.cloneElement(e,{onChange:n,designTool:t}):null)}renderActiveTabContent(){const{children:e,designTool:t}=this.props,n=e.find(e=>!!e&&e.attributes.value===t);return n?n.children:null}render({designTool:e}){return i.default.h("div",{class:`noScreensElectron designToolTabs ${e}`},i.default.h("h1",null,"Let’s start by exporting screens from:"),i.default.h("div",{class:"designToolSelection"},this.renderTabs()),this.renderActiveTabContent())}}s.Tab=function({onChange:e,designTool:t,value:n,description:a,width:s}){return i.default.h("label",{style:{width:s}},i.default.h("input",{name:"noScreensElectronDesignTool",value:n,type:"radio",checked:t===n,onChange:e}),i.default.h("span",null,a))},s.Divider=(()=>i.default.h("hr",null)),t.a=s},function(e,t){},function(e,t,n){"use strict";var i=n(596);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(438),s=n(601);n.n(s);t.a=function({onExternalLinkClicked:e}){return i.default.h("div",{class:"noScreensElectron photoshopOnly"},i.default.h("h1",null,"Designers!"),i.default.h("h2",null,"Let’s start by exporting screens from Photoshop:"),i.default.h(a.a,{onExternalLinkClicked:e,longInstallPanelInfo:!0,withToolToZeplinMargin:!0}),i.default.h("h1",null,"Developers!"),i.default.h("h2",{class:"inviteYourDesigner"},"Invite your designer to upload screens:"),i.default.h("h3",{class:"inviteYourDesignerInfo"},"You can invite your designer from the 'Members' section."))}},function(e,t,n){"use strict";var i=n(0),a=n(377),s=n(5),o=n(600);n.n(o);const r=[i.default.h("img",{class:"psLogo",src:s.b("img/icLogoPS.png"),srcset:s.c(s.b("img/icLogoPS.png"))}),i.default.h("img",{class:"psToZeplinLogo",src:s.b("img/icDashboardPSToZeplin.svg")})];function l({onExternalLinkClicked:e,longInstallPanelInfo:t}){return i.default.h("ol",{class:"photoshopSteps"},i.default.h("li",null,i.default.h("div",null,i.default.h("div",null,"Open your Photoshop file"),i.default.h("img",{src:s.b("img/icPSLogoGrayscale.png"),srcset:s.c(s.b("img/icPSLogoGrayscale.png"))}))),i.default.h("li",null,i.default.h("div",null,"Select artboards (or layers in artboards) and click:"),i.default.h("img",{class:"ssDashboardEmpty",src:s.b("img/ss/ssDashboardEmpty.png"),srcset:s.c(s.b("img/ss/ssDashboardEmpty.png"))}),t?i.default.h("div",{class:"installPanelInfo"},"If you can’t see the panel under ",i.default.h("code",null,"“Window > Extensions > Zeplin”"),", check how it’s installed from ",i.default.h("a",{onClick:e,target:"_blank",href:"https://support.zeplin.io/photoshop-integration/installing-photoshop-plugin-on-windows"},"here"),"."):i.default.h("div",{class:"installPanelInfo"},"If you can’t see the panel, install it from ",i.default.h("a",{onClick:e,target:"_blank",href:"https://support.zeplin.io/photoshop-integration/installing-photoshop-plugin-on-windows"},"here"),".")))}t.a=function({onExternalLinkClicked:e,longInstallPanelInfo:t,withToolToZeplinMargin:n=!0}){return i.default.h("div",{class:"photoshopContainer"},i.default.h(a.a,{images:r,withMargin:n}),i.default.h(l,{onExternalLinkClicked:e,longInstallPanelInfo:t}))}},function(e,t,n){"use strict";var i=n(0),a=n(5),s=n(3),o=n(599);n.n(o);t.a=function({images:e,withMargin:t}){return i.default.h("div",{class:Object(s.a)("toolToZeplin",{withMargin:t})},e,i.default.h("img",{class:"zeplinLogo",src:Object(a.b)("img/icZeplin.svg")}))}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(603);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(377),s=n(5),o=n(604);n.n(o);const r=[i.default.h("img",{class:"figmaLogo",src:s.b("img/icDshbrdFigma.svg")}),i.default.h("img",{class:"figmaToZeplinLogo",src:s.b("img/figmaDashboardPSToZeplin.svg")})],l=i.default.h("ol",{class:"figmaSteps"},i.default.h("li",null,i.default.h("div",null,"Enable the integration on Figma. From the menu, "),i.default.h("div",null,"select ",i.default.h("strong",null,"“Integrations > Zeplin”:")),i.default.h("img",{src:s.b("img/imgFigmaMenuIntegration.png"),srcset:s.c(s.b("img/imgFigmaMenuIntegration.png"))})),i.default.h("li",null,i.default.h("div",null,"Select a frame in your Figma file.")),i.default.h("li",null,i.default.h("div",null,"Press ",i.default.h("strong",null,"Alt+E")," or select ",i.default.h("strong",null,"“Export to Zeplin”")," under the Export menu:"),i.default.h("div",null,i.default.h("img",{src:s.b("img/icFigmaShortcut.svg")}),i.default.h("div",null,"or"),i.default.h("img",{src:s.b("img/imgFigmaMenuExport.png"),srcset:s.c(s.b("img/imgFigmaMenuExport.png"))}))));t.a=function(){return i.default.h("div",{class:"figmaContainer"},i.default.h(a.a,{images:r,withMargin:!0}),l)}},function(e,t){},function(e,t,n){"use strict";var i=n(606);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(377),s=n(5),o=n(607);n.n(o);const r=[i.default.h("img",{class:"xdLogo",src:s.b("img/icLogoXD.png"),srcset:s.c(s.b("img/icLogoXD.png"))}),i.default.h("img",{class:"xdEmoji",src:s.b("img/emjPointRight.png"),srcset:s.c(s.b("img/emjPointRight.png"))})],l=i.default.h("ol",{class:"xdSteps"},i.default.h("li",null,"Select an artboard in your file."),i.default.h("li",null,i.default.h("div",null,"Select ",i.default.h("strong",null,"“Zeplin”")," under ",i.default.h("strong",null,"“File > Export”"),"."),i.default.h("img",{class:"ssMenuExport",src:s.b("img/imgXDMenuExport.png"),srcset:s.c(s.b("img/imgXDMenuExport.png"))}),i.default.h("div",{class:"additionalInfo"},i.default.h("p",null,i.default.h("img",{class:"emoji",src:s.b("img/emjPointUp@17w.png"),srcset:`${s.b("img/emjPointUp@34w.png")} 2x, ${s.b("img/emjPointUp@51w.png")} 3x`}),"You can use the shortcut ",i.default.h("strong",null,"Ctrl+Alt+E"),", on your next export."),i.default.h("img",{src:s.b("img/icXDShortcut.png"),srcset:s.c(s.b("img/icXDShortcut.png"))}))));t.a=function(){return i.default.h("div",{class:"xdContainer"},i.default.h(a.a,{images:r,withMargin:!0}),l)}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(610);t.a=i.a},function(e,t,n){"use strict";var i=n(0),a=n(611);n.n(a);t.a=(()=>i.default.h("div",{class:"noScreensWebApp"},i.default.h("h1",null,"Here, you’ll see a list of screens after the designs are uploaded from Sketch, Adobe XD CC, Figma or Photoshop CC."),i.default.h("div",{class:"screenSilhouettes"},i.default.h("div",{class:"screenSilhouette"}),i.default.h("div",{class:"screenSilhouette"}),i.default.h("div",{class:"screenSilhouette"}),i.default.h("div",{class:"screenSilhouette"}),i.default.h("div",{class:"screenSilhouette"}),i.default.h("div",{class:"screenSilhouette"})),i.default.h("p",null,"Screens can be uploaded from macOS or Windows apps",i.default.h("span",{class:"downloadApp"},", if you are a designer you can ",i.default.h("a",{href:"https://zpl.io/download"},"download them from here"),"!"),i.default.h("br",null),i.default.h("br",null),"To learn more about how to export from ",i.default.h("a",{href:"https://zpl.io/demo",target:"_blank",rel:"noopener noreferrer external"},"Sketch"),", ",i.default.h("a",{href:"https://www.youtube.com/watch?v=PI-0v40gc_8",target:"_blank",rel:"noopener noreferrer external"},"Adobe XD CC"),", ",i.default.h("a",{href:"https://www.youtube.com/watch?v=ASCFEK_VBVY",target:"_blank",rel:"noopener noreferrer external"},"Figma")," or ",i.default.h("a",{href:"https://www.youtube.com/watch?v=0cVbzq-Q43M",target:"_blank",rel:"noopener noreferrer external"},"Photoshop CC"),", follow the links for a short demo.")))},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(614);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(11),s=n(615);n.n(s);t.a=class extends i.default.Component{constructor(e){super(e),this.centerLoadingScreens=this.centerLoadingScreens.bind(this)}centerLoadingScreens(){const{screenGridLoading:e}=this.nodeRefs;e.style.width=244*Math.floor(this.base.clientWidth/244)+"px",this.centerLoadingTimeout=setTimeout(this.centerLoadingScreens,1e3)}componentDidMount(){CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||this.centerLoadingScreens()}componentWillUnmount(){clearTimeout(this.centerLoadingTimeout)}render(){return i.default.h("div",{class:"projectOverviewLoading"},i.default.h("div",{class:"menubarLoading"},i.default.h("div",{class:"loadingItem"}),i.default.h("div",{class:"loadingItem"})),i.default.h("div",{class:"tagsLoading"},i.default.h("div",{class:"loadingItem"}),i.default.h("div",{class:"loadingItem"}),i.default.h("div",{class:"loadingItem"}),i.default.h("div",{class:"loadingItem"}),i.default.h("div",{class:"loadingItem"})),i.default.h("div",{class:"screenGridLoading",ref:Object(a.a)(this,"screenGridLoading")},i.default.h("div",{class:"screenLoading loadingItem"}),i.default.h("div",{class:"screenLoading loadingItem"}),i.default.h("div",{class:"screenLoading loadingItem"}),i.default.h("div",{class:"screenLoading loadingItem"}),i.default.h("div",{class:"screenLoading loadingItem"}),i.default.h("div",{class:"screenLoading loadingItem"})))}}},function(e,t){},function(e,t,n){"use strict";var i=n(617);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(34),s=n(148),o=n(1),r=n(157),l=n(378),c=n(439),d=n(632),u=n(158),h=n(189),p=n(56),m=n(59),f=n(638),g=n(639),b=n(648);n.n(b);const v=[{description:"Copy Web Link",onClick:u.a.copyWebLink},{description:"Copy App URI",onClick:u.a.copyAppURI}],y=[{description:"Copy link",onClick:u.a.copySceneLink},{check:e=>o.O.canChangeProjectAccesibility(e),description:"Unshare",onClick:u.a.unshareScene}];const C=Object(h.a)(Object(f.a)(class extends a.a{constructor(e){super(e),this.renderDensityChangeAction=this.renderDensityChangeAction.bind(this),this.renderSceneAction=this.renderSceneAction.bind(this),this.renderExtensionsAction=this.renderExtensionsAction.bind(this),this.handleRenameProject=this.handleRenameProject.bind(this)}handleRenameProject(e){e.target.value!==this.props.name&&u.a.renameProject(e.target.value)}renderDensityChangeAction(){if(!this.props.hover)return null;const{currentUser:e,canManageProject:t}=this.context,n=t?"Update project density.":Object(m.a)(e.role,"update project density");return i.default.h(c.a,{onClick:u.a.openDensityChangeModal,class:"changeDensityButton",disabled:!t,tooltipContent:n},i.default.h("svg",{width:"16",height:"16"},i.default.h("path",{fill:"#554d56","fill-rule":"evenodd",d:"M10.928 2.202L3.494 9.636c-.393.393-.394 1.036.002 1.432l1.438 1.438c.4.4 1.037.397 1.432.002L13.8 5.074l-2.872-2.872zm.933-.933l.976-.975c.394-.395 1.032-.395 1.43.003l1.438 1.436c.396.396.395 1.04.002 1.432l-.972.973-2.872-2.87zM.2 15.684c-.192-.193-.256-.552-.147-.793l1.42-3.124c.224-.493.717-.58 1.1-.196l1.853 1.85c.384.386.3.877-.196 1.102l-3.124 1.42c-.245.112-.6.046-.792-.146l-.114-.11z"})))}renderProjectLinkCopyAction(){return i.default.h(c.a.withMenu,{menuActions:v},i.default.h("svg",{width:"13",height:"16"},i.default.h("g",{fill:"#554d56","fill-rule":"evenodd"},i.default.h("path",{d:"M0 4.63C0 3.73.74 3 1.66 3h6.68C9.26 3 10 3.73 10 4.63v9.74c0 .9-.74 1.63-1.66 1.63H1.66C.74 16 0 15.27 0 14.37V4.63zM8 4c.55 0 1 .44 1 1v9c0 .55-.45 1-1 1H2c-.55 0-1-.44-1-1V5c0-.55.45-1 1-1h6z"}),i.default.h("path",{d:"M12 11.65c.62-.7 1-1.63 1-2.65V2c0-1.1-.9-2-2-2H6C5 0 4.06.38 3.36 1H11c.55 0 1 .46 1 1v9.65z"}))))}renderSceneAction(){const e=i.default.h("svg",{width:"13",height:"16",viewBox:"0 0 13 16"},i.default.h("g",{fill:"#554d56","fill-rule":"evenodd"},i.default.h("path",{d:"M6 1h.954v10H6z"}),i.default.h("path",{d:"M0 7.998C0 7.448.447 7 1 7h11c.553 0 1 .446 1 .998v7.004c0 .55-.447.998-1 .998H1c-.553 0-1-.446-1-.998V7.998zm1 1.005C1 8.45 1.445 8 1.996 8h9.008c.55 0 .996.438.996 1.003v4.994c0 .554-.445 1.003-.996 1.003H1.996C1.446 15 1 14.562 1 13.997V9.003zM3 7h7v1H3V7zM6.707 0l4.243 4.243-.707.707L6 .707z"}),i.default.h("path",{d:"M6.243 0L2 4.243l.707.707L6.95.707z"})));if(this.props.public){const t=y.filter(e=>!e.check||e.check(this.context.currentUser));return i.default.h(c.a.withMenu,{menuActions:t},e)}return i.default.h(c.a,{onClick:u.a.openShareSceneDialog},e)}renderExtensionsAction(){return i.default.h(c.a,{onClick:u.a.openExtensionSettings},i.default.h("svg",{width:"16",height:"16",viewBox:"0 0 16 16"},i.default.h("path",{fill:"#554D56","fill-rule":"evenodd",d:"M7.437 3.5a2 2 0 0 1-3.874 0H.5a.5.5 0 0 1 0-1H3.563a2 2 0 0 1 3.874 0H15.5a.5.5 0 1 1 0 1H7.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4a2 2 0 0 1 3.874 0H15.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H.5a.5.5 0 0 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H15.5a.5.5 0 1 1 0 1H5.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"})))}renderProjectNameTextInput(){const{name:e}=this.props,{canManageProject:t,currentUser:n}=this.context,a=i.default.h(r.a,{class:"projectName",minlength:"1",maxlength:"100",blurOnEnter:!0,discardOnESC:!0,readonly:!t,onBlur:this.handleRenameProject,ellipsized:!0,value:e});return t?a:i.default.h(p.a,{content:Object(m.a)(n.role,"rename projects.")},a)}render(e){const{initialWidth:t,type:n,density:a,loading:o,shortUrl:r="Fetcing…",extensionTitles:c="…",members:h,isOrganizationProject:p,slackChannels:m,showSlackReconnectionAuntie:f,hideAddToSlack:b,addUserButtonRef:v}=e;if(o)return i.default.h("div",{class:"projectSidebar projectSidebarLoading"});const y=this.renderDensityChangeAction(),C=this.renderProjectLinkCopyAction(),w=this.renderSceneAction(),S=this.renderExtensionsAction();return i.default.h(s.a,{class:"projectSidebar",minWidth:260,onResize:u.a.setSectionHeadersPadding,onRelease:u.a.setProjectSidebarWidth,initialWidth:t},this.renderProjectNameTextInput(),i.default.h(l.a,{title:"Type",value:n}),i.default.h(l.a,{title:"Density",value:a,actionRightAligned:!1,action:y}),i.default.h(l.a,{title:"Project Link",value:r,onCopy:u.a.copyWebLink,action:C}),i.default.h(g.a,{slackChannels:m,hideAddToSlack:b,showChannelAction:this.props.hover,showSlackReconnectionAuntie:f}),i.default.h(l.a,{title:"Scene",info:"Only designs & styleguide",action:w}),i.default.h(l.a,{title:"Extensions",info:c,action:S}),i.default.h(d.a,{members:h,isOrganizationProject:p,addUserButtonRef:v}))}}));t.a=(e=>i.default.h(C,Object.assign({},e,{class:"projectSidebarWrapper",ignoreOverlays:!1})))},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(3),r=n(11),l=n(619);n.n(l);const c={pointer:{down:"pointerdown",move:"pointermove",up:"pointerup"},touch:{down:"touchstart",move:"touchmove",up:"touchend"},mouse:{down:"mousedown",move:"mousemove",up:"mouseup"}};function d(e){const t="PointerEvent"in window?"pointer":"ontouchstart"in document?"touch":"mouse";return c[t][e]}class u extends i.default.Component{constructor(e){super(e),this.handleResizerMouseDown=this.handleResizerMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleResizingClick=this.handleResizingClick.bind(this);const{initialWidth:t=0,minWidth:n=0}=e;this.state={cursorType:"resize",width:Math.max(t,n),collapsed:!1,resizing:!1}}updateCursorType(){const{collapsed:e,width:t,cursorType:n}=this.state,{minWidth:i=0,resizingSide:a}=this.props,{clientWidth:s}=this.base;let o;(o=e||t<i?"left"===a?"west":"east":Math.floor(t)>s?"right"===a?"west":"east":Math.floor(t)===s&&"resize"!==n?n:"resize")!==n&&(document.body.dataset.resizeCursor=o,this.setState({cursorType:o}))}handleMouseMove(e){e.preventDefault(),requestAnimationFrame(()=>{const{minWidth:t=0,resizingSide:n}=this.props;let{collapsed:i}=this.state;const{left:a,right:s}=this.base.getBoundingClientRect(),o=e.clientX||e.changedTouches&&e.changedTouches[0].clientX;let r;if(o){if(r="right"===n?Math.max(0,o-a):Math.max(0,s-o),i){if(r<t/2)return;i=!1,r=Math.max(r,t)}else if(r<t){if(r>t/2)return;i=!0}this.setState({collapsed:i,width:r})}})}handleMouseUp(e){document.removeEventListener(d("move"),this.handleMouseMove),document.removeEventListener(d("up"),this.handleMouseUp),e.stopPropagation(),requestAnimationFrame(()=>{const{onRelease:e}=this.props,t=this.base.clientWidth;document.body.classList.remove("resizing"),delete document.body.dataset.resizeCursor,e&&e(t),this.setState({width:t,resizing:!1})})}handleResizerMouseDown(){document.addEventListener(d("move"),this.handleMouseMove),document.addEventListener(d("up"),this.handleMouseUp),document.addEventListener("click",this.handleResizingClick,!0),document.body.classList.add("resizing"),document.body.dataset.resizeCursor=this.state.cursorType,this.setState({resizing:!0})}handleResizingClick(e){e.stopImmediatePropagation(),e.stopPropagation(),document.removeEventListener("click",this.handleResizingClick,!0)}componentDidMount(){this.nodeRefs.resizer.addEventListener(d("down"),this.handleResizerMouseDown)}componentDidUpdate(e,t){this.updateCursorType(),this.props.onResize&&t.width!==this.state.width&&this.props.onResize(this.base.clientWidth)}componentWillUnmount(){document.removeEventListener(d("move"),this.handleMouseMove),document.removeEventListener(d("up"),this.handleMouseUp),this.nodeRefs.resizer.removeEventListener(d("down"),this.handleResizerMouseDown)}render(e,t){const{collapsed:n,resizing:a,width:s,cursorType:l}=t,{children:c,class:d,resizingSide:u="left",compact:h,minWidth:p,onClick:m,baseRef:f}=e,g={},b=Object(o.a)("sidebar",d,u,{resizing:a,collapsed:n,compact:h});return n||Object.assign(g,{minWidth:p?`${p}px`:"",width:s?`${s}px`:""}),i.default.h("div",{class:b,style:g,onClick:m,ref:f},i.default.h("div",{class:"content"},n&&h?c.map(e=>"string"==typeof e?e:i.default.cloneElement(e,{compact:!0})):c),i.default.h("div",{class:Object(o.a)("resizer",`cursor${l}`),ref:Object(r.a)(this,"resizer")},i.default.h("div",{class:"resizerIcon"},i.default.h("div",null),i.default.h("div",null),i.default.h("div",null))))}}u.propTypes={children:s.a.oneOfType([s.a.node,s.a.element]),class:s.a.string,compact:s.a.bool,initialWidth:s.a.number,minWidth:s.a.number,resizingSide:s.a.oneOf(["left","right"]),onRelease:s.a.func,onResize:s.a.func},u.defaultProps={resizingSide:"left"},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(34),s=n(3),o=n(2),r=n.n(o),l=n(621);n.n(l);class c extends a.a{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){this.props.discardOnESC&&e.keyCode===Zeplin.KEY_CODE.ESC&&(e.target.value=this.props.value,e.target.blur(),e.preventDefault()),this.props.blurOnEnter&&e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.target.blur(),e.preventDefault()),this.props.onKeyDown&&this.props.onKeyDown(e)}render(e){const{prefix:t,suffix:n,blurOnEnter:a,discardOnESC:o,class:r,ellipsized:l,inputRef:c,type:d}=e,u=Object.assign({},e);return delete u.class,delete u.inputRef,delete u.ellipsized,delete u.blurOnEnter,delete u.discardOnESC,(a||o)&&(u.onKeyDown=this.handleKeyDown),l&&(u.class="ellipsis"),i.default.h("div",{class:Object(s.a)("textInput",r,{withPrefix:!!t,withSuffix:!!n}),"data-suffix":n,"data-prefix":t},i.default.h("input",Object.assign(u,{type:d||"text",ref:c})),i.default.h("div",{class:"inputMirror"}))}}c.propTypes={suffix:r.a.string,prefix:r.a.string,inputRef:r.a.func,ellipsized:r.a.bool,blurOnEnter:r.a.bool,discardOnESC:r.a.bool},t.a=c},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(1),o=n(623);n.n(o);t.a=class extends i.default.Component{constructor(e){super(e),this.handleCopy=this.handleCopy.bind(this)}handleCopy(e){const{value:t,onCopy:n}=this.props;if(!n)return;const i=window.getSelection().toString().trim();i&&i!==t||(e.preventDefault(),n(),Object(s.T)(e.target))}render(e){const{actionRightAligned:t=!0,title:n,info:s,value:o,action:r}=e,l=Object(a.a)("descriptionCell",{bigger:!!s}),c=Object(a.a)("valueWrapper","ellipsis",{grows:t}),d=Object(a.a)("titleWrapper",{grows:!o});return i.default.h("div",{class:l},n&&i.default.h("div",{class:d},i.default.h("div",{class:"title"},n,":"),s&&i.default.h("div",{class:"info ellipsis",title:s},s)),o&&i.default.h("div",{class:c},i.default.h("span",{class:"value",onFocus:this.handleCopy,onCopy:this.handleCopy,tabIndex:"1"},o)),r)}}},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(440),s=n(379),o=n(14),r=n(56),l=n(631),c=(n.n(l),n(3));function d(e){const{onClick:t,menuOpen:n,disabled:a,tooltipContent:s,children:l,class:d}=e,u=Object(c.a)("sidebarActionButton",{menuOpen:n,disabled:a},d),h=i.default.h(o.a,{class:u,onClick:t,disabled:a},l);return s?i.default.h(r.a,{content:s},h):h}function u(e,t){return class extends i.default.Component{constructor(e){super(e),this.state={sidebarMenuOpen:!1},this.handleClick=this.handleClick.bind(this),this.handleClose=this.handleClose.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this)}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.handleClose()}handleClick(){this.setState({sidebarMenuOpen:!0}),this.props.onMenuOpen&&this.props.onMenuOpen()}handleClose(){this.setState({sidebarMenuOpen:!1}),this.props.onMenuClose&&this.props.onMenuClose()}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeydown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeydown)}render(n,a){const s=Object.assign({},n,{onClick:this.handleClick,menuOpen:a.sidebarMenuOpen}),o=n.menuActions;return i.default.h("div",null,i.default.h(t,s),a.sidebarMenuOpen&&e(o,this.handleClose))}}}d.withMenu=u(function(e,t){return i.default.h(a.a,{onClose:t,class:"sidebarActionMenu"},e.map(e=>i.default.h(a.a.Button,{key:e.description,onActionClick:e.onClick},e.description)))},d),d.withContextMenu=u(function(e,t){return i.default.h(s.a,{onClose:t,class:"sidebarContextMenu"},e.map(e=>i.default.h(s.a.Item,{key:e.description,warning:e.warning,onClick:e.onClick},e.description)))},d),t.a=d},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(3),o=n(11),r=n(5),l=n(626);n.n(l);class c extends i.default.Component{constructor(e){super(e),this.showSubmenu=this.showSubmenu.bind(this),this.hideSubmenu=this.hideSubmenu.bind(this),this.state={open:!1,direction:"right"}}hideSubmenu(){this.setState({open:!1})}positionSubmenu(){if(!this.state.open)return;const e=this.context.edgeOffset,t=this.base.getBoundingClientRect(),n=this.nodeRefs.submenu.getBoundingClientRect(),i=window.innerWidth>=t.right+n.width+e?"right":"left";let a=0;n.top<e?a=e:n.bottom+e>window.innerHeight&&(a=window.innerHeight-n.bottom-e),0!==a&&(this.nodeRefs.submenu.style.transform="translate3d(0, "+a+"px, 0)"),i!==this.state.direction&&this.setState({direction:i})}showSubmenu(){this.setState({open:!0})}componentDidMount(){this.positionSubmenu()}componentDidUpdate(){this.positionSubmenu()}render(e,t){return i.default.h("label",{for:"sidebarSubmenu",class:"sidebarSubmenu",onMouseEnter:this.showSubmenu,onMouseLeave:this.hideSubmenu},i.default.h("span",null,e.content||e.name),i.default.h("img",{src:r.b("img/icMenuArrow.svg"),alt:">",class:"menuChevron"}),t.open&&i.default.h("div",{ref:Object(o.a)(this,"submenu"),class:Object(s.a)("submenu",t.direction)},e.children))}}class d extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this)}get edgeOffset(){return this.props.edgeOffset||12}handleClick(e,t){this.props.onChange&&this.props.onChange(e,t),this.props.onClose()}handleDocumentClick(e){this.base.contains(e.target)||this.props.onClose()}componentDidMount(){document.addEventListener("click",this.handleDocumentClick,!0)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}getChildContext(){return{edgeOffset:this.edgeOffset}}render(e){const t=Object(s.a)("zplSidebarMenu",e.class);return i.default.h("div",{onClick:a.Z,class:t},e.children.map(e=>i.default.cloneElement(e,{onClick:this.handleClick})))}}d.Submenu=c,d.Picker=class extends i.default.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e){this.props.onClick&&this.props.onClick(this.props.name,e.target.value)}render(e){const t=e.options.map(t=>{const n=t.value===e.value,{value:a,name:s}=t;return i.default.h("label",{key:s+"-"+a},i.default.h("span",null,s),i.default.h("input",{onClick:this.clickHandler,type:"radio",name:e.name,value:a,checked:n}),i.default.h("img",{src:r.b("img/icMenuCheck.svg"),alt:"&check;"}))});if(e.submenu){let n=e.name;if(e.content){const t=e.options.find(t=>t.value===e.value).name;n=e.content+" ("+t+")"}return i.default.h(c,{content:n},t)}return i.default.h("div",null,t)}},d.Switch=class extends i.default.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e){this.props.onClick&&this.props.onClick(this.props.name,e.target.checked)}render(e){const t=e.content||e.name;return i.default.h("label",null,i.default.h("span",null,t),i.default.h("input",{onClick:this.clickHandler,type:"checkbox",name:e.name,checked:e.value}),i.default.h("img",{src:r.b("img/icMenuCheck.svg"),alt:"&check;"}))}},d.Button=class extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){this.props.onActionClick(e),this.props.onClick()}render({children:e}){return i.default.h("label",null,i.default.h("span",null,e),i.default.h("input",{onClick:this.handleClick,type:"button"}))}},d.Divider=function(){return i.default.h("hr",null)},t.a=d},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(11),o=n(628);n.n(o);class r extends i.default.Component{constructor(e){super(e),this.handleOnClose=this.handleOnClose.bind(this)}handleOnClose(){this.props.onClose&&this.props.onClose()}componentDidMount(){document.addEventListener("contextmenu",this.handleOnClose,!0),document.addEventListener("click",this.handleOnClose,!0)}componentWillUnmount(){document.removeEventListener("contextmenu",this.handleOnClose,!0),document.removeEventListener("click",this.handleOnClose,!0)}render(e){const{children:t,toLeft:n,toTop:s,class:o,style:r}=e;return i.default.h("div",{class:Object(a.a)("contextMenu",o,{toLeft:n,toTop:s}),style:r},t)}}r.Item=function(e){const{children:t,warning:n,onClick:s}=e;return i.default.h("button",{type:"button",class:Object(a.a)("menuitem",{warning:n}),onClick:s},t)},r.ItemDivider=(()=>i.default.h("hr",null)),r.withAutoPosition=class extends i.default.Component{constructor(e){super(e),this.state={top:null,left:null,toLeft:!1,toTop:!1}}autoPosition(){const{autoPosition:e}=this.props;if(!e)return;const{sidebar:t,menuContainer:n,clickOrigin:i}=e,{left:a,top:s,toLeft:o,toTop:r}=this.state,l=this.nodeRefs.contextMenu.base,c=("string"==typeof n?document.querySelector(n):n).getBoundingClientRect(),d="string"==typeof t?document.querySelector(t):t,u=d?d.getBoundingClientRect().width:0,h=i.x-c.left+2+"px",p=i.y-c.top+2+"px",m=i.x+u+l.offsetWidth>window.innerWidth,f=i.y+l.offsetHeight>window.innerHeight;h===a&&p===s&&m===o&&f===r||this.setState({left:h,top:p,toLeft:m,toTop:f})}resetAutoPosition(){const{autoPosition:e}=this.props;e&&this.setState({left:null,top:null,toLeft:!1,toTop:!1})}componentDidMount(){this.autoPosition()}componentWillReceiveProps(){this.resetAutoPosition()}componentDidUpdate(){this.autoPosition()}render(e,t){const n=Object.assign({},e),{class:o,autoPosition:l}=n;delete n.autoPosition;const{left:c,top:d,toLeft:u,toTop:h}=t,p=l?l.zIndex:null;return i.default.h(r,Object.assign({},n,{toTop:h,toLeft:u,class:Object(a.a)(o,{autoPositioned:!!l}),style:{left:c,top:d,zIndex:p},ref:Object(s.a)(this,"contextMenu")}))}},t.a=r},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(1),r=n(49),l=n(11),c=n(630);n.n(c);const d=500,u=200,h=12,p=2;class m extends i.default.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleTargetClick=this.handleTargetClick.bind(this),this.handleTooltipDidRender=this.handleTooltipDidRender.bind(this),this.state={visible:!1}}get delay(){const{delay:e}=this.props;return void 0===e?d:e}handleMouseEnter(){clearTimeout(this.hideTimeout),clearTimeout(this.showTimeout),this.state.visible||(this.showTimeout=setTimeout(()=>{this.setState({visible:!0})},this.delay))}handleMouseLeave(){clearTimeout(this.hideTimeout),clearTimeout(this.showTimeout),this.hideTimeout=setTimeout(()=>{this.setState({visible:!1})},u)}handleTargetClick(){this.setState({visible:!1})}handleTooltipDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect();let i=t.bottom-p,a=t.left+(t.width-n.width)/2;a<h?a=h:a+n.width+h>window.innerWidth&&(a=window.innerWidth-h-n.width),i+n.height+h>window.innerHeight&&(i=i-n.height-h),e.style.transform=`translate3d(${a}px, ${i}px, 0)`}renderTooltip(){const{content:e}=this.props;return i.default.h("div",{class:"tooltip",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:o.Z},e)}render(e,t){const{children:n,targetClass:a}=e,{visible:s}=t;return i.default.h("div",{ref:Object(l.a)(this,"target"),class:a,onClick:this.handleTargetClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},n,s&&i.default.h(r.a,{didRender:this.handleTooltipDidRender},this.renderTooltip()))}}m.propTypes={children:s.a.oneOfType([s.a.node,s.a.element]).isRequired,content:s.a.oneOfType([s.a.node,s.a.element]).isRequired,delay:s.a.number,targetClass:s.a.string},m.defaultProps={delay:500},t.a=m},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(633);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(34),r=n(634),l=n(14),c=n(158),d=n(1),u=n(5),h=n(11),p=n(637);n.n(p);const m=i.default.h("div",{class:"membersLonely"},i.default.h("div",{class:"cmonText"},"😒 C’mon it’s a collaboration app, invite your team members!"),i.default.h("img",{src:Object(u.b)("img/icArrowMember.svg"),class:"memberArrow"}));function f(e){e.stopPropagation(),c.a.showInvitePopup()}const g=!CSS.supports("position","sticky");class b extends o.a{constructor(e){super(e),this.handleScroll=Object(d.j)(this.handleScroll,!0).bind(this)}handleScroll(){const e=this.base.getBoundingClientRect().top-this.nodeRefs.header.clientHeight<=0;this.nodeRefs.header.classList.toggle("absolute",e),this.nodeRefs.headerPlaceholder.classList.toggle("hidden",!e)}componentDidMount(){g&&(this.handleScroll(),this.base.parentNode.addEventListener("scroll",this.handleScroll))}componentWillUnmount(){g&&this.base.parentNode.removeEventListener("scroll",this.handleScroll)}render({members:e,addUserButtonRef:t}){return i.default.h("div",{class:"projectSidebarMembers"},g&&i.default.h("div",{class:"membersHeaderPlaceholder hidden",ref:Object(h.a)(this,"headerPlaceholder")}),i.default.h("div",{class:"membersHeader",ref:Object(h.a)(this,"header")},i.default.h("h1",null,"Members"),i.default.h(l.a,{type:"button",onClick:f,ref:t},"Invite")),1===e.length&&m,i.default.h("div",{class:"memberList"},e.map(e=>i.default.h(r.a,{key:e.user._id,member:e,isOrganizationProject:this.props.isOrganizationProject}))))}}b.propTypes={isOrganizationProject:s.a.bool,members:s.a.arrayOf(s.a.shape({user:s.a.shape({_id:s.a.string.isRequired,email:s.a.string,emotar:s.a.string,username:s.a.string,status:s.a.string,avatar:s.a.string}),role:s.a.string})).isRequired},t.a=b},function(e,t,n){"use strict";var i=n(635);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(158),s=n(1),o=n(636),r=n(443);n.n(r);const l=60,c={check:(e,t)=>e.user._id!==t.user._id&&s.O.isSuperior(e,t,!0),generate:e=>({description:"Remove from project",onClick:e.handleRemoveMember,warning:!0})},d={check:(e,t)=>e.user._id===t.user._id,generate:e=>({description:"Leave project",onClick:e.handleLeave,warning:!0})},u=[{check:(e,t)=>"user"!==e.role&&"user"===t.role,generate:e=>({description:"Assign admin",onClick:e.handleAssignAdmin,warning:!1})},{check:(e,t)=>"user"!==e.role&&"admin"===t.role,generate:e=>({description:"Unassign admin",onClick:e.handleUnassignAdmin,warning:!1})},{check:s.O.canTransferOwnership,generate:e=>({description:"Transfer ownership",onClick:e.handleTransferOwnership,warning:!1})},c,d],h=[c,d];t.a=class extends i.default.Component{constructor(e){super(e),this.handleAssignAdmin=this.handleAssignAdmin.bind(this),this.handleUnassignAdmin=this.handleUnassignAdmin.bind(this),this.handleTransferOwnership=this.handleTransferOwnership.bind(this),this.handleRemoveMember=this.handleRemoveMember.bind(this),this.handleLeave=this.handleLeave.bind(this)}get memberActions(){const{isOrganizationProject:e,member:t}=this.props,{currentUser:n}=this.context;if("owner"!==t.role&&!s.O.isSuperior(t,n))return(e?h:u).filter(e=>e.check(n,t)).map(e=>e.generate(this))}handleAssignAdmin(){a.a.assignAdmin(this.props.member)}handleUnassignAdmin(){a.a.unassignAdmin(this.props.member)}handleTransferOwnership(){a.a.transferOwnership(this.props.member)}handleRemoveMember(){a.a.removeMember(this.props.member)}handleLeave(){a.a.leave(this.props.member)}render({member:e}){const t=e.user.username||e.user.email,n="invited"===e.user.status?"Pending Invitation":Object(s.D)(e.role),a=Object(s.C)(e.user,{ignoreRandomEmotar:!1,size:l});return i.default.h(o.a,{avatar:a,name:t,role:n,actions:this.memberActions})}}},function(e,t,n){"use strict";var i=n(0),a=n(34),s=n(35),o=n(379),r=n(3),l=n(11),c=n(5),d=n(443);n.n(d);t.a=class extends a.a{constructor(e){super(e),this.state={memberMenuOpen:!1},this.showMenu=this.showMenu.bind(this),this.hideMenu=this.hideMenu.bind(this),this.renderMemberActions=this.renderMemberActions.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this)}showMenu(){this.setState({memberMenuOpen:!0})}hideMenu(){this.setState({memberMenuOpen:!1})}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.hideMenu()}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeydown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeydown)}renderMemberActions(e){return e?i.default.h(o.a,{onClose:this.hideMenu},e.map(e=>i.default.h(o.a.Item,{key:e.description,warning:e.warning,onClick:e.onClick},e.description))):null}render({avatar:e,name:t,role:n,actions:a},{memberMenuOpen:o}){return i.default.h("div",{class:"memberRow"},i.default.h(s.a,{width:"60",height:"60",class:"memberImageFrame",src:e.src,srcset:e.srcset}),i.default.h("div",{class:"memberInfo"},i.default.h("div",{class:"memberName",title:t},t),n&&i.default.h("div",{class:"memberRole"},n)),a&&i.default.h("button",{type:"button",ref:Object(l.a)(this,"actionButton"),class:Object(r.a)("memberActionsButton",{memberMenuOpen:o}),onClick:this.showMenu},i.default.h("img",{src:Object(c.b)("img/icMemberMenu.svg")})),o&&i.default.h("div",{class:"actionsMenuContainer"},this.renderMemberActions(a)))}}},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(34);t.a=function(Component){return class extends s.a{getChildContext(){if(this.props.loading)return null;const{currentUser:e}=this.props;return{currentUser:e,canManageProject:a.O.canUpdateProject(e)}}render(e){const t=Object.assign({},e);return delete t.currentUser,i.default.h(Component,t)}}}},function(e,t,n){"use strict";var i=n(640);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(59),o=n(34),r=n(14),l=n(56),c=n(378),d=n(158),u=n(407),h=n(641),p=n(646),m=n(647);n.n(m);t.a=class extends o.a{constructor(e){super(e),this.renderSlackButtonAction=this.renderSlackButtonAction.bind(this),this.handleReconnectSlackIntegration=this.handleReconnectSlackIntegration.bind(this)}handleReconnectSlackIntegration(){d.a.reconnectSlackIntegration(this.props.slackChannels[0]),d.a.hideSlackReconnectionAuntie()}renderSlackReconnectionAuntie(){const e=this.props.slackChannels.filter(e=>!e.scope.includes("emoji"));return 0===e.length?null:e.length>1?i.default.h(u.a,{content:"You can now use your custom Slack emojis in Zeplin! Remove an existing integration and re-add it to get started.",hideCallback:d.a.hideSlackReconnectionAuntie}):i.default.h(u.a,{content:"You can now use your custom Slack emojis in Zeplin! Reconnect Slack to get started.",actionButton:{text:"Reconnect",callback:this.handleReconnectSlackIntegration},hideCallback:d.a.hideSlackReconnectionAuntie})}renderSlackButtonAction(){const{currentUser:e,canManageProject:t}=this.context,n=Object(a.a)("slackButton",{disabled:!t});return i.default.h(r.a,{type:"button",disabled:!t,class:n,onClick:d.a.addToSlack},i.default.h("div",null,t&&[i.default.h(p.a,{key:"slackLogo",class:"slackLogo"}),i.default.h("span",{key:"addToSlackText"},"Add to ",i.default.h("strong",null,"Slack"))],!t&&i.default.h(l.a,{content:Object(s.a)(e.role,"add projects to Slack")},i.default.h(p.a,{key:"slackLogo",disabled:!0}),i.default.h("span",null,"Add to ",i.default.h("strong",null,"Slack")))))}render({slackChannels:e,showSlackReconnectionAuntie:t,hideAddToSlack:n}){if(!e&&n)return null;if(!e){const e=this.renderSlackButtonAction();return i.default.h(c.a,{title:"Integrations",action:e})}return i.default.h("div",null,e.map(e=>i.default.h(h.a,{key:e._id,channel:e,hideAddToSlack:this.props.hideAddToSlack,showChannelAction:this.props.showChannelAction})),t&&this.renderSlackReconnectionAuntie())}}},function(e,t,n){"use strict";var i=n(642);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(643),s=n(158),o=n(34);const r=[];t.a=class extends o.a{constructor(e){super(e),this.handleViewInSlackClick=this.handleViewInSlackClick.bind(this),this.handlePreferencesClick=this.handlePreferencesClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this)}get slackChannelActions(){if(!this.context.canManageProject)return r;const e=[{description:"View In Slack",onClick:this.handleViewInSlackClick},{description:"Preferences…",onClick:this.handlePreferencesClick},{description:"Remove",onClick:this.handleRemoveClick,warning:!0}];return this.props.hideAddToSlack||e.unshift({description:"Add another…",onClick:s.a.addToSlack}),e}handleViewInSlackClick(){const{channel:e}=this.props;s.a.openLink(e.incomingWebHook.configurationURL)}handlePreferencesClick(){s.a.openSlackPreferences(this.props.channel)}handleRemoveClick(){s.a.removeSlackIntegration(this.props.channel)}render({channel:e,showChannelAction:t}){const n=this.slackChannelActions;return i.default.h(a.a,{channel:e,showAction:t,actions:n})}}},function(e,t,n){"use strict";var i=n(0),a=n(59),s=n(34),o=n(378),r=n(439),l=n(444),c=n(645);n.n(c);const d=i.default.h("svg",{width:"16",height:"16",viewBox:"0 0 16 16"},i.default.h("path",{fill:"#554D56","fill-rule":"evenodd",d:"M7.437 3.5a2 2 0 0 1-3.874 0H.5a.5.5 0 0 1 0-1H3.563a2 2 0 0 1 3.874 0H15.5a.5.5 0 1 1 0 1H7.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4a2 2 0 0 1 3.874 0H15.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H.5a.5.5 0 0 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H15.5a.5.5 0 1 1 0 1H5.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"}));t.a=class extends s.a{constructor(e){super(e),this.state={sidebarActionMenuOpen:!1},this.handleSidebarMenuOpen=this.handleSidebarMenuOpen.bind(this),this.handleSidebarMenuClose=this.handleSidebarMenuClose.bind(this),this.renderSlackChannelAction=this.renderSlackChannelAction.bind(this)}handleSidebarMenuOpen(){this.setState({sidebarActionMenuOpen:!0})}handleSidebarMenuClose(){this.setState({sidebarActionMenuOpen:!1})}renderSlackChannelAction(){if(!this.props.showAction)return null;const{actions:e}=this.props;return 0===e.length?i.default.h(r.a,{disabled:!0,tooltipContent:Object(a.a)(this.context.currentUser.role,"update Slack integration.")},d):i.default.h(r.a.withContextMenu,{menuActions:e,onMenuOpen:this.handleSidebarMenuOpen,onMenuClose:this.handleSidebarMenuClose},d)}render({channel:e}){const t=new URL(e.incomingWebHook.configurationURL).origin+"/messages/"+(e.incomingWebHook.channelId||e.incomingWebHook.channel.replace("#","")),n=[i.default.h(l.a,{key:"slackChannelIcon",class:"slackChannelIcon"}),i.default.h("span",{key:"slackChannelContent",class:"slackChannelContent"},"Connected to ",i.default.h("a",{target:"_blank",href:t,rel:"external noopener noreferrer"},e.incomingWebHook.channel))],a=this.renderSlackChannelAction();return i.default.h(o.a,{value:n,action:a})}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(444);n.d(t,"a",function(){return i.a})},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(650);t.a=i.a},function(e,t,n){"use strict";var i=n(0),a=n(55),s=n(14),o=n(651),r=n(659),l=n(157),c=n(175),d=n(381),u=n(3),h=n(11),p=n(5),m=n(1),f=n(9),g=n(668);n.n(g);const b="http://127.0.0.1:7070";function v(){return i.default.h("div",{class:"noExtensions"},i.default.h("h2",null,"No added extensions yet",i.default.h("img",{src:Object(p.b)("img/emjAlembic.png"),srcSet:`${Object(p.b)("img/emjAlembic@2x.png")} 2x, ${Object(p.b)("img/emjAlembic@3x.png")} 3x`})),i.default.h("p",null,"Extensions are built by the community, generating code snippets from designs.",i.default.h("br",null),"Looks like you don’t have any extensions enabled on this project.",i.default.h("br",null),i.default.h("br",null),"Pick the ones that fit your workflow."),i.default.h("a",{href:Object(m.r)(),class:"explore",target:"_blank",rel:"noopener"},"Explore extensions"))}class y extends i.default.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleInputKeyDown=this.handleInputKeyDown.bind(this),this.state={urlChanged:!1,invalidUrl:!1}}focusTextInput(){const{extension:e,alreadyAdded:t,initialUrl:n}=this.props,{urlChanged:i}=this.state,{textInput:a}=this.nodeRefs;i||(n&&!e||t?Object(m.E)(a):a.focus())}setInitialUrl(){this.state.urlChanged||(this.nodeRefs.textInput.value=this.props.initialUrl)}handleAddClick(){const{textInput:e}=this.nodeRefs;let t=e.value;if(t){if(!e.checkValidity())return Object(m._6)(e),Object(m.E)(e),void this.setState({invalidUrl:!0});/^https?:\/\//.test(t)||(t=`http://${t}`),this.props.onAdd(t)}}handleDocumentClick(e){this.base.contains(e.target)||(e.preventDefault(),e.stopPropagation(),this.props.onClose())}handleDocumentKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())}handleInputChange(){this.state.urlChanged&&!this.state.invalidUrl||this.setState({urlChanged:!0,invalidUrl:!1})}handleInputKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.stopPropagation(),this.handleAddClick())}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown,!0),document.addEventListener("click",this.handleDocumentClick,!0),this.focusTextInput(),this.setInitialUrl()}componentWillReceiveProps(e){this.setState({urlChanged:!1,invalidUrl:!1})}componentDidUpdate(){this.focusTextInput(),this.setInitialUrl()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0),document.removeEventListener("click",this.handleDocumentClick,!0)}renderInfo(){const{extension:e,alreadyAdded:t,initialUrl:n}=this.props,{urlChanged:a,invalidUrl:s}=this.state,o=n&&!e,r=a&&!s,l=o||t||s;let c;return s?c="Enter a valid URL.":t?c=`“${e.name}” is already added.`:e?c=`Found “${e.name}”.`:o&&(c="No extension found."),i.default.h("p",{class:Object(u.a)("info",{warning:l,invisible:r})},c)}render(e,t){const{extension:n,alreadyAdded:a,initialUrl:o,onClose:r}=e,{urlChanged:c,invalidUrl:d}=t,u=d||!c&&(o&&!n||a);return i.default.h("div",{class:"localExtensionPopup",onClick:m.Z},i.default.h("div",null,i.default.h("p",null,"Enter extension URL:"),i.default.h(l.a,{inputRef:Object(h.a)(this,"textInput"),type:"url",class:"localExtensionUrl",onInput:this.handleInputChange,onKeyDown:this.handleInputKeyDown,placeholder:"e.g. http://localhost:7070"}),this.renderInfo()),i.default.h("div",{class:"footer"},i.default.h(s.a,{class:"cancel",ripple:!0,onClick:r},"CANCEL"),i.default.h(s.a,{class:"done",ripple:!u,onClick:this.handleAddClick,disabled:u},"ADD")))}}class C extends i.default.Component{constructor(e){super(e),this.close=this.close.bind(this),this.showSettings=this.showSettings.bind(this),this.handleBackLinkClick=this.handleBackLinkClick.bind(this),this.removeExtension=this.removeExtension.bind(this),this.updateExtensionOption=this.updateExtensionOption.bind(this),this.handleBackdropClick=this.handleBackdropClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleDocumentKeyUp=this.handleDocumentKeyUp.bind(this),this.showAddLocalExtensionPopup=this.showAddLocalExtensionPopup.bind(this),this.hideLocalExtensionPopup=this.hideLocalExtensionPopup.bind(this),this.addLocalExtension=this.addLocalExtension.bind(this),this.state={selectedExtensionId:null,altPressed:!1,localExtensionPopupVisible:!1,localExtensionUrl:null,localExtension:null}}addLocalExtension(e){const{extensions:t,addLocalExtension:n}=this.props;d.a.createLocal(e).then(i=>{t.some(e=>e.id===i.id)?this.setState({localExtension:i,localExtensionUrl:e}):(n(i),this.hideLocalExtensionPopup())}).catch(()=>{this.setState({localExtension:null,localExtensionUrl:e})})}close(){i.default.render(null,this.base.parentElement,this.base)}hideLocalExtensionPopup(){this.setState({localExtensionPopupVisible:!1,localExtensionUrl:null,localExtension:null})}removeExtension(){const e=new URL(Object(m.r)()),t=this.props.extensions.find(e=>e.id===this.state.selectedExtensionId);this.setState({selectedExtensionId:null});const{projectId:n,removeExtension:i}=this.props;t.local?i(n,t.id,!0):f.a({title:`Remove “${t.name}” from project?`,message:`Extension will be removed for all members of this project. You can add it back from “${e.hostname}”.`,done:{name:"REMOVE",cb:()=>{i(n,t.id)}},cancel:{name:"KEEP"}})}showAddLocalExtensionPopup(){const e=b;d.a.createLocal(e).then(t=>{const n={localExtensionPopupVisible:!0};this.props.extensions.some(e=>e.id===t.id)||Object.assign(n,{localExtensionUrl:e,localExtension:t}),this.setState(n)}).catch(()=>{this.setState({localExtensionPopupVisible:!0,localExtensionUrl:null,localExtension:null})})}showSettings(e){this.setState({selectedExtensionId:e})}updateExtensionOption(e,t){this.props.updateExtensionOption(this.state.selectedExtensionId,e,t)}handleBackLinkClick(e){e.preventDefault(),this.setState({selectedExtensionId:null})}handleBackdropClick(e){e.stopPropagation(),this.close()}handleDocumentKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC?(e.stopPropagation(),this.close()):e.keyCode!==Zeplin.KEY_CODE.ALT||e.shiftKey||this.setState({altPressed:!0})}handleDocumentKeyUp(e){this.state.altPressed&&e.keyCode===Zeplin.KEY_CODE.ALT&&this.setState({altPressed:!1})}componentDidMount(){const{selectedExtensionId:e}=this.props;void 0!==e&&this.showSettings(e),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("keyup",this.handleDocumentKeyUp)}componentWillReceiveProps(e){e.selectedExtensionId!==this.props.selectedExtensionId&&void 0===e.selectedExtensionId&&this.showSettings(this.props.selectedExtensionId)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("keyup",this.handleDocumentKeyUp)}renderContent(e){return e?i.default.h(r.a,{onChange:this.updateExtensionOption,name:e.name,description:e.description,author:e.author,repository:e.repository,url:e.url,options:e.options,local:e.local}):this.props.extensions.length?i.default.h(o.a,{extensions:this.props.extensions,onEnable:this.props.enableExtension,onDisable:this.props.disableExtension,onSettingsClick:this.showSettings}):i.default.h(v,null)}render(e,t){if(!e.visible)return;const{extensions:n,class:a,canRemoveExtensions:o}=e,{localExtension:r,localExtensionUrl:l,localExtensionPopupVisible:c,selectedExtensionId:d,altPressed:f}=t,g=r&&n.some(e=>e.id===r.id),b=n.find(e=>e.id===d);return i.default.h("div",{class:"extensionDialogBackdrop",onClick:this.handleBackdropClick},i.default.h("div",{class:Object(u.a)("extensionDialog",a),onClick:m.Z,ref:Object(h.a)(this,"extensionDialog")},i.default.h("div",{class:"header"},b&&i.default.h("a",{onClick:this.handleBackLinkClick,href:"#",class:"backLink"},i.default.h("img",{src:Object(p.b)("img/icNavUp.svg")}),i.default.h("span",null,"Extensions")),i.default.h("h2",null,b?b.name:"Extensions"),f||c?i.default.h(s.a,{class:"addLocalExtension",disabled:c,onClick:this.showAddLocalExtensionPopup},"Add local extension"):i.default.h("a",{href:Object(m.r)(),class:"explore",target:"_blank",rel:"noopener"},"Explore extensions")),i.default.h("div",{class:"main"},this.renderContent(b),c&&i.default.h(y,{top:this.nodeRefs.extensionDialog.getBoundingClientRect().top,initialUrl:l,alreadyAdded:g,onAdd:this.addLocalExtension,onClose:this.hideLocalExtensionPopup,extension:r})),i.default.h("div",{class:"footer"},b&&(b.local||o)&&i.default.h(s.a,{key:"remove",class:"remove",ripple:!0,onClick:this.removeExtension},"REMOVE"),i.default.h(s.a,{key:"done",class:"done",ripple:!0,onClick:this.close},"DONE"))))}}t.a=Object(a.a)(class extends i.default.Component{static calculateState(e,t){const n=c.b.getState(),i=n.extensions.map(e=>({id:e.id,default:e.default,enabled:n.enabledExtensions.includes(e.id),loaded:e.loaded,name:e.name,description:e.description,author:e.author,url:Object(m.r)(e),repository:e.repository,options:e.optionsSchema.map(t=>Object.assign({},t,{value:e.getOption(t.id)})),local:e.local}));return{projectId:t.projectId,selectedExtensionId:t.selectedExtensionId,canRemoveExtensions:t.canRemoveExtensions,extensions:i,visible:!0,addLocalExtension:c.a.addLocalExtension,removeExtension:c.a.removeExtension,updateExtensionOption:c.a.updateExtensionOption,enableExtension:c.a.enableExtension,disableExtension:c.a.disableExtension}}static getStores(){return[c.b]}render(e,t){return i.default.h(C,t)}},{withProps:!0})},function(e,t,n){"use strict";var i=n(652);t.a=i.a},function(e,t,n){"use strict";var i=n(0),a=n(14),s=n(445),o=n(446),r=n(46),l=n(447),c=n(3),d=n(5),u=n(1),h=n(658);n.n(h);const p=".button-bg {\n\t\twidth: 200px;\n\t\theight: 40px;\n\t\tborder-radius: 20px;\n\t\tbackground-color: #fdbd39;\n\t\tbackground-color: var(--light-orange);\n\t\tbox-shadow: 0 0 4px 0 #2f333a;\n\t\tborder: solid 2px rgba(255, 255, 255, 0.4);\n}";function m(){return i.default.h("div",{class:"extensionPreview"},i.default.h("p",null,"Extensions are built by community to generate code snippets from designs. Pick the ones that fit your workflow, or create your own and contribute. ",i.default.h("a",{href:Object(u.r)(),target:"_blank",rel:"noopener"},"Learn more…")),i.default.h("div",{class:"snippetExample"},i.default.h("div",{class:"sampleButtonWithArrow"},i.default.h("img",{src:Object(d.b)("img/icCurvedArrow.svg")}),i.default.h("div",{class:"sampleButton"},"Button")),i.default.h(o.a,{lang:"css",class:"sampleCode",content:p,asyncHighlight:!1,style:{fontSize:"12px",lineHeight:"14px"}})))}class f extends i.default.Component{constructor(e){super(e),this.handleEnabledChange=this.handleEnabledChange.bind(this),this.handleSettingsClick=this.handleSettingsClick.bind(this)}handleEnabledChange(e){(e.target.checked?this.props.onEnable:this.props.onDisable)(this.props.id)}handleSettingsClick(){this.props.onSettingsClick(this.props.id)}render(e){const{name:t,author:n,repository:o,description:u,url:h,local:p,loaded:m,enabled:f}=e,g=[].concat(n.url,o).filter(Boolean).map(e=>{const t=Object(l.a)(e);return i.default.h("a",{key:t.text,href:t.url,target:"_blank",rel:"noopener"},t.text)});return g.length>1&&g.splice(1,0," • "),i.default.h("div",{class:"extensionListItem"},p&&i.default.h("div",{class:"localExtensionInfo"},i.default.h("img",{src:Object(d.b)("img/emjConstructionTeyze.png"),srcSet:`${Object(d.b)("img/emjConstructionTeyze@2x.png")} 2x, ${Object(d.b)("img/emjConstructionTeyze@3x.png")} 3x`}),"Local extension, only visible to you."),i.default.h("label",null,i.default.h(s.a,{onChange:this.handleEnabledChange,checked:f}),i.default.h("div",{class:"extensionInfo"},i.default.h("div",null,i.default.h("span",{class:"name"},t),i.default.h("span",{class:"author"},n.displayName)),m?i.default.h("span",{class:"description"},u):i.default.h("span",{class:"error"},"Fetching extension failed"),i.default.h("span",{class:"links"},g))),i.default.h("a",{class:Object(c.a)("readmeLink",{invisible:p}),href:h,target:"_blank",rel:"noopener"},i.default.h(r.a,{class:"teflon"}),i.default.h("img",{src:Object(d.b)("img/icReadme.svg")})),i.default.h(a.a,{ripple:"teflon",class:"settingsButton",onClick:this.handleSettingsClick},i.default.h("img",{src:Object(d.b)("img/icExtensionSettings.svg")})))}}t.a=function(e){const t=e.extensions.map(t=>i.default.h(f,{onEnable:e.onEnable,onDisable:e.onDisable,onSettingsClick:e.onSettingsClick,key:t.id,id:t.id,name:t.name,description:t.description,author:t.author,url:t.url,repository:t.repository,enabled:t.enabled,loaded:t.loaded,local:t.local}));return i.default.h("div",{class:"projectExtensions"},i.default.h(m,null),t)}},function(e,t,n){"use strict";t.a=function(e){var t=Object.assign({},e);return delete t.class,i.default.h("div",{class:Object(a.a)("checkbox",e.class)},i.default.h("input",Object.assign(t,{type:"checkbox"})),i.default.h("div",{class:"indicator"}))};var i=n(0),a=n(3),s=n(654);n.n(s)},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(656),s=n.n(a),o=n(3),r=n(657);n.n(r);t.a=class extends i.default.Component{highlight(e){const{content:t,lang:n,asyncHighlight:i=!0}=e;!function(e){return e&&!!s.a.languages[e]}(n)?this.setState({lines:e.content.split("\n")}):function(e,t,n){return n?new Promise((n,i)=>{try{s.a.tokenizeFlat(e,s.a.languages[t],!0,e=>{n(e)})}catch(e){i(e)}}):Promise.resolve(s.a.tokenizeFlat(e,s.a.languages[t]))}(t,n,i).then(e=>{this.setState({lines:function(e){let t=[];const n=[t];for(const i of e)if("string"==typeof i&&i.includes("\n")){const e=i.split("\n");t.push(e[0]);for(let t=1;t<e.length-1;t++)n.push([e[t]]);t=[e[e.length-1]],n.push(t)}else t.push(i);return n}(e)})}).catch(()=>{this.setState({lines:e.content.split("\n")})})}componentDidMount(){this.highlight(this.props)}componentWillReceiveProps(e){this.highlight(e)}render(e,t){const{class:n,lang:a,lineIndicator:s,style:r}=e,{lines:l=[]}=t,c=Object(o.a)("code",n,{lineIndicator:s});return i.default.h("pre",{class:c},i.default.h("code",{class:`language-${a}`,style:r},l.map((e,t)=>i.default.h("span",{key:t,class:"lineWrapper"},i.default.h("span",{class:"lineno"}),i.default.h("pre",{class:"line"},Array.isArray(e)?e.map(e=>"string"==typeof e?e:i.default.h("span",{class:`token ${e.type}`},e.content)):e)))))}}},function(e,t){e.exports=Prism},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(660);t.a=i.a},function(e,t,n){"use strict";t.a=function(e){const{author:t,repository:n,description:a,url:s,local:r,options:d,onChange:m}=e,f=d.map(e=>{let t;switch(e.type){case"picker":t=u;break;case"switch":t=h;break;case"text":t=p;break;default:return null}return i.default.h(t,Object.assign(e,{onChange:m}))}).filter(Boolean),g=[].concat(t.url,n).filter(Boolean).map(e=>{const t=Object(c.a)(e);return i.default.h("a",{key:t.text,href:t.url,target:"_blank",rel:"noopener"},t.text)});g.length>1&&g.splice(1,0," • ");return i.default.h("div",{class:"extensionSettings"},i.default.h("div",{class:"extensionInfo"},i.default.h("div",null,r&&i.default.h("div",{class:"localExtensionInfo"},i.default.h("img",{src:Object(l.b)("img/emjConstructionTeyze.png"),srcSet:`${Object(l.b)("img/emjConstructionTeyze@2x.png")} 2x, ${Object(l.b)("img/emjConstructionTeyze@3x.png")} 3x`}),"Local extension, only visible to you."),i.default.h("div",{class:"author"},t.displayName),i.default.h("div",{class:"description"},a),i.default.h("div",{class:"links"},g)),!r&&i.default.h("a",{class:"readmeLink",href:s,target:"_blank",rel:"noopener"},i.default.h(o.a,{class:"teflon"}),i.default.h("img",{src:Object(l.b)("img/icReadme.svg")}))),f.length>0&&i.default.h("h3",null,"Settings"),f)};var i=n(0),a=n(380),s=n(445),o=n(46),r=n(157),l=n(5),c=n(447),d=n(664);n.n(d);class u extends i.default.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange(this.props.id,e)}render(e){const{options:t,name:n,value:s}=e;return i.default.h("div",{class:"option"},i.default.h("span",{class:"name"},n),i.default.h(a.a,{onChange:this.handleChange,top:-12,left:96},function(e,t){return e.map((e,n)=>i.default.h(a.a.Item,{selected:e.value===t,label:e.name,value:e.value,key:e.value}))}(t,s)))}}class h extends i.default.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange(this.props.id,e.target.checked)}render(e){return i.default.h("label",{class:"option"},i.default.h("span",{class:"name"},e.name),i.default.h(s.a,{name:e.id,onChange:this.handleChange,checked:e.value}))}}class p extends i.default.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){e.target.value!==this.props.value&&this.props.onChange(this.props.id,e.target.value)}render(e){return i.default.h("label",{class:"option"},i.default.h("span",{class:"name"},e.name),i.default.h(r.a,{onBlur:this.handleChange,value:e.value,placeholder:"Let’s find a placeholder"}))}}},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(49),r=n(662),l=n(3),c=n(5),d=n(11),u=n(663);n.n(u);const h=12;class p extends i.default.Component{constructor(e){super(e),this.handleBackdropClick=this.handleBackdropClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this)}get edgeOffset(){return this.props.edgeOffset||h}positionOptions(){const{top:e,left:t,centerX:n,posRef:i}=this.props,a=i.getBoundingClientRect(),s=this.nodeRefs.options.getBoundingClientRect(),o=e||a.height,r=t||0;let l=a.top+o,c=a.left;c+=n?(a.width-s.width)/2:r,l<this.edgeOffset?l=this.edgeOffset:l+s.height+this.edgeOffset>window.innerHeight&&(l=window.innerHeight-s.height-this.edgeOffset),c<this.edgeOffset?c=this.edgeOffset:c+s.width+this.edgeOffset>window.innerWidth&&(c=window.innerWidth-s.width-this.edgeOffset),this.nodeRefs.options.style.transform="translate3d("+c+"px, "+l+"px, 0)"}handleBackdropClick(e){this.props.onClose&&(e.stopPropagation(),this.props.onClose())}handleDocumentKeyDown(e){this.props.onClose&&e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),this.props.onClose())}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown,!0),this.positionOptions()}componentDidUpdate(){this.positionOptions()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}render(e){const{children:t,class:n}=e;return i.default.h("div",{class:"dropdownOptionsBackdrop",onClick:this.handleBackdropClick},i.default.h("div",{class:Object(l.a)("dropdownOptions",n),ref:Object(d.a)(this,"options")},t))}}class m extends i.default.Component{constructor(e){super(e),this.hideOptions=this.hideOptions.bind(this),this.toggleOptions=this.toggleOptions.bind(this),this.handleItemSelect=this.handleItemSelect.bind(this),this.state={open:!1}}hideOptions(){this.setState({open:!1})}toggleOptions(e){e.stopPropagation(),this.setState(e=>({open:!e.open}))}handleItemSelect(e){this.setState({open:!1}),this.props.onChange(e)}renderOptions(){if(!this.state.open)return null;const{portalInto:e,showCheck:t=!0,top:n,left:a,centerX:s,optionsClass:r,children:l}=this.props,c=l.map(e=>i.default.cloneElement(e,{showCheck:t,onSelect:this.handleItemSelect}));return i.default.h(o.a,{into:e},i.default.h(p,{class:r,onClose:this.hideOptions,posRef:this.base,top:n,left:a,centerX:s},c))}render(){const{open:e}=this.state,{class:t,children:n}=this.props,a=Object(l.a)("dropdown",t,{open:e}),s=n.find(e=>e.attributes.selected).attributes.label;return i.default.h("div",{class:a,title:s,onClick:this.toggleOptions},i.default.h("span",null,s),i.default.h("img",{width:"9",alt:"˅",src:Object(c.b)("img/icDropdown.svg")}),this.renderOptions())}}m.propTypes={portalInto:s.a.element,showCheck:s.a.bool,top:s.a.number,left:s.a.number,centerX:s.a.boolean,children:s.a.instanceOf(r.a).isRequired,onChange:s.a.func.isRequired},m.defaultProps={portalInto:document.body,showCheck:!0},m.Item=r.a,t.a=m},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(3),r=n(5);class l extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){e.stopPropagation();const{value:t,onSelect:n}=this.props;n(t)}render(){const{label:e,selected:t,showCheck:n,class:a,children:s}=this.props,l=Object(o.a)("dropdownItem",a,{selected:t});return i.default.h("div",{class:l,onClick:this.handleClick},s.length?s:e,n&&i.default.h("img",{class:"dropdownCheck",src:Object(r.b)("img/icMenuCheck.svg"),alt:"&check;"}))}}l.displayName="Dropdown.Item",l.propTypes={label:s.a.string.isRequired,value:s.a.string.isRequired,selected:s.a.bool,showCheck:s.a.bool,children:s.a.oneOfType([s.a.node,s.a.element]),onSelect:s.a.func.isRequired},l.defaultProps={selected:!1,showCheck:!0,children:"this.props.label"},t.a=l},function(e,t){},function(e,t){},function(e,t,n){"use strict";let i=0;t.a=class{constructor(e,t){this.worker=e,this.callbacks={},this.errorLogger=t&&t.errorLogger,this.attachToWorker();const n=t&&t.methods;n&&Array.isArray(n)&&n.forEach(e=>{Object.defineProperty(this,e,{value:function(){return this.invoke(e,Array.from(arguments))}})})}static getInvocationId(){return++i}attachToWorker(){this.worker.addEventListener("message",e=>{if("invokeResult"!==e.data.type)return;const t=e.data.data,n=this.callbacks[t.id];if(n)if(delete this.callbacks[t.id],"result"in t)n.resolve(t.result);else if("error"in t){const e=new Error;Object.assign(e,t.error),n.reject(e)}})}invoke(e,t){return new Promise((n,i)=>{const a=this.constructor.getInvocationId();this.callbacks[a]={resolve:n,reject:i},this.worker.postMessage({type:"invoke",data:{id:a,name:e,args:t}})}).catch(n=>{throw this.errorLogger&&this.errorLogger(n,{fnName:e,args:t}),n})}terminate(){this.worker.terminate()}}},function(e,t,n){"use strict";var i=n(23);const a={create:function(e,t,n={}){return{get:a=>i.a.get(e,t,a).then(function(e){return null===e||void 0===e?n[a]:e}),getAll:()=>i.a.get(e,t).then(function(e){return Object.assign({},n,e)}),set:(n,a)=>i.a.set(e,t,n,a)}},clear:function(e){return i.a.remove(e)}};t.a=a},function(e,t,n){"use strict";var i=n(54),a=(n.n(i),n(448)),s=n(449),o=n(450),r=n(451);t.a=new class extends i.ReduceStore{constructor(){super(o.a)}getInitialState(){return{removedExtensions:[],enabledExtensions:[],extensions:[],project:null,initialized:!1}}loadExtensions(e,t,n,i){return e.extensions.forEach(e=>{e.terminate()}),{initialized:!0,removedExtensions:[],enabledExtensions:i,project:t,extensions:n}}updateExtensionOption(e,t,n,i){const a=e.extensions.slice(0);return a.find(e=>e.id===t).setOption(n,i),Object.assign({},e,{extensions:a})}enableExtension(e,t){return e.enabledExtensions.includes(t)?e:(r.a.enableExtension(e.project.id,t),Object.assign({},e,{enabledExtensions:e.enabledExtensions.concat(t)}))}disableExtension(e,t){return r.a.disableExtension(e.project.id,t),Object.assign({},e,{enabledExtensions:e.enabledExtensions.filter(e=>e!==t)})}removeExtensionRequested(e,t,n){r.a.disableExtension(t,n);const i={enabledExtensions:e.enabledExtensions.filter(e=>e!==n),extensions:e.extensions.filter(e=>e.id!==n)},a=e.extensions.find(e=>e.id===n);return a&&Object.assign({stateUpdate:e.removedExtensions.concat(a)}),Object.assign({},e,i)}removeExtensionResult(e,t,n,i){const a=e.removedExtensions.find(e=>e.id===n);if(!a)return e;const s={removedExtensions:e.removedExtensions.filter(e=>e.id!==n)};return i?(e.project.removeExtension(n),a.terminate()):(r.a.enableExtension(t,a.id),Object.assign(s,{extensions:e.exensions.concat(a),enabledExtensions:e.enabledExtensions.concat(a.id)})),Object.assign({},e,s)}addExtensionRequested(e,t,n){const i=e.extensions.find(e=>t.id===e.id);return i?(n&&i.reload(),Object.assign({},this.enableExtension(e,i.id))):(a.a.loadExtension(e.project,t),e)}loadExtension(e,t){return e.extensions.push(t),Object.assign({},this.enableExtension(e,t.id))}reloadLocalExtensions(e){const t=e.extensions.filter(e=>e.local);return t.length?(t.forEach(e=>{console.log(`Local extension "${e.name}" reloaded`),e.reload()}),Object.assign({},e)):e}reduce(e,t){switch(t.type){case s.a.LOAD_EXTENSIONS:return this.loadExtensions(e,t.project,t.extensions,t.enabledExtensions);case s.a.UPDATE_EXTENSION_OPTION:return this.updateExtensionOption(e,t.id,t.name,t.value);case s.a.DISABLE_EXTENSION:return this.disableExtension(e,t.id);case s.a.ENABLE_EXTENSION:return this.enableExtension(e,t.id);case s.a.REMOVE_EXTENSION_REQUESTED:return this.removeExtensionRequested(e,t.pid,t.id);case s.a.REMOVE_EXTENSION_SUCCESS:return this.removeExtensionResult(e,t.pid,t.id,!0);case s.a.REMOVE_EXTENSION_FAIL:return this.removeExtensionResult(e,t.pid,t.id,!1);case s.a.ADD_EXTENSION_REQUESTED:return this.addExtensionRequested(e,t.extension,t.local);case s.a.LOAD_EXTENSION:return this.loadExtension(e,t.extension);case s.a.ADD_LOCAL_EXTENSION:return this.addLocalExtension(e,t.extension);case s.a.RELOAD_LOCAL_EXTENSIONS:return this.reloadLocalExtensions(e);default:return e}}}},function(e,t){},function(e,t,n){"use strict";var i=n(670);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(671);n.n(s);const o=62,r=240;t.a=class extends i.default.Component{constructor(e){super(e),this.handleTagClick=this.handleTagClick.bind(this)}handleTagClick(e){if(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)return;e.stopPropagation(),e.preventDefault();const{projectId:t,screenId:n,componentId:i,screenName:s,onTagClick:o}=this.props;o(i,Object(a._3)("project-screen",{url:{pid:t,sid:n}}),s)}render(e){const{projectId:t,zoomFactor:n,screenRect:{width:s,height:l},componentRect:{width:c,height:d,x:u,y:h},componentId:p,componentName:m}=e,f=Object(a._3)("project-styleguide-components",{url:{pid:t},query:{coid:p}}),g={width:Object(a._0)(c,s),height:Object(a._0)(d,l),left:Object(a._0)(u,s),top:Object(a._0)(h,l)},b=Math.min(c*n,r);return i.default.h("div",{class:"componentLayer",style:g},i.default.h("a",{href:f,style:{maxWidth:b},title:m,onClick:this.handleTagClick,"data-link-type":"inApp"},b>o&&i.default.h("span",{class:"name ellipsis"},m),i.default.h("svg",{width:"12",height:"12",viewBox:"0 0 12 12"},i.default.h("path",{fill:"#fff","fill-rule":"evenodd",d:"M8.39 6.5H2.5a.5.5 0 0 1 0-1h5.89L6.633 3.77a.446.446 0 0 1 0-.638.462.462 0 0 1 .646 0l2.586 2.55a.446.446 0 0 1 0 .637L7.28 8.868a.462.462 0 0 1-.646 0 .446.446 0 0 1 0-.637L8.389 6.5zM6 12A6 6 0 1 1 6 0a6 6 0 0 1 0 12zm0-1A5 5 0 1 0 6 1a5 5 0 0 0 0 10z"}))))}}},function(e,t){},function(e,t,n){"use strict";var i=n(673);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(33),o=n(71),r=n(382),l=n(57),c=n(674),d=n(696),u=n(734),h=n(836),p=n(839);n.n(p);const m={android:"light_orange",ios:"lightOrange",osx:"lightOrange",web:"light-orange"},f=[new s.a({r:254,g:207,b:51,a:1,name:"yellow"}),new s.a({r:253,g:189,b:57,a:1,name:"lightOrange"}),new s.a({r:238,g:103,b:35,a:1,name:"peach"})],g={name:"header",fontSize:24,color:{r:85,g:77,b:86}},b={android:"Roboto-Regular",ios:"SFUIDisplay-Regular",osx:"SFUIDisplay-Regular",web:"system-ui"},v=1;function y(e){let t,n,i,r,{type:l,colors:c,textStyles:d}=e;return f[v].name=m[l],g.fontFace=b[l],c&&c.length?(n=c,t="Color palette"):(c=f,t="Sample color palette"),d&&d.length?(r=d.map(t=>{if(!t.color)return t;const n=e.findColorEqual(t.color);if(!n)return t;const i=new s.a(t.color);return i.name=n.name,t.color=i,t}),i="Text styles"):(d=[new o.a(g)],i="Sample text styles"),{colorTitle:a._2(t),textStyleTitle:a._2(i),colors:c,projectColors:n,textStyles:d,projectTextStyles:r}}function C(e,t){l.b.updateColor(e,{name:t})}function w(e,t){l.b.updateTextStyle(e,{name:t})}function S(e){l.b.updateTextStyle(e,{color:null})}t.a=class extends i.default.Component{constructor(e){super(e),this.deselect=this.deselect.bind(this)}deselect(){this.props.onComponentSelect(null,null)}componentWillReceiveProps(e){const t=y(e);this.setState(t)}getChildContext(){const{project:{id:e,type:t,baseDensity:n,densityDivisor:i,dimensionSuffix:s},assetNamingConvention:o,bitmapInfoHidden:r,densityWarningHidden:l,showOptimizedSVG:c,projectUser:d}=this.props;return{assetNamingConvention:o,baseDensity:n,bitmapInfoHidden:r,densityWarningHidden:l,densityDivisor:i,dimensionSuffix:s,projectId:e,projectType:t,showOptimizedSVG:c,userRole:d.role,permissions:{canManageColors:a.O.canManageColors(d),canManageScreens:a.O.canManageColors(d),canManageTextStyles:a.O.canManageTextStyles(d)}}}render(e){const{project:t,project:{componentSections:n},sidebarInitialWidth:a,projectUser:s,selectedTab:o,selectionComponent:p,selection:m,cseid:f,sortType:g,filterValue:b,descriptionFormatter:v,onSort:k,onFilter:E,onTabChange:j,onComponentSelect:x,onComponentsVisible:D,onExportClick:_,onSettingsClick:O,onManageExtensionsClick:L,assetExportTarget:T}=e,R=new r.a(t),{colorTitle:I,colors:A,projectColors:N,textStyleTitle:P,textStyles:M,projectTextStyles:U}=y(t);return i.default.h("div",{class:"styleguide"},i.default.h(h.a,{showIndicator:!0,selectedTab:o,onChange:j},i.default.h(h.a.Tab,{label:"Colors & Text Styles",value:"colorsAndFonts"},i.default.h(c.a,{formatter:R,colors:N,textStyles:U,onColorNameChange:C,onColorDelete:l.b.removeColor,onColorDataChange:l.b.updateColor,onTextStyleNameChange:w,onTextStyleDelete:l.b.removeTextStyle,onTextStyleColorDelete:S})),i.default.h(h.a.Tab,{label:"Components",value:"components"},i.default.h(d.a,{componentSections:n,selectionComponentId:p&&p._id,selection:m,cseid:f,sortType:g,filterValue:b,onSort:k,onFilter:E,onComponentsVisible:D,onSelect:x}))),i.default.h(u.a,{currentView:o,componentSections:n,selectionComponent:p,selection:m,colorTitle:I,colors:A,textStyleTitle:P,textStyles:M,formatter:R,descriptionFormatter:v,projectUser:s,initialWidth:a,onExportClick:_,onSettingsClick:O,onManageExtensionsClick:L,onCloseClick:this.deselect,assetExportTarget:T}))}}},function(e,t,n){"use strict";var i=n(675);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(676),s=n(687),o=n(695);n.n(o);t.a=class extends i.default.Component{constructor(e){super(e)}render(e){const{formatter:t,colors:n,textStyles:o,onColorNameChange:r,onColorDelete:l,onColorDataChange:c,onTextStyleNameChange:d,onTextStyleDelete:u,onTextStyleColorDelete:h}=e;return i.default.h("div",{class:"colorsAndFonts"},i.default.h(a.a,{colors:n,onColorNameChange:r,onColorDelete:l,onColorDataChange:c}),i.default.h(s.a,{formatter:t,textStyles:o,onTextStyleNameChange:d,onTextStyleDelete:u,onTextStyleColorDelete:h}))}}},function(e,t,n){"use strict";var i=n(677);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(9),s=n(5),o=n(678),r=n(452),l=n(453),c=n(686);n.n(c);function d(){return i.default.h("div",{class:"colorPaletteEmptyState"},i.default.h("h2",null,"No colors yet.",i.default.h("img",{src:s.b("img/emjPalette.png"),srcset:`${s.b("img/emjPalette@2x.png")} 2x, ${s.b("img/emjPalette@3x.png")} 3x`})),i.default.h("div",{class:"emptyStateDescription"},"You can organize and showcase your project colors here."),i.default.h(r.a,{type:"color"}))}t.a=class extends i.default.Component{constructor(e){super(e),this.handleNameChange=this.handleNameChange.bind(this)}handleNameChange(e,t){const{colors:n,onColorNameChange:i}=this.props;n.map(e=>e.name).includes(t)?(setTimeout(()=>{a.a({title:`${t} already exists`,message:"Please enter another name for this color.",done:{name:"GOT IT"}})},10),this.forceUpdate()):i(e,t)}render(e,t,n){const{colors:a,onColorDelete:s,onColorDataChange:r}=e,{userRole:c,permissions:{canManageColors:u}}=n;return a?i.default.h("div",null,i.default.h(l.a,{type:"color"}),i.default.h("div",{class:"colorPalette"},a.map(e=>i.default.h(o.a,{color:e,key:e.id,readOnly:!u,userRole:c,onNameChange:this.handleNameChange,onDelete:s,onDataChange:r})))):i.default.h("div",null,i.default.h(l.a,{type:"color"}),i.default.h(d,null))}}},function(e,t,n){"use strict";var i=n(679);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(33),s=n(9),o=n(383),r=n(56),l=n(59),c=n(1),d=n(681);n.n(d);const u=i.default.h("svg",{width:"14",height:"14",key:"deleteIcon"},i.default.h("g",{fill:"none","fill-rule":"evenodd"},i.default.h("circle",{cx:"7",cy:"7",r:"7",fill:"#979197"}),i.default.h("path",{fill:"#FFF",d:"M7 5.708L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"})));function h(e){return!!/[0-9]{1,3}/.test(e)&&parseInt(e,10)<=100}function p(e){return/[A-Fa-f0-9]{6}/.test(e)}t.a=class extends i.default.Component{constructor(e){super(e),this.handleNameChange=this.handleNameChange.bind(this),this.handleHexChange=this.handleHexChange.bind(this),this.handleOpacityChange=this.handleOpacityChange.bind(this),this.handleDelete=this.handleDelete.bind(this)}handleDelete(){const{color:{name:e,id:t},onDelete:n}=this.props;s.a({message:`Remove “${e}”?`,done:{name:"REMOVE",cb:()=>{n(t)}},cancel:{name:"KEEP"}})}handleHexChange(e){const{color:{id:t},onDataChange:n}=this.props,{r:i,g:s,b:o}=a.a.fromHex(`#${e}`);n(t,{r:i,g:s,b:o})}handleNameChange(e){const{color:{id:t},onNameChange:n}=this.props;n(t,e)}handleOpacityChange(e){const{color:{id:t},onDataChange:n}=this.props;n(t,{a:parseInt(e,10)/100})}render(e,t,n){const{color:a,userRole:s,readOnly:d}=e,{projectType:m}=n,f=a.name,g=a.hexBase(),b=Math.round(100*a.a),v=a.toRGBString(),y=a.toRGBAString();let C=i.default.h("div",{class:"colorCell"},i.default.h("div",{class:"colorPreview",style:{backgroundColor:y}},!d&&i.default.h("button",{type:"button",onClick:this.handleDelete},u)),i.default.h("div",{class:"colorInformation"},i.default.h("div",{className:"colorNameContainer"},i.default.h(o.a,{class:"colorName",spellCheck:"false",filterRegex:c.h[m],prefix:"#",maxLength:36,ellipsized:!0,initialValue:f,disabled:d,blurOnEnter:!0,onBlur:this.handleNameChange})),i.default.h("div",{className:"colorValueContainer"},i.default.h(o.a,{class:"colorHex",maxLength:6,spellCheck:"false",filterRegex:/([^a-fA-F0-9])/g,prefix:"#",validator:p,initialValue:g,disabled:d,blurOnEnter:!0,onBlur:this.handleHexChange}),i.default.h(o.a,{class:"colorAlpha",maxLength:3,filterRegex:/([^0-9])/g,suffix:"%",validator:h,initialValue:b,disabled:d,blurOnEnter:!0,onBlur:this.handleOpacityChange})),i.default.h("div",{class:"colorRGB"},v)));return d&&(C=i.default.h(r.a,{content:Object(l.a)(s,"edit colors")},C)),C}}},function(e,t,n){"use strict";var i=n(0),a=n(157),s=n(11);t.a=class extends i.default.Component{constructor(e){super(e),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleInput=this.handleInput.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.state={focusWithin:!1,oldValue:e.initialValue,value:e.initialValue}}handleBlur(e){const{initialValue:t,validator:n,onBlur:i}=this.props,{oldValue:a,value:s}=this.state,o=e.target.value;a===s||!o||n&&!n(o)?this.setState({value:a,focusWithin:!1,selectionStart:null,selectionEnd:null}):(this.setState({value:o,oldValue:s,focusWithin:!1,selectionStart:null,selectionEnd:null}),t!==o&&i(o))}handleFocus(){this.setState({oldValue:this.state.value,focusWithin:!0})}handleInput(e){const{filterRegex:t}=this.props;let{value:n,selectionStart:i,selectionEnd:a}=e.target;const s=n;t&&(n=n.replace(t,""));const o=s.length-n.length-1;o>0&&(i-=o,a-=o),this.setState({selectionStart:i,selectionEnd:a}),n&&n===this.state.value||this.setState({value:n})}handleKeyDown(e){if(e.keyCode===Zeplin.KEY_CODE.ESC){e.stopPropagation();const{oldValue:t}=this.state;this.setState({value:t}),this.nodeRefs.input.blur()}}handleMouseUp(e){const{selectionStart:t,selectionEnd:n}=e.target;this.setState({selectionStart:t,selectionEnd:n})}componentWillReceiveProps(e){const{initialValue:t}=e,{value:n}=this.state;this.state.focusWithin||t===n&&t===this.props.initialValue||this.setState({value:t,oldValue:t})}componentDidUpdate(){const{focusWithin:e,selectionStart:t,selectionEnd:n}=this.state;e&&this.nodeRefs.input.setSelectionRange(t,n)}render(e,t){const{value:n}=t,o=Object.assign({},e);return delete o.onClick,delete o.onKeyDown,delete o.onBlur,delete o.onFocus,delete o.onInput,delete o.filterRegex,delete o.initialValue,i.default.h(a.a,Object.assign({},o,{inputRef:Object(s.a)(this,"input"),value:n,onKeyDown:this.handleKeyDown,onMouseUp:this.handleMouseUp,onBlur:this.handleBlur,onFocus:this.handleFocus,onInput:this.handleInput}))}}},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(5),s=n(3),o=n(683);n.n(o);const r={color:i.default.h("svg",{width:"28",height:"16",viewBox:"0 0 28 16"},i.default.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.default.h("path",{d:"M23.5 7.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3z"}),i.default.h("path",{"fill-rule":"nonzero",d:"M13 9.96C13 6.751 7.13.421 6.88.151a.545.545 0 0 0-.755 0C5.87.422 0 6.752 0 9.959c0 3.323 2.915 6.026 6.5 6.026S13 13.282 13 9.959zm-6.5 5.026c-3.035 0-5.5-2.254-5.5-5.027 0-1.998 3.165-6.165 5.5-8.743C8.835 3.789 12 7.966 12 9.959c0 2.773-2.47 5.027-5.5 5.027zM12.535.152c.255.27 6.12 6.6 6.135 9.822 0 3.323-2.915 6.026-6.5 6.026a6.815 6.815 0 0 1-1.5-.17 7.5 7.5 0 0 0 1.115-.844h.375c3.035 0 5.5-2.254 5.5-5.027 0-1.993-3.165-6.17-5.5-8.743a28.926 28.926 0 0 0-1.535 1.789c-.21-.275-.42-.545-.625-.805A46.216 46.216 0 0 1 11.78.152a.545.545 0 0 1 .755 0z"}))),textStyle:i.default.h("svg",{width:"28",height:"16",viewBox:"0 0 28 16"},i.default.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.default.h("path",{d:"M23.5 7.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3zM9.413 13.683L8.007 9.798H2.68l-1.407 3.885H0L4.746 1h1.195l4.738 12.683H9.413zM5.317 2.485L3.041 8.761h4.605L5.37 2.485h-.053zM14.31 12.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.766h-1.125c.132-1.634 1.477-2.794 3.56-2.794s3.392 1.169 3.392 3.032v6.258H17.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889z"})))},l={color:"color",textStyle:"text style."},c={color:"imgColorFromLayer",textStyle:"imgTextStyleFromLayer"};t.a=function(e){const{type:t}=e,n=r[t],o=l[t],d=c[t];return i.default.h("div",{class:Object(s.a)("addResourceInfo",t)},i.default.h("div",{class:"fromLayersText"},"From Layers"),i.default.h("span",{class:"fromLayersDescription"},"Select a layer and click ",n," next to the ",o),i.default.h("img",{class:"fromLayersImage",src:Object(a.b)(`img/${d}.png`),srcset:Object(a.c)(Object(a.b)(`img/${d}.png`))}))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(685);n.n(a);const s={textStyle:i.default.h("svg",{width:"22",height:"24",viewBox:"0 0 22 24"},i.default.h("path",{fill:"#554D56","fill-rule":"evenodd",d:"M11.3 18.825l-1.688-4.54H3.218l-1.688 4.54H0L5.698 4h1.434l5.687 14.825H11.3zM6.383 5.736l-2.732 7.336h5.528L6.447 5.736h-.064zM17.178 17.83c1.92 0 3.43-1.326 3.43-3.02v-1.182l-3.25.215c-1.73.113-2.69.843-2.69 2.024 0 1.161 1.023 1.963 2.51 1.963zM16.893 19c-2.163 0-3.64-1.264-3.64-3.134 0-1.828 1.404-2.938 3.936-3.102l3.418-.206v-.924c0-1.542-1.002-2.466-2.711-2.466-1.615 0-2.649.77-2.891 2.065h-1.35c.157-1.911 1.772-3.267 4.272-3.267S22 9.332 22 11.51v7.315h-1.33v-2.034h-.031C20.027 18.116 18.529 19 16.893 19z"})),color:i.default.h("svg",{width:"22",height:"24",viewBox:"0 0 22 24"},i.default.h("path",{fill:"#554D56","fill-rule":"nonzero",d:"M15.056 14.534c0-3.714-6.799-11.046-7.088-11.358a.632.632 0 0 0-.874 0C6.798 3.488 0 10.82 0 14.534c0 3.848 3.376 6.979 7.528 6.979 4.152 0 7.528-3.13 7.528-6.979zm-7.528 5.821c-3.515 0-6.37-2.61-6.37-5.82 0-2.315 3.666-7.141 6.37-10.127 2.704 2.98 6.37 7.818 6.37 10.126 0 3.212-2.861 5.821-6.37 5.821zm6.99-17.18c.294.313 7.087 7.645 7.104 11.377 0 3.848-3.376 6.978-7.528 6.978a7.892 7.892 0 0 1-1.737-.197c.46-.285.892-.612 1.292-.978h.434c3.515 0 6.37-2.61 6.37-5.82 0-2.31-3.666-7.147-6.37-10.127a33.5 33.5 0 0 0-1.778 2.072c-.243-.318-.486-.63-.724-.932a53.524 53.524 0 0 1 2.062-2.372.632.632 0 0 1 .874 0z"}))},o={textStyle:"Text Style Catalog",color:"Color Palette"};t.a=function(e){const{type:t}=e;return i.default.h("div",{class:"styleHeader"},s[t],i.default.h("span",null,o[t]))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(688);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(9),s=n(453),o=n(452),r=n(689),l=n(5),c=n(694);n.n(c);function d(){return i.default.h("div",{class:"textStylesEmptyState"},i.default.h("h2",null,"No text styles yet.",i.default.h("img",{src:Object(l.b)("img/emjPencil.png"),srcset:Object(l.c)(Object(l.b)("img/emjPencil.png"))})),i.default.h("div",{class:"emptyStateDescription"},"You can organize and showcase your project text styles here."),i.default.h(o.a,{type:"textStyle"}))}t.a=class extends i.default.Component{constructor(e){super(e),this.handleDelete=this.handleDelete.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.handleColorDelete=this.handleColorDelete.bind(this)}handleColorDelete(e){const{textStyles:t,onTextStyleColorDelete:n}=this.props,{name:i}=t.find(t=>t.id===e);a.a({message:`Delete color of "${i}"?`,done:{name:"DELETE",cb:function(){n(e)}},cancel:{name:"CANCEL"}})}handleDelete(e){const{onTextStyleDelete:t,textStyles:n}=this.props,{name:i}=n.find(t=>t.id===e);a.a({title:`Delete "${i}"?`,message:"Deleted text styles cannot be restored.",done:{name:"DELETE",cb:function(){t(e)}},cancel:{name:"CANCEL"}})}handleNameChange(e,t){const{textStyles:n,onTextStyleNameChange:i}=this.props;n.some(e=>e.name===t)?(setTimeout(()=>{a.a({title:`${t} already exists`,message:"Please enter another name for this text style.",done:{name:"GOT IT"}})},10),this.forceUpdate()):i(e,t)}render(e,t,n){const{formatter:a,textStyles:o}=e,{userRole:l,permissions:{canManageTextStyles:c}}=n;return o&&o.length?i.default.h("div",{class:"textStyleCatalog"},i.default.h(s.a,{type:"textStyle"}),i.default.h("div",{class:"textStyles"},o.map((e,t)=>i.default.h(r.a,{key:e.id,readOnly:!c,userRole:l,formatter:a,textStyle:e,tabIndex:t+1,onNameChange:this.handleNameChange,onDelete:this.handleDelete,onColorDelete:this.handleColorDelete})))):i.default.h("div",{class:"textStyleCatalog"},i.default.h(s.a,{type:"textStyle"}),i.default.h(d,null))}}},function(e,t,n){"use strict";var i=n(690);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(14),s=n(176),o=n(56),r=n(3),l=n(59),c=n(1),d=n(693);n.n(d);const u=i.default.h("svg",{width:"14",height:"14"},i.default.h("g",{fill:"none","fill-rule":"evenodd"},i.default.h("circle",{cx:"7",cy:"7",r:"7",fill:"#979197"}),i.default.h("path",{fill:"#FFF",d:"M7 5.708L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"})));t.a=class extends i.default.Component{constructor(e){super(e),this.handleDelete=this.handleDelete.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleColorDelete=this.handleColorDelete.bind(this)}generateFontStyle(){const{textStyle:{scaledFontSize:e,fontWeight:t,fontStyle:n}}=this.props;return{fontSize:e+"px",fontWeight:t,fontStyle:n}}getExtraInfo(){const{formatter:e,textStyle:{textAlign:t,lineHeight:n,letterSpacing:i}}=this.props,a=[];return t&&"left"!==t&&a.push(Object(c._2)(t)),n&&a.push(`Line height: ${e.textLength(n)}`),"number"==typeof i&&a.push(`Letter spacing: ${e.letterSpacing(i)}`),a.join(", ")}getMainInfo(){const{formatter:e,textStyle:{fontStretch:t,fontFamily:n,fontStyle:a,fontSize:s,weightText:o}}=this.props,r=t.split("-"),l="normal"!==t?" "+Object(c._2)(r[0])+(r[1]||""):"",d=Object(c._2)(o)+("normal"!==a?` ${Object(c._2)(a)}`:"");return[i.default.h("span",{class:"ellipsis"},`${n+l}, ${d}`),`, ${e.textLength(s)}`]}handleColorDelete(){const{textStyle:{id:e},onColorDelete:t}=this.props;t(e)}handleDelete(){const{textStyle:{id:e},onDelete:t}=this.props;t(e)}handleNameBlur({discard:e,value:t}){const{textStyle:{id:n,name:i},onNameChange:a}=this.props;e||i===t||a(n,t)}render(e){const{readOnly:t,userRole:n,formatter:c,textStyle:{name:d,color:h},tabIndex:p}=e;let m=i.default.h(s.a,{class:"name",fontStyle:this.generateFontStyle(),onBlur:this.handleNameBlur,value:d,minLength:"1",maxLength:"100",required:!0,readOnly:t,tabIndex:p,ellipsized:!0});return t&&(m=i.default.h(o.a,{content:Object(l.a)(n,"edit text styles")},m)),i.default.h("div",{class:Object(r.a)("textStyleRow",{readOnly:t})},i.default.h("div",{class:"nameContainer"},m),i.default.h("div",{class:"info"},i.default.h("div",{class:"mainInfo"},i.default.h("div",{class:"style"},this.getMainInfo()),h&&i.default.h("div",{class:"colorContainer"},i.default.h("span",{class:"colorPreview",style:{backgroundColor:h.toRGBAString()}}),i.default.h("span",{class:"color ellipsis"},h.name?`#${h.name}`:c.colorString(h)),i.default.h(a.a,{class:"deleteColor",onClick:this.handleColorDelete},u))),i.default.h("div",{class:"extraInfo ellipsis"},this.getExtraInfo())),i.default.h(a.a,{class:"deleteTextStyle",onClick:this.handleDelete},u))}}},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(1),r=n(3),l=n(11),c=n(692);n.n(c);const d=100;function u(e,t,n){return`<line x1="${e}" y1="0.5" x2="${t}" y2="0.5" stroke="%23419bf9" stroke-width="1" stroke-linecap="${n}"/>`}function h(...e){return`<svg xmlns="http://www.w3.org/2000/svg" width="3" height="1">${e.join(" ")}</svg>`}class p extends i.default.Component{constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleInput=this.handleInput.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleClick=this.handleClick.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleDocumentMouseUp=this.handleDocumentMouseUp.bind(this),this.handleDocumentMouseMove=Object(o.j)(this.handleDocumentMouseMove).bind(this),this.handleSelectionChange=Object(o.j)(this.handleSelectionChange).bind(this),this.getSelectionPoints=this.getSelectionPoints.bind(this),this.state={focusWithin:!1,discard:!1,selectionPoints:{selectionStart:0,selectionEnd:0},shouldCheckRightSelection:!1,value:e.value}}getSelectionPoints(){return{selectionStart:this.nodeRefs.input.selectionStart,selectionEnd:this.nodeRefs.input.selectionEnd}}calculateShouldCheckRightSelection(){const{widthlessMirror:e,inputContainer:t}=this.nodeRefs;return e.scrollWidth>=t.offsetWidth}highlight(){Object(o.E)(this.nodeRefs.input)}handleBlur(){const{required:e,value:t,readOnly:n}=this.props;if(n)return;const{value:i}=this.state;let a=this.state.discard;const s={focusWithin:!1};e&&!i&&(s.value=t,a=!0),this.setState(s),this.props.onBlur({discard:a,value:i})}handleFocus(){this.setState({focusWithin:!0,discard:!1})}handleInput(e){const t=e.target.value;if(t===this.state.value)return;const n=this.getSelectionPoints();this.setState({value:t,selectionPoints:n})}handleKeyDown(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:{e.stopPropagation();const{value:t}=this.props;this.setState({value:t,discard:!0}),this.nodeRefs.input.blur();break}case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:this.handleSelectionChange()}}handleMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(document.addEventListener("mousemove",this.handleDocumentMouseMove),document.addEventListener("mouseup",this.handleDocumentMouseUp))}handleDocumentMouseMove(e){1&e.buttons?this.handleSelectionChange():(document.removeEventListener("mousemove",this.handleDocumentMouseMove),document.removeEventListener("mouseup",this.handleDocumentMouseUp))}handleDocumentMouseUp(){this.handleSelectionChange(),document.removeEventListener("mousemove",this.handleDocumentMouseMove),document.removeEventListener("mouseup",this.handleDocumentMouseUp)}handleClick(e){e.stopPropagation(),this.handleSelectionChange()}handleSubmit(e){e.preventDefault(),this.nodeRefs.input.blur()}handleSelectionChange(){const e=this.getSelectionPoints();this.setState({selectionPoints:e})}componentDidMount(){this.setState({shouldCheckRightSelection:this.calculateShouldCheckRightSelection()})}componentWillReceiveProps(e){const t={};this.state.focusWithin||e.value===this.state.value||(t.value=e.value),Object.keys(t).length&&this.setState(t)}componentDidUpdate(e,t){this.state.value!==t.value&&this.setState({shouldCheckRightSelection:this.calculateShouldCheckRightSelection()})}render(){const{required:e,readOnly:t,maxLength:n=d,showRemaining:a,fontStyle:s,tabIndex:o=0}=this.props,{focusWithin:c,value:p,selectionPoints:m,shouldCheckRightSelection:f}=this.state;let g=Object.assign({},s);if(c&&!t){const{selectionStart:e,selectionEnd:t}=m,n=function(e,t){return e&&t?h(u(0,2.5,"butt")):e?h(u(0,1.5,"butt"),u(1.5,2.5,"round")):t?h(u(.5,1.5,"round"),u(1.5,2.5,"butt")):void 0}(e!==t&&0===e,f&&e!==t&&t===p.length);n&&Object.assign(g,{borderImageSource:`url('data:image/svg+xml;utf8,${n}')`,borderImageSlice:"0 1 1 1",borderImageRepeat:"stretch"})}return i.default.h("div",{class:Object(r.a)("expandableInputWrapper",{focusWithin:c})},i.default.h("form",{ref:Object(l.a)(this,"inputContainer"),class:"expandableInputForm",onSubmit:this.handleSubmit},i.default.h("span",{ref:Object(l.a)(this,"widthlessMirror"),class:"mirror widthless",style:s},p||" "),i.default.h("span",{class:"mirror",style:s},p||" "),i.default.h("input",{style:g,type:"text",name:"expandableInput",class:"expandableInput",minlength:"1",maxlength:n,autocomplete:"off",spellCheck:"false",required:e,value:p,readonly:t,tabIndex:o,ref:Object(l.a)(this,"input"),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onSelect:this.handleSelectionChange,onKeyDown:this.handleKeyDown,onInput:this.handleInput,onFocus:this.handleFocus,onBlur:this.handleBlur})),a&&i.default.h("span",{class:"remainingCounter"},n-p.length))}}p.propTypes={value:s.a.string,required:s.a.bool,onBlur:s.a.func,readOnly:s.a.bool,maxLength:s.a.number,showRemaining:s.a.bool,fontStyle:s.a.object,inputRef:s.a.func,tabIndex:s.a.number},t.a=p},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(697);t.a=i.a},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(5),o=n(698),r=n(461),l=n(462),c=n(733);n.n(c);const d=a.W.date.bind(null,["latestVersion","created"]),u=a.W.date.bind(null,["components","0","latestVersion","created"]);function h(e){const t={};return function e(t,n){t.forEach(t=>{t.components.forEach(e=>{const t=a.B(new Date(e.latestVersion.created));t in n||(n[t]=[]),n[t].push(e)}),e(t.componentSections,n)})}(e,t),Object.keys(t).map(e=>({_id:e,name:a._2(e),components:t[e].sort(d),componentSections:[]})).sort(u)}function p(e,t){switch(t){case"default":default:return e;case"lastUpdated":return h(e);case"name":return function(e){return[{_id:"sortedByName",name:"sortedByName",components:a.g(e).sort(a.W.name),componentSections:[]}]}(e)}}function m(){return i.default.h("div",{class:"componentsEmptyState"},i.default.h("h2",null,"No components yet ",i.default.h("img",{width:"24",height:"24",src:s.b("img/emjDango.png"),srcset:`${s.b("img/emjDango@2x.png")} 2x, ${s.b("img/emjDango@3x.png")} 3x`,alt:"🍡",title:"🍡"})),i.default.h("p",null,"Components are re-usable elements used throughout designs, crucial piece of your design system. Store, organize and showcase project components here."),i.default.h("img",{width:"15",src:s.b("img/emjPointUp@17w.png"),srcset:`${s.b("img/emjPointUp@34w.png")} 2x, ${s.b("img/emjPointUp@51w.png")} 3x`,alt:"☝",title:"☝"}),i.default.h("p",null,"Components can only be exported from Sketch at the moment. Figma and Adobe XD CC support available soon."))}const f=[{label:"Sections",value:"default"},{label:"Last updated",value:"lastUpdated"},{label:"Name",value:"name"}];t.a=class extends i.default.Component{constructor(e){super(e),this.deselect=this.deselect.bind(this),this.visibleComponents=new Set,this.deselectHandlerAdded=!1}deselect(){this.props.onSelect(null,null)}processComponents(){const{componentSections:e,sortType:t,filterValue:n}=this.props;return n?function(e,t){const n=a.g(e),i=new WeakMap(n.map(e=>[e,a.c(t,e.name)])),s=n.filter(e=>i.get(e));return s.length?[{_id:"filtered",name:"filtered",components:s.sort((e,t)=>{const n=i.get(t)-i.get(e);return n||a.W.name(e,t)}),componentSections:[]}]:[]}(e,n):p(e,t)}componentWillMount(){this.observer=new IntersectionObserver((e,t)=>{e.forEach(e=>{const t=e.target.dataset.id,n=function e(t,n){let i;for(const a of t){if(i=a.components.find(e=>e._id===n))return i;if(i=e(a.componentSections,n))return i}return null}(this.props.componentSections,t);n&&(e.isIntersecting?this.visibleComponents.add(n):this.visibleComponents.delete(n))}),window.cancelAnimationFrame(this.renderTimeout),this.renderTimeout=window.requestAnimationFrame(()=>{this.props.onComponentsVisible([...this.visibleComponents])})},{root:this.base})}componentDidUpdate(){const{selection:e}=this.props;e?this.deselectHandlerAdded||(this.deselectHandlerAdded=!0,document.addEventListener("click",this.deselect)):(this.deselectHandlerAdded=!1,document.removeEventListener("click",this.deselect))}componentWillUnmount(){this.observer.disconnect(),this.deselectHandlerAdded=!1,document.removeEventListener("click",this.deselect)}render({componentSections:e,selectionComponentId:t,selection:n,sortType:s,filterValue:c,cseid:d,onSort:u,onFilter:h,onSelect:p}){if(!a.g(e).length)return i.default.h(m,null);const g=this.processComponents();return i.default.h("div",{class:"components"},i.default.h(r.a,{inputPlaceholder:"Search for a component",sortOptions:f,selectedSortType:s,filterValue:c,onSort:u,onFilter:h}),!!g.length&&i.default.h("div",{class:"componentSections"},g.map((e,a)=>i.default.h(o.a,{key:e._id,index:a,data:e,highlighted:d===e._id,actionsDisabled:"lastUpdated"===s,selectionComponentId:t,selection:n,observer:this.observer,visibleComponents:this.visibleComponents,defaultSection:!(a||"lastUpdated"===s&&!c),readOnly:"default"!==s,filterValue:c,onSelect:p}))),!g.length&&i.default.h(l.a,{text:"No components with this name"}))}}},function(e,t,n){"use strict";var i=n(699);t.a=i.a},function(e,t,n){"use strict";var i=n(0),a=n(454),s=n(455),o=n(704),r=n(456),l=n(11),c=n(458),d=n(177),u=n(725);n.n(u);const h=136;t.a=class extends i.default.Component{constructor(e){super(e),this.state={addingDescription:!1},this.highlightDescription=this.highlightDescription.bind(this),this.highlightName=this.highlightName.bind(this),this.handleAddDescriptionClick=this.handleAddDescriptionClick.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleGroupNameChange=this.handleGroupNameChange.bind(this),this.handleDescriptionBlur=this.handleDescriptionBlur.bind(this),this.handleCopyWebLink=this.handleCopyWebLink.bind(this),this.handleCopyAppURI=this.handleCopyAppURI.bind(this),this.handleDelete=this.handleDelete.bind(this)}highlightDescription(){this.componentRefs.section.highlightDescription()}highlightName(){this.componentRefs.section.highlightName()}handleAddDescriptionClick(){this.setState({addingDescription:!0})}handleGroupNameChange(e,t){d.b.updateComponentSection(e,{name:t})}handleNameBlur({discard:e,value:t}){const{data:{_id:n,name:i}}=this.props;e||i===t||d.b.updateComponentSection([n],{name:t})}handleDescriptionBlur({discard:e,value:t}){this.state.addingDescription&&this.setState({addingDescription:!1});const{data:{_id:n,description:i}}=this.props;e||i===t||d.b.updateComponentSection([n],{description:t})}handleCopyWebLink(){const{data:{_id:e}}=this.props;d.b.copySectionWebLink(e)}handleCopyAppURI(){const{data:{_id:e}}=this.props;d.b.copySectionAppURI(e)}handleDelete(){const{data:{_id:e},index:t}=this.props;d.b.deleteSection(e,t)}componentDidMount(){this.props.highlighted&&this.componentRefs.section.highlightSection()}componentDidUpdate(e,t){!t.addingDescription&&this.state.addingDescription&&this.highlightDescription()}renderComponentGroups(){const{data:{componentSections:e},selectionComponentId:t,selection:n,observer:a,visibleComponents:s,filterValue:r,onSelect:l}=this.props,{collapsed:c}=this.state;return!c&&e&&e.length?i.default.h("div",{class:"componentGroups"},e.map(e=>i.default.h(o.a,{key:e._id,data:e,observer:a,visibleComponents:s,filterValue:r,selectionComponentId:t,selection:n,onNameChange:this.handleGroupNameChange,onSelect:l}))):null}renderComponents(){const{data:{components:e},selectionComponentId:t,selection:n,observer:a,visibleComponents:s,filterValue:o,onSelect:l}=this.props,{collapsed:c}=this.state;if(c||!e||!e.length)return null;const d=e.map(e=>i.default.h(r.a,{key:e._id,data:e,observer:a,visible:s.has(e),filterValue:o,selection:n,containsSelection:n&&t===e._id,onSelect:l}));return i.default.h("div",{class:"components"},d)}renderContent(){return i.default.h("div",{class:"componentSectionContent"},this.renderComponents(),this.renderComponentGroups())}renderOptionsMenu(){const{readOnly:e,data:{description:t}}=this.props,n=t?i.default.h(s.a.Item,{onClick:this.highlightDescription},"Edit description"):i.default.h(s.a.Item,{onClick:this.handleAddDescriptionClick},"Add description");return i.default.h(s.a,null,!e&&[n,i.default.h(s.a.Item,{onClick:this.highlightName},"Rename section"),i.default.h(s.a.ItemDivider,null)],i.default.h(s.a.Item,{onClick:this.handleCopyWebLink},"Copy web link"),i.default.h(s.a.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.default.h(s.a.ItemDivider,null),!e&&[i.default.h(s.a.Item,{warning:!0,onClick:this.handleDelete},"Delete section")])}render(){const{data:{componentSections:e,components:t,name:n,description:s,_id:o},defaultSection:r,readOnly:d,actionsDisabled:u}=this.props,{addingDescription:p}=this.state,m=e.reduce((e,t)=>e+t.components.length,t.length),f=`${m} component${1===m?"":"s"} collapsed`,g=this.renderContent(),b=this.renderOptionsMenu(),v=p?c.a:s;return i.default.h(a.a,{id:o,ref:Object(l.a)(this,"section","componentRefs"),name:n,description:v,countInfoText:f,optionsMenu:b,defaultSection:r,actionsDisabled:u,readOnly:d,topPadding:h,onNameBlur:this.handleNameBlur,onDescriptionBlur:this.handleDescriptionBlur},g)}}},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(1),r=n(3),l=n(11),c=n(176),d=n(701);n.n(d);const u=12,h=-36,p=60;class m extends i.default.Component{constructor(e){super(e),this.collapseExpandSection=this.collapseExpandSection.bind(this),this.handleHeaderClick=this.handleHeaderClick.bind(this),this.showOptionsMenu=this.showOptionsMenu.bind(this),this.hideOptionsMenu=this.hideOptionsMenu.bind(this),this.highlightSection=this.highlightSection.bind(this),this.highlightName=this.highlightName.bind(this),this.highlightDescription=this.highlightDescription.bind(this),this.state={collapsed:!1,menuShown:!1,highlighted:!1}}collapseExpandSection(e){e.stopPropagation(),this.setState(e=>({collapsed:!e.collapsed}))}showOptionsMenu(e){e.stopPropagation(),this.state.menuShown||this.setState({menuShown:!0})}hideOptionsMenu(){this.state.menuShown&&this.setState({menuShown:!1})}highlightSection(){this.state.collapsed&&this.setState({collapsed:!1}),this.setState({highlighted:!0});const{top:e}=this.base.getBoundingClientRect(),t=Object(o.t)(this.base);setTimeout(()=>{"scrollBy"in Element.prototype?t.scrollBy({top:e-150,behavior:"smooth"}):t.scrollTop+=e-150,setTimeout(()=>{this.setState({highlighted:!1})},1e3)},200)}highlightName(){this.componentRefs.nameInput.highlight()}highlightDescription(){this.componentRefs.descriptionInput.highlight()}handleHeaderClick(){const{collapsed:e}=this.state;e&&this.setState({collapsed:!1})}componentDidUpdate(e,t){if(this.state.menuShown&&!t.menuShown&&this.props.optionsMenu){const{contextMenuContainer:e,header:t}=this.nodeRefs,{topPadding:n}=this.props;!function(e,t,n=p){const i=e.getBoundingClientRect(),a=window.innerHeight;if(i.bottom+u>a)e.style.top=`${a+h-i.bottom-u}px`;else if(i.top-n-u<0){const i=t.querySelector("div:first-child").getBoundingClientRect().top;e.style.top=`${u+n-i}px`}}(e,t,n)}}renderMenu(){const{optionsMenu:e}=this.props;if(!e)return null;const t=i.default.cloneElement(e,{onClose:this.hideOptionsMenu});return i.default.h("div",{class:"sectionContextMenuContainer",ref:Object(l.a)(this,"contextMenuContainer")},t)}renderHeader(){const{name:e,defaultSection:t,countInfoText:n,readOnly:a,actionsDisabled:s,description:o,onNameBlur:r,onDescriptionBlur:d}=this.props,{collapsed:u,menuShown:h}=this.state;if(t)return null;let p=null;return u&&(p=i.default.h("span",{class:"countInfo"},n)),i.default.h("div",{class:"sectionHeader",ref:Object(l.a)(this,"header"),onClick:this.handleHeaderClick},i.default.h("div",{class:"mainInfo"},i.default.h("div",{class:"sectionInfo"},i.default.h(c.a,{ref:Object(l.a)(this,"nameInput","componentRefs"),value:e,required:!0,readOnly:a||s,onBlur:r}),p),!s&&i.default.h("div",{class:"sectionActions"},i.default.h("button",{class:"collapseButton",onClick:this.collapseExpandSection},i.default.h("svg",{width:"24",height:"24"},i.default.h("path",{fill:"#554D56",d:"M12.985 16.557l4.608-4.982a1.596 1.596 0 0 0-.002-2.132C17.33 9.16 16.998 9 16.5 9s-8.496.005-9 .002c-.504-.002-.802.13-1.09.441a1.591 1.591 0 0 0-.001 2.132l4.607 4.982c.271.293.627.44.984.44a1.33 1.33 0 0 0 .985-.44z"}))),i.default.h("button",{class:"optionsButton",onClick:this.showOptionsMenu},i.default.h("svg",{width:"24",height:"24"},i.default.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.default.h("circle",{cx:"6",cy:"12",r:"2"}),i.default.h("circle",{cx:"12",cy:"12",r:"2"}),i.default.h("circle",{cx:"18",cy:"12",r:"2"}))))),h&&this.renderMenu()),o&&i.default.h("div",{class:"descriptionInfo"},i.default.h(c.a,{value:o,ref:Object(l.a)(this,"descriptionInput","componentRefs"),required:!1,readOnly:a||s,showRemaining:!0,onBlur:d})))}render({children:e},{collapsed:t,menuShown:n,highlighted:a}){const s=Object(r.a)("section",{collapsed:t,menuShown:n,highlighted:a});return i.default.h("div",{class:s},this.renderHeader(),!t&&e)}}m.propTypes={onNameBlur:s.a.func.isRequired,onDescriptionBlur:s.a.func.isRequired,name:s.a.string,description:s.a.string,id:s.a.string.isRequired,defaultSection:s.a.bool,children:s.a.arrayOf(s.a.element).isRequired,countInfoText:s.a.string,showOptionsButton:s.a.bool,optionsMenu:s.a.element,readOnly:s.a.bool,actionsDisabled:s.a.bool},m.defaultProps={showOptionsButton:!1,defaultSection:!1},t.a=m},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(379),s=n(703);n.n(s);const o=e=>i.default.h(a.a,Object.assign({},e,{class:"sectionMenu"}));o.Item=a.a.Item,o.ItemDivider=a.a.ItemDivider,t.a=o},function(e,t){},function(e,t,n){"use strict";var i=n(705);t.a=i.a},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(176),o=n(456),r=n(723);n.n(r);t.a=class extends i.default.Component{constructor(e){super(e),this.handleNameBlur=this.handleNameBlur.bind(this),this.showOptionsMenu=this.showOptionsMenu.bind(this),this.hideOptionsMenu=this.hideOptionsMenu.bind(this),this.state={menuShown:!1}}hideOptionsMenu(){this.state.menuShown&&(document.removeEventListener("click",this.hideOptionsMenu,!0),this.setState({menuShown:!1}))}showOptionsMenu(e){e.stopPropagation(),this.state.menuShown||(document.addEventListener("click",this.hideOptionsMenu,!0),this.setState({menuShown:!0}))}handleNameBlur({discard:e,value:t}){const{data:{idPath:n,name:i},onNameChange:a}=this.props;e||i===t||a(n,t)}renderComponents(){const{data:{components:e},observer:t,visibleComponents:n,filterValue:a,selectionComponentId:s,selection:r,onSelect:l}=this.props,c=e.map(e=>i.default.h(o.a,{key:e._id,data:e,observer:t,visible:n.has(e),filterValue:a,selection:r,containsSelection:r&&s===e._id,onSelect:l}));return i.default.h("div",{class:"components"},c)}renderHeader(){const{data:{name:e}}=this.props;return i.default.h("div",{class:"header"},i.default.h("div",{class:"groupInfo"},i.default.h(s.a,{value:e,required:!0,onBlur:this.handleNameBlur})))}render(e,{menuShown:t}){const n=Object(a.a)("componentGroup",{menuShown:t});return i.default.h("div",{class:n},this.renderHeader(),this.renderComponents())}}},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(1),o=n(457),r=n(722);n.n(r);const l=12,c=4*l,d=60;function u(e){return`${Math.ceil(e/l)*l+c}px`}t.a=class extends i.default.Component{constructor(e){super(e),this.handleComponentClick=this.handleComponentClick.bind(this),this.handleComponentEnter=this.handleComponentEnter.bind(this),this.handleComponentLeave=this.handleComponentLeave.bind(this),this.handleComponentContentClick=this.handleComponentContentClick.bind(this),this.handleLayerSelect=this.handleLayerSelect.bind(this),this.handleLayerEnter=this.handleLayerEnter.bind(this),this.handleLayerLeave=this.handleLayerLeave.bind(this),this.handleImageError=this.handleImageError.bind(this),this.scrollIntoView=e.containsSelection,this.state={imageRequested:!1,lightness:null,hoveredId:null,distances:null,rulers:!1}}getImageProperties(){const{latestVersion:{snapshot:{url:e}}}=this.props.data;Object(s.u)(e).then(({lightness:e})=>{this.setState({lightness:e})}).catch(()=>{this.setState({lightness:"dark"})})}getDistancesOrigin(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}},selection:i}=this.props;return e===i._id?{x:0,y:0,width:t,height:n}:i.absoluteRect}resetDistances(){null!==this.state.hoveredId&&this.setState({hoveredId:null,distances:null})}handleImageError(){this.setState({imageRequested:!1})}handleComponentClick(e){e.stopPropagation(),this.resetDistances();const{data:t,onSelect:n}=this.props;n(t,t)}handleComponentContentClick(e){e.stopPropagation(),this.resetDistances();const{onSelect:t}=this.props;t(null)}handleComponentEnter(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}}}=this.props,i=this.getDistancesOrigin();this.setState({hoveredId:e,distances:{from:i,to:{x:0,y:0,width:t,height:n}}})}handleComponentLeave(){this.resetDistances()}handleLayerEnter(e){const t=this.getDistancesOrigin();this.setState({hoveredId:e._id,distances:{from:t,to:e.absoluteRect}})}handleLayerLeave(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}}}=this.props,i=this.getDistancesOrigin();this.setState({hoveredId:e,distances:{from:i,to:{x:0,y:0,width:t,height:n}}})}handleLayerSelect(e){this.resetDistances();const{data:t,onSelect:n}=this.props;n(t,e)}componentDidMount(){const{observer:e,visible:t}=this.props;e.observe(this.base),t&&this.setState({imageRequested:!0})}componentWillReceiveProps(e){const{data:{_id:t},containsSelection:n}=this.props,{containsSelection:i}=e;!n&&i&&(this.scrollIntoView=!0);const a=e.data._id===t&&this.state.imageRequested;this.setState({imageRequested:a,rulers:e.containsSelection&&e.selection._id!==e.data._id})}componentDidUpdate(){const{visible:e}=this.props,{lightness:t,imageRequested:n}=this.state;if(e&&!t&&this.getImageProperties(),e&&!n&&this.setState({imageRequested:!0}),this.scrollIntoView){this.scrollIntoView=!1;const e=this.base.getBoundingClientRect(),t=Object(s.t)(this.base);if(!t)return;const n=t.getBoundingClientRect();(e.bottom<n.top||e.top>n.bottom)&&(t.scrollTop+=e.top-n.top-d)}}componentWillUnmount(){const{observer:e}=this.props;e.unobserve(this.base)}renderName(){const{data:{name:e},filterValue:t}=this.props;let n=e;if(t){const a=e.toLowerCase();let s=0;n=[];for(const o of t){const t=a.indexOf(o,s);n.push(e.substring(s,t)),n.push(i.default.h("span",{class:"highlight"},e.substr(t,o.length))),s=t+o.length}n.push(e.substring(s))}return i.default.h("span",{class:"name",title:e,key:"name"},n)}render({data:e,selection:t,visible:n,containsSelection:s},r){const{_id:l,latestVersion:{snapshot:c}}=e,{lightness:d,imageRequested:h,distances:p,rulers:m,hoveredId:f}=r,g=t&&t._id,b=Object(a.a)("component",{selected:l===g}),v=Object(a.a)("componentContent",d),y={width:u(c.width),height:u(c.height)};let C=null;return(n||h)&&(C=i.default.h(o.a,{class:v,snapshot:c},i.default.h(o.a.Image,{onError:this.handleImageError}),m?i.default.h(o.a.Rulers,{x:t.absoluteRect.x,y:t.absoluteRect.y,width:t.absoluteRect.width,height:t.absoluteRect.height}):null,p&&p.from&&p.to?i.default.h(o.a.Distances,{sourceRect:p.from,destRect:p.to}):null,c.layers&&c.layers.length>0?i.default.h(o.a.Layers,{layers:c.layers,selectedLayerId:t&&t._id,hoveredId:f,onLayerSelect:this.handleLayerSelect,onLayerEnter:s?this.handleLayerEnter:null,onLayerLeave:s?this.handleLayerLeave:null}):null)),i.default.h("div",{class:b,style:y,"data-id":l,onClick:this.handleComponentClick,onMouseEnter:s?this.handleComponentEnter:null,onMouseLeave:s?this.handleComponentLeave:null},C,this.renderName())}}},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(708),o=n(711),r=n(714),l=n(720);class c extends i.default.Component{getChildContext(){const{snapshot:e}=this.props;return{snapshot:e}}render(e){const{class:t,snapshot:{width:n,height:s},children:o}=e;return i.default.h("div",{class:Object(a.a)("snapshotDetail",t),style:{width:n,height:s}},o)}}c.Layers=r.a,c.Rulers=o.a,c.Distances=s.a,c.Image=l.a,t.a=c},function(e,t,n){"use strict";var i=n(709);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(710);n.n(s);const o=7;t.a=class extends i.default.Component{toProjectDimension(e){const{densityDivisor:t,dimensionSuffix:n}=this.context;return Object(a.R)(e/t,1)+n}_measureHorizontal(e,t){const{snapshot:{width:n}}=this.context,i=e.x,s=i+e.width,r=t.x,l=r+t.width;let c=!1,d=null,u=null,h=null,p=null,m=null,f=null,g=null,b=null,v=null,y=null;return l<i?(v=i-l,f=Object(a._0)(l,n)):r<i&&l>s?(v=i-r,f=Object(a._0)(r,n),y=l-s,u=Object(a._0)(s,n),d=Object(a._0)((i+s)/2,n),m=Object(a._0)((i+s)/2,n),c=!0):r>i&&l<s?(v=r-i,f=Object(a._0)(i,n),y=s-l,u=Object(a._0)(l,n)):l>i&&l<s?(v=i-r,f=Object(a._0)(r,n),l-i>o&&(d=Object(a._0)((l+i)/2,n),m=Object(a._0)((l+i)/2,n),c=!0)):r>i&&r<s?(v=r-i,f=Object(a._0)(i,n),s-r>o&&(d=Object(a._0)((r+s)/2,n),m=Object(a._0)((r+s)/2,n),c=!0)):r>s&&(y=r-s,u=Object(a._0)(s,n)),v&&(g=Object(a._0)(v,n),b=this.toProjectDimension(v)),y&&(h=Object(a._0)(y,n),p=this.toProjectDimension(y)),c||(d=Object(a._0)((r+l)/2,n),m=Object(a._0)((r+l)/2,n)),{topDistanceLeft:d,rightDistanceLeft:u,rightDistanceAmount:h,rightDistanceValue:p,bottomDistanceLeft:m,leftDistanceLeft:f,leftDistanceAmount:g,leftDistanceValue:b}}_measureVertical(e,t){const{snapshot:{height:n}}=this.context,i=e.y,s=i+e.height,r=t.y,l=r+t.height;let c=!1,d=null,u=null,h=null,p=null,m=null,f=null,g=null,b=null,v=null,y=null;return l<i?(v=i-l,d=Object(a._0)(l,n)):r<i&&l>s?(v=i-r,d=Object(a._0)(r,n),y=l-s,g=Object(a._0)(s,n),b=Object(a._0)((i+s)/2,n),p=Object(a._0)((i+s)/2,n),c=!0):r>i&&l<s?(v=r-i,d=Object(a._0)(i,n),y=s-l,g=Object(a._0)(l,n)):l>i&&l<s?(v=i-r,d=Object(a._0)(r,n),l-i>o&&(b=Object(a._0)((l+i)/2,n),p=Object(a._0)((l+i)/2,n),c=!0)):r>i&&r<s?(v=r-i,d=Object(a._0)(i,n),s-r>o&&(b=Object(a._0)((r+s)/2,n),p=Object(a._0)((r+s)/2,n),c=!0)):r>s&&(y=r-s,g=Object(a._0)(s,n)),v&&(u=Object(a._0)(v,n),h=this.toProjectDimension(v)),y&&(m=Object(a._0)(y,n),f=this.toProjectDimension(y)),c||(b=Object(a._0)((r+l)/2,n),p=Object(a._0)((r+l)/2,n)),{topDistanceTop:d,topDistanceAmount:u,topDistanceValue:h,rightDistanceTop:p,bottomDistanceAmount:m,bottomDistanceValue:f,bottomDistanceTop:g,leftDistanceTop:b}}measure(){const{sourceRect:e,destRect:t}=this.props;return Object.assign(this._measureHorizontal(e,t),this._measureVertical(e,t))}render(e){const t=this.measure(),n=["top","right","bottom","left"].map(e=>{if(null===t[`${e}DistanceAmount`])return null;const n=["left","right"].includes(e)?"width":"height",a=["left","right"].includes(e)?"horizontal":"vertical",{[`${e}DistanceTop`]:s,[`${e}DistanceLeft`]:o,[`${e}DistanceAmount`]:r,[`${e}DistanceValue`]:l}=t,c={top:s,left:o,[n]:r};return i.default.h("div",{key:`${e}-distance`,class:`distance ${a}`,style:c},i.default.h("div",{class:"value"},l))},this);return n.filter(Boolean).length?i.default.h("div",{class:"distances"},n):null}}},function(e,t){},function(e,t,n){"use strict";var i=n(712);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(713);n.n(s);t.a=function(e){const{x:t,y:n,width:s,height:o}=e,{snapshot:{width:r,height:l}}=this.context,c=Object(a._0)(n,l),d=Object(a._0)(t+s,r),u=Object(a._0)(n+o,l),h=Object(a._0)(t,r);return i.default.h("div",{class:"rulers"},i.default.h("div",{style:{top:c},class:"ruler horizontal"}),i.default.h("div",{style:{left:`calc(${d} - 1px)`},class:"ruler vertical"}),i.default.h("div",{style:{top:`calc(${u} - 1px)`},class:"ruler horizontal"}),i.default.h("div",{style:{left:h},class:"ruler vertical"}))}},function(e,t){},function(e,t,n){"use strict";var i=n(715);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(716),s=n(719);n.n(s);t.a=class extends i.default.Component{constructor(e){super(e),this.processLayers=this.processLayers.bind(this)}isLayerSelected(e){const{selectedLayerId:t}=this.props;return t&&t===e}isAnythingHovered(){return!!this.props.hoveredId}isLayerHovered(e){return this.props.hoveredId===e}processLayers(e){const{onLayerSelect:t,onLayerEnter:n,onLayerLeave:s}=this.props,{snapshot:{width:o,height:r},densityDivisor:l,dimensionSuffix:c}=this.context,d=this.isLayerSelected(e._id),u=d&&(!this.isAnythingHovered()||this.isLayerHovered(e._id)),h=i.default.h(a.a,{key:e._id,selected:d,shouldRenderDimensions:u,container:{width:o,height:r},data:e,densityDivisor:l,dimensionSuffix:c,onSelect:t,onEnter:n,onLeave:s});if("group"===e.type){let t=[];return"bottom"===e.interactionLevel&&t.push(h),t=t.concat(...e.layers.map(this.processLayers)),"top"===e.interactionLevel&&t.push(h),t}return[h]}render(){const{layers:e}=this.props;return i.default.h("div",{class:"layers"},[].concat(...e.map(this.processLayers)))}}},function(e,t,n){"use strict";var i=n(717);t.a=i.a},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(3),o=n(718);n.n(o);const r=120,l=3;t.a=class extends i.default.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this),this.mouseEnterHandler=this.mouseEnterHandler.bind(this)}toProjectDimension(e){const{densityDivisor:t,dimensionSuffix:n}=this.props;return Object(a.R)(e/t,1)+n}clickHandler(e){e.stopPropagation();const{data:t,onSelect:n}=this.props;n(t)}mouseEnterHandler(){const{data:e,onEnter:t}=this.props;t&&t(e)}renderCornerCircles(){const{selected:e}=this.props;return e?[i.default.h("div",{key:"tl",class:"cornerCircle topLeftCircle"}),i.default.h("div",{key:"tr",class:"cornerCircle topRightCircle"}),i.default.h("div",{key:"br",class:"cornerCircle bottomRightCircle"}),i.default.h("div",{key:"bl",class:"cornerCircle bottomLeftCircle"})]:null}renderEdgeCircles(){const{selected:e,data:{rect:{width:t,height:n}}}=this.props;if(!e)return null;const a=[];return t>r&&a.push(i.default.h("div",{key:"tc",class:"edgeCircle horizontalEdgeCircle topCircle"}),i.default.h("div",{key:"bc",class:"edgeCircle horizontalEdgeCircle bottomCircle"})),n>r&&a.push(i.default.h("div",{key:"rc",class:"edgeCircle verticalEdgeCircle rightCircle"}),i.default.h("div",{key:"lc",class:"edgeCircle verticalEdgeCircle leftCircle"})),a}renderHitRegion(){const{selected:e,data:{rect:{width:t,height:n}}}=this.props;if(e)return null;const a=t<l,s=n<l;if(!a&&!s)return null;const o=a?"calc(100% + 12px)":"100%",r=s?"calc(100% + 12px)":"100%",c=a?"-6px":"0",d=s?"-6px":"0";return i.default.h("div",{key:"hitRegion",class:"hitRegion",style:{width:o,height:r,top:c,left:d}})}renderLayerDimensions(){const{shouldRenderDimensions:e,data:{rect:{width:t,height:n}}}=this.props;return e?[i.default.h("div",{key:"layerWidth",class:"layerWidth"},this.toProjectDimension(t)),i.default.h("div",{key:"layerHeight",class:"layerHeight"},this.toProjectDimension(n))]:null}render(e){const{selected:t,data:{rect:{width:n,height:o},absoluteRect:{x:r,y:l}},container:c,onLeave:d}=e,u={width:Object(a._0)(n,c.width),height:Object(a._0)(o,c.height),left:Object(a._0)(r,c.width),top:Object(a._0)(l,c.height)};return i.default.h("div",{class:Object(s.a)("zplLayer",{selected:t}),style:u,onClick:this.clickHandler,onMouseEnter:this.mouseEnterHandler,onMouseLeave:d},this.renderLayerDimensions(),this.renderCornerCircles(),this.renderEdgeCircles(),this.renderHitRegion())}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(721);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0);t.a=function(e){const{onError:t}=e,{snapshot:{width:n,height:a,url:s}}=this.context;return i.default.h("img",{width:n,height:a,src:s,crossOrigin:"anonymous",onError:t})}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(459),a=n(460);t.a={updateComponent(e,t){a.a.dispatch({type:i.a.UPDATE_COMPONENT,idPath:e,data:t})},updateComponentSection(e,t){a.a.dispatch({type:i.a.UPDATE_COMPONENT_SECTION,idPath:e,data:t})},copySectionWebLink(e){a.a.dispatch({type:i.a.COPY_SECTION_WEB_LINK,id:e})},copySectionAppURI(e){a.a.dispatch({type:i.a.COPY_SECTION_APP_URI,id:e})},deleteSection(e,t){a.a.dispatch({type:i.a.DELETE_SECTION,id:e,index:t})}}},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(727),r=n(380),l=n(730);n.n(l);function c(e){const{filterValue:t,onFilter:n,onSort:a,sortOptions:s,selectedSortType:l,inputPlaceholder:c,placeholderWidth:d,rightContent:u}=e;return i.default.h("div",{class:"filterSortView"},i.default.h("div",{class:"bumper"},!t&&i.default.h(r.a,{onChange:a,pos:{top:22,left:0}},s.map(({label:e,value:t})=>i.default.h(r.a.Item,{key:t,label:e,value:t,selected:t===l})))),i.default.h(o.a,{placeholder:c,placeholderWidth:d,value:t,onFilter:n}),i.default.h("div",{class:"bumper"},u))}c.propTypes={inputPlaceholder:s.a.string,sortOptions:s.a.shape({label:s.a.string.isRequired,value:s.a.string.isRequired}).isRequired,selectedSortType:s.a.string.isRequired,filterValue:s.a.string,onSort:s.a.func.isRequired,onFilter:s.a.func.isRequired,rightContent:s.a.element},c.defaultProps={filterValue:"",placeholderWidth:162},t.a=c},function(e,t,n){"use strict";var i=n(728);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(11),o=n(1),r=n(729);n.n(r);const l=200;t.a=class extends i.default.Component{constructor(e){super(e),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleInput=this.handleInput.bind(this),this.handleSearchShortcut=this.handleSearchShortcut.bind(this),this.filterTimeout=null,this.state={focusWithin:!1,value:e.value}}handleBlur(){this.setState({focusWithin:!1})}handleFocus(){this.setState({focusWithin:!0})}handleInput(e){this.setState({value:e.target.value}),clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(this.props.onFilter,l,e.target.value)}handleKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),clearTimeout(this.filterTimeout),e.target.value?(this.setState({value:""}),this.props.onFilter("")):e.target.blur())}handleSearchShortcut(e){if((document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&e.keyCode===Zeplin.KEY_CODE.KeyF){e.preventDefault();const t=Object(o.t)(this.nodeRefs.input);Object(o.E)(this.nodeRefs.input),setTimeout(()=>{t.scrollTop=0},4)}}componentDidMount(){document.addEventListener("keydown",this.handleSearchShortcut)}componentWillUnmount(){document.removeEventListener("keydown",this.handleSearchShortcut)}render(){const{placeholder:e,placeholderWidth:t}=this.props,{focusWithin:n,value:o}=this.state,r=Object(a.a)("filterInput",{focusWithin:n}),l=n||o?null:{width:t};return i.default.h("label",{class:r},i.default.h("svg",{width:"16",height:"16"},i.default.h("path",{"fill-rule":"evenodd",d:"M2.01 11.715c-2.68-2.68-2.68-7.025 0-9.705 2.68-2.68 7.025-2.68 9.705 0 2.35 2.35 2.64 5.978.87 8.643.034.028.068.06.1.09l2.912 2.913c.536.536.54 1.4 0 1.94-.536.537-1.402.54-1.94 0l-2.913-2.91c-.032-.033-.063-.067-.09-.102-2.666 1.77-6.295 1.48-8.644-.87zm1.94-1.94c1.61 1.607 4.216 1.607 5.824 0 1.608-1.61 1.608-4.216 0-5.824-1.608-1.606-4.215-1.606-5.823 0-1.606 1.61-1.606 4.217 0 5.825z"})),i.default.h("input",{style:l,type:"search",placeholder:e,value:o,ref:Object(s.a)(this,"input"),onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onInput:this.handleInput}))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(30),s=n(732);n.n(s);t.a=function({text:e}){return i.default.h("div",{class:"filterEmptySections"},i.default.h("span",{class:"filterEmptySectionsText"},e),i.default.h(a.a,{class:"filterEmptySectionsImage",asset:"img/icShrug.png",alt:"¯\\_(ツ)_/¯"}))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(735);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(184),o=n(177),r=n(57),l=n(178),c=n(148),d=n(384),u=n(813),h=n(833),p=n(11);function m(e,t){r.b.updateColor(e,{name:t})}function f(e,t){o.b.updateComponent(e,{description:t})}t.a=class extends i.default.Component{constructor(){super(),this.handleAssetNameChange=this.handleAssetNameChange.bind(this),this.handleDownloadAssetClick=this.handleDownloadAssetClick.bind(this),this.handleCopyContent=this.handleCopyContent.bind(this),this.handleCopyLayerCode=this.handleCopyLayerCode.bind(this),this.handleCopyComponentCode=this.handleCopyComponentCode.bind(this)}handleAssetNameChange(e,t){const{selectionComponent:{_id:n,latestVersion:i}}=this.props;r.b.renameAsset(n,i,e,t)}handleCopyContent(e){Object(a.i)({content:e,toastContainer:this.nodeRefs.base})}handleCopyLayerCode(e,t){this.handleCopyContent(e),r.b.sendCopyExtensionCodeEvents("layer",t)}handleCopyComponentCode(e,t){this.handleCopyContent(e),r.b.sendCopyExtensionCodeEvents("component",t)}handleDownloadAssetClick(e,t){const{selectionComponent:{name:n,latestVersion:i}}=this.props;r.b.downloadAsset(n,i,e,t)}getChildContext(){const{projectUser:e}=this.props;return{projectUser:e,permissions:{canManageColors:a.O.canManageColors(e),canManageScreens:a.O.canManageScreens(e),canManageTextStyles:a.O.canManageTextStyles(e)}}}renderCodePanel(){const{colorTitle:e,colors:t,textStyleTitle:n,textStyles:a,onExportClick:s,onSettingsClick:o,onManageExtensionsClick:r}=this.props;return i.default.h(h.a,{colorTitle:e,colors:t,textStyleTitle:n,textStyles:a,onExportClick:s,onSettingsClick:o,onManageExtensionsClick:r})}renderComponentPanel(){const{componentSections:e,selectionComponent:t,selection:n,colors:a,textStyles:o,formatter:c,descriptionFormatter:h,onCloseClick:p,assetExportTarget:g}=this.props;if(!n)return i.default.h(u.a.NoSelectionState,{componentCount:function e(t=[]){return[].concat(...t.map(t=>t.components.concat(e(t.componentSections))))}(e).length});if(t._id===n._id)return i.default.h(u.a,{component:n,descriptionFormatter:h,formatter:c,projectColors:a,onCopy:this.handleCopyContent,onDescriptionChange:f,onColorNameChange:m,onAddColorClick:r.b.addColor,onRemoveColorClick:r.b.removeColor,onUsedInScreenClick:r.b.openScreenFromComponent,assetExportTarget:g,onChangeExportTargetClick:r.b.changeExportTarget,onOpenExportTargetClick:r.b.openExportTarget,onDownloadAssetClick:this.handleDownloadAssetClick,onAssetNameChange:this.handleAssetNameChange,onHideDensityWarningClick:l.b.hideDensityMismatchWarning,onHideBitmapInfoClick:l.b.hideNoVectorAssetInfo,onNamingConventionChange:r.b.changeNamingConvention,onShowOptimizedSVGChange:r.b.useSVGO,onExtensionSettingsClick:r.b.openExtensionSettings,onCopyCode:this.handleCopyComponentCode,onCloseClick:p});const{assetNamingConvention:b,baseDensity:v,bitmapInfoHidden:y,densityWarningHidden:C,showOptimizedSVG:w,projectType:S}=this.context;let k;n.exportable&&(k=t.latestVersion.snapshot.assets.find(e=>e.layerId?e.layerId===n.sourceId:e.layerName===n.name));const E=new s.a(Object.assign({},n,{asset:k}));return i.default.h(d.a,{layer:E,layerContainer:t,version:t.latestVersion,onCopyCode:this.handleCopyLayerCode,onCopyContent:this.handleCopyContent,bitmapInfoHidden:y,densityWarningHidden:C,namingConvention:b,showOptimizedSVG:w,baseDensity:v,projectColors:a,projectTextStyles:o,projectType:S,formatter:c,onCloseClick:p})}renderSidebarContent(){const{currentView:e}=this.props;switch(e){case"colorsAndFonts":default:return this.renderCodePanel();case"components":return this.renderComponentPanel()}}render({initialWidth:e}){return i.default.h(c.a,{minWidth:280,initialWidth:e,onClick:a.Z,onRelease:r.b.setStyleguideSidebarWidth,baseRef:Object(p.a)(this,"base")},this.renderSidebarContent())}}},function(e,t,n){"use strict";var i=n(463),a=n(464);function s(e,t){a.a.dispatch({type:i.a.SET_PREF,name:e,value:t})}const o={hideDensityMismatchWarning(){s("hideDensityMismatchWarning",!0)},hideNoVectorAssetInfo(){s("hideNoVectorAssetInfo",!0)},dismissFlowLinkInfo(){s("flowLinkInfoDismissed",!0)},hideSourceFileInfo(){s("hideSourceFileInfo",!0)}};t.a=o},function(e,t,n){"use strict";var i=n(0),a=n(9),s=n(34),o=n(57),r=n(179),l=n(178),c=n(3),d=n(190),u=n(1),h=n(740),p=n(797),m=n(812);n.n(m);function f(e,t){o.b.updateTextStyle(e,{name:t})}t.a=class extends s.a{constructor(e){super(e),this.handleDownloadAssetClick=this.handleDownloadAssetClick.bind(this),this.handleAssetNameChange=this.handleAssetNameChange.bind(this),this.renameColor=this.renameColor.bind(this)}renameColor(e,t){const{projectType:n,projectColors:i}=this.props;t&&!u.h[n].test(t)&&(i.find(e=>e.name===t)?a.a({title:t+" already exists",message:"Please enter another name for this color.",done:{name:"GOT IT"}}):o.b.updateColor(e,{name:t}))}handleDownloadAssetClick(e,t){const{layerContainer:{name:n},version:i}=this.props;o.b.downloadAsset(n,i,e,t)}handleAssetNameChange(e,t){const{layerContainer:{_id:n},version:i}=this.props;o.b.renameAsset(n,i,e,t)}render(e){const{class:t,formatter:n,layer:a,flowLink:s,version:u,bitmapInfoHidden:m,densityWarningHidden:g,flowInfoHidden:b,namingConvention:v,showOptimizedSVG:y,baseDensity:C,projectColors:w,projectTextStyles:S,projectType:k,assetExportTarget:E,onCloseClick:j,onCopyCode:x,onCopyContent:D}=e,_=Object(d.d)(a,n,w,S);return i.default.h("div",{class:Object(c.a)("layerDetail",t)},i.default.h(h.a,{layer:_,baseDensity:C,projectType:k,densityWarningHidden:g,bitmapInfoHidden:m,namingConvention:v,showOptimizedSVG:y,flowLink:s,flowInfoHidden:b,assetExportTarget:E,onChangeExportTargetClick:o.b.changeExportTarget,onOpenExportTargetClick:o.b.openExportTarget,onCloseClick:j,onAddTextStyleClick:o.b.addTextStyle,onRemoveTextStyleClick:o.b.removeTextStyle,onTextStyleNameChange:f,onAddColorClick:o.b.addColor,onRemoveColorClick:o.b.removeColor,onColorNameChange:this.renameColor,onLayerComponentClick:o.b.openComponentFromLayer,onContentCopyClick:D,onFlowLinkClick:r.b.deselectLayer,onDownloadAssetClick:this.handleDownloadAssetClick,onAssetNameChange:this.handleAssetNameChange,onHideDensityWarningClick:l.b.hideDensityMismatchWarning,onHideBitmapInfoClick:l.b.hideNoVectorAssetInfo,onNamingConventionChange:o.b.changeNamingConvention,onShowOptimizedSVGChange:o.b.useSVGO,onHideFlowInfoClick:l.b.dismissFlowLinkInfo}),i.default.h(p.a,{class:"codeSection",version:u,layer:a,onCopyClick:x,onSettingsClick:o.b.openExtensionSettings}))}}},function(e,t,n){"use strict";var i=n(385),a=n(386);const s={deselectLayer(){a.a.dispatch({type:i.a.DESELECT_LAYER})},copyLayerCode(e,t){a.a.dispatch({type:i.a.COPY_LAYER_CODE,code:e,extensionId:t})},copyLayerContent(e){a.a.dispatch({type:i.a.COPY_LAYER_CONTENT,content:e})},toggleLayoutGrid(){a.a.dispatch({type:i.a.TOGGLE_LAYOUT_GRID})},copyScreenLink(e){a.a.dispatch({type:i.a.COPY_SCREEN_LINK,link:e})},updateScreen(e,t){a.a.dispatch({type:i.a.UPDATE_SCREEN,sid:e,data:t})},openManageTags(e){a.a.dispatch({type:i.a.OPEN_MANAGE_TAGS,sid:e})},openSourceFile(e){a.a.dispatch({type:i.a.OPEN_SOURCE_FILE,path:e})},openSourceFolder(e){a.a.dispatch({type:i.a.OPEN_SOURCE_FOLDER,path:e})},loadDots(e){a.a.dispatch({type:i.a.LOAD_DOTS,dots:e})},selectDot(e,t){a.a.dispatch({type:i.a.SELECT_DOT,dotId:e,commentId:t})},changeDotFilter(e,t){a.a.dispatch({type:i.a.CHANGE_DOT_FILTER,status:e,color:t})},openNoteMode(){a.a.dispatch({type:i.a.OPEN_NOTE_MODE})},followFlowLink(e,t){a.a.dispatch({type:i.a.FOLLOW_FLOW_LINK,destinationType:e,flowTo:t})},changeDotPosition(e,t,n){a.a.dispatch({type:i.a.CHANGE_DOT_POSITION,id:e,x:t,y:n})},commitDotPosition(e,t,n){a.a.dispatch({type:i.a.COMMIT_DOT_POSITION,id:e,x:t,y:n})},revertDotPosition(){a.a.dispatch({type:i.a.REVERT_DOT_POSITION})},cancelDotPosition(){a.a.dispatch({type:i.a.CANCEL_DOT_POSITION})},updateDotStatus(e,t){a.a.dispatch({type:i.a.UPDATE_DOT_STATUS,id:e,status:t})},copyDotLink(e){a.a.dispatch({type:i.a.COPY_DOT_LINK,id:e})},deleteDot(e){a.a.dispatch({type:i.a.DELETE_DOT,id:e})},openDotMenu(e,t){a.a.dispatch({type:i.a.OPEN_DOT_MENU,id:e,origin:t})},closeDotMenu(){a.a.dispatch({type:i.a.CLOSE_DOT_MENU})},copyScreenCode(e,t){a.a.dispatch({type:i.a.COPY_SCREEN_CODE,code:e,extensionId:t})}};t.a=s},function(e,t,n){"use strict";var i=n(54),a=(n.n(i),n(386)),s=n(385);new class extends i.ReduceStore{constructor(){super(a.a)}getInitialState(){return{dots:null,statusFilter:"open",colorFilter:null}}loadDots(e,t){return Object.assign({},e,{dots:t.map(e=>Object.assign({},e))})}changeDotFilter(e,t,n){return Object.assign({},e,{colorFilter:n,statusFilter:t})}commitDotPosition(e,t,n,i){return Object.assign({},e,{dots:e.dots.map(e=>e._id===t?Object.assign({},e,{x:n,y:i}):e)})}updateDotStatus(e,t,n){return Object.assign({},e,{dots:e.dots.map(e=>e._id===t?Object.assign({},e,{status:n}):e)})}reduce(e,t){switch(t.type){case s.a.LOAD_DOTS:return this.loadDots(e,t.dots);case s.a.CHANGE_DOT_FILTER:return this.changeDotFilter(e,t.status,t.color);case s.a.COMMIT_DOT_POSITION:return this.commitDotPosition(e,t.id,t.x,t.y);case s.a.UPDATE_DOT_STATUS:return this.updateDotStatus(e,t.id,t.status);default:return e}}}},function(e,t,n){"use strict";var i=n(741);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(58),s=n(149),o=n(387),r=n(388),l=n(773),c=n(776),d=n(779),u=n(782),h=n(474),p=n(787),m=n(790),f=n(793),g=n(796);n.n(g);t.a=class extends i.default.Component{constructor(e){super(e),this.handleTypefaceHover=this.handleTypefaceHover.bind(this)}handleTypefaceHover(e){this.setState({hoveredTypeface:e})}renderAssets(){const{layer:{asset:e},baseDensity:t,projectType:n,namingConvention:a,densityWarningHidden:s,showOptimizedSVG:r,bitmapInfoHidden:l,assetExportTarget:c,onChangeExportTargetClick:d,onOpenExportTargetClick:u,onDownloadAssetClick:h,onAssetNameChange:p,onHideDensityWarningClick:m,onHideBitmapInfoClick:f,onNamingConventionChange:g,onShowOptimizedSVGChange:b}=this.props;if(e)return i.default.h(o.a,{asset:e,baseDensity:t,projectType:n,densityWarningHidden:s,bitmapInfoHidden:l,namingConvention:a,showOptimizedSVG:r,assetExportTarget:c,onChangeExportTargetClick:d,onOpenExportTargetClick:u,onDownloadClick:h,onNameChange:p,onHideDensityWarningClick:m,onHideBitmapInfoClick:f,onNamingConventionChange:g,onShowOptimizedSVGChange:b})}renderBlur(){const{layer:{blur:e}}=this.props;if(e)return i.default.h(a.a,{title:"Blur"},i.default.h(f.a,{blur:e}))}renderBorders(){const{layer:{borders:e},onAddColorClick:t,onRemoveColorClick:n,onColorNameChange:s}=this.props;if(e.length)return i.default.h(a.a,{title:"Borders"},e.map((e,a)=>i.default.h(p.a,{key:a,border:e,onColorNameChange:s,onColorAddClick:t,onColorRemoveClick:n})))}renderComponent(){const{layer:{component:e},onLayerComponentClick:t}=this.props;if(!e)return;const{id:n,name:s}=e;return i.default.h(a.a,{title:"Component"},i.default.h(u.a,{componentId:n,componentName:s,onClick:t}))}renderContent(){const{layer:{content:e,type:t,typefaces:n},onContentCopyClick:a}=this.props,{hoveredTypeface:s}=this.state;if("text"===t)return i.default.h(l.a,{textStyles:n.filter(e=>"default"!==e.group),onCopyClick:a,content:e,hovered:s})}renderFills(){const{layer:{fills:e},onAddColorClick:t,onRemoveColorClick:n,onColorNameChange:o}=this.props;if(e.length)return i.default.h(a.a,{title:"Colors"},e.map(e=>"color"===e.type?i.default.h(s.a,{color:e.color,onNameChange:o,onAddClick:t,onRemoveClick:n}):"gradient"===e.type?i.default.h(h.a,{gradient:e.gradient,onColorNameChange:o,onColorAddClick:t,onColorRemoveClick:n}):null))}renderShadows(){const{layer:{shadows:e},onAddColorClick:t,onRemoveColorClick:n,onColorNameChange:s}=this.props;if(e.length)return i.default.h(a.a,{title:"Shadows"},e.map((e,a)=>i.default.h(m.a,{key:a,shadow:e,onColorNameChange:s,onColorAddClick:t,onColorRemoveClick:n})))}renderTypefaces(){const{layer:{type:e,typefaces:t},onAddTextStyleClick:n,onRemoveTextStyleClick:s,onTextStyleNameChange:o,onAddColorClick:r,onRemoveColorClick:l,onColorNameChange:c}=this.props;if("text"===e)return i.default.h(a.a,null,i.default.h(d.a,{typefaces:t,onHoverChange:this.handleTypefaceHover,onAddTextStyleClick:n,onRemoveTextStyleClick:s,onTextStyleNameChange:o,onColorAddClick:r,onColorRemoveClick:l,onColorNameChange:c}))}render(e){const{flowLink:t,layer:n,flowInfoHidden:a,onCloseClick:s,onFlowLinkClick:o,onHideFlowInfoClick:l}=e;return i.default.h("div",{class:"detailSections"},i.default.h(r.a,{onCloseClick:s},n.name),i.default.h(c.a,{flowLink:t,layer:n,flowInfoHidden:a,onFlowLinkClick:o,onHideFlowInfoClick:l}),this.renderComponent(),this.renderTypefaces(),this.renderAssets(),this.renderFills(),this.renderBorders(),this.renderShadows(),this.renderBlur(),this.renderContent())}}},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(743);n.n(s);t.a=function(e){const{class:t,children:n,title:s}=e,o=Object.assign({},e,{class:Object(a.a)("sidebarSection",t)});return delete o.children,delete o.title,i.default.h("div",o,s&&i.default.h("h2",{class:"title"},s),n)}},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(465),s=n(189),o=n(753);n.n(o);const r=Object(s.a)(class extends i.default.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleColorNameChange=this.handleColorNameChange.bind(this)}handleAddClick(){const{color:{value:e},onAddClick:t}=this.props;t(e)}handleColorNameChange(e){const{color:{id:t},onNameChange:n}=this.props;n(t,e)}handleRemoveClick(){const{color:{id:e},onRemoveClick:t}=this.props;t(e)}render(e,t,n){const{color:{added:s,colorStyle:o,colorString:r,name:l,opacity:c},hover:d}=e,{permissions:{canManageColors:u}}=n;return i.default.h("div",{class:"layerColor"},i.default.h("div",{class:"colorPreview",style:{backgroundColor:o}}),i.default.h(a.a,{class:"layerColorInfo",hover:d,name:l,colorString:r,opacity:c,added:s,canManageColors:u,onAddClick:this.handleAddClick,onRemoveClick:this.handleRemoveClick,onNameChange:this.handleColorNameChange}))}});t.a=r},function(e,t,n){"use strict";var i=n(0),a=n(383),s=n(466),o=n(3),r=n(1),l=n(752);n.n(l);t.a=function(e,t){const{added:n,name:l,canManageColors:c,class:d,colorString:u,hover:h,opacity:p,onAddClick:m,onRemoveClick:f,onNameChange:g}=e,{projectType:b}=t;let v;return!!l&&(v=n&&c?i.default.h(a.a,{initialValue:l,filterRegex:r.h[b],prefix:"#",maxLength:36,blurOnEnter:!0,onBlur:g}):i.default.h("div",null,i.default.h("span",{class:"name"},"#",l,p&&i.default.h("span",{class:"opacity"},", ",p)))),i.default.h("div",{class:Object(o.a)("colorInfo",d,{hover:h})},i.default.h("div",{class:"infoContent"},v,i.default.h("div",{class:"value"},u)),i.default.h(s.a,{onAddClick:m,onRemoveClick:f,resourceAdded:n,class:"resourceButton",type:s.a.TYPE.COLOR,disabled:!c}))}},function(e,t,n){"use strict";var i=n(0),a=n(747),s=n(749),o=n(751);n.n(o);class r extends i.default.Component{constructor(e){super(e),this.state={hasClickHover:!1},this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveButtonMouseLeave=this.handleRemoveButtonMouseLeave.bind(this)}handleAddClick(e){this.setState({hasClickHover:!0}),this.props.onAddClick(e)}handleRemoveButtonMouseLeave(){this.state.hasClickHover&&this.setState({hasClickHover:!1})}handleRemoveClick(e){this.setState({hasClickHover:!0}),this.props.onRemoveClick(e)}render({class:e,type:t=r.TYPE.DEFAULT,resourceAdded:n,disabled:o},{hasClickHover:l}){return n?i.default.h(s.a,{type:t,class:e,disabled:o,hideHoverState:l,onMouseLeave:this.handleRemoveButtonMouseLeave,onClick:this.handleRemoveClick}):i.default.h(a.a,{type:t,class:e,disabled:o,onClick:this.handleAddClick})}}r.TYPE=Object.freeze({DEFAULT:"color",COLOR:"color",TEXT_STYLE:"textStyle"}),t.a=r},function(e,t,n){"use strict";var i=n(748);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(14),s=n(56),o=n(59);const r={color:i.default.h("svg",{width:"36",height:"24",viewBox:"0 0 36 24"},i.default.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.default.h("path",{d:"M27.5 11.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3z"}),i.default.h("path",{"fill-rule":"nonzero",d:"M17 13.96c0-3.208-5.87-9.538-6.12-9.808a.545.545 0 0 0-.755 0C9.87 4.422 4 10.752 4 13.959c0 3.323 2.915 6.026 6.5 6.026s6.5-2.703 6.5-6.026zm-6.5 5.026c-3.035 0-5.5-2.254-5.5-5.027 0-1.998 3.165-6.165 5.5-8.743 2.335 2.573 5.5 6.75 5.5 8.743 0 2.773-2.47 5.027-5.5 5.027zm6.035-14.834c.255.27 6.12 6.6 6.135 9.822 0 3.323-2.915 6.026-6.5 6.026a6.815 6.815 0 0 1-1.5-.17 7.5 7.5 0 0 0 1.115-.844h.375c3.035 0 5.5-2.254 5.5-5.027 0-1.993-3.165-6.17-5.5-8.743a28.926 28.926 0 0 0-1.535 1.789c-.21-.275-.42-.545-.625-.805a46.216 46.216 0 0 1 1.78-2.048.545.545 0 0 1 .755 0z"}))),textStyle:i.default.h("svg",{width:"36",height:"24",viewBox:"0 0 36 24"},i.default.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.default.h("path",{d:"M27.5 11.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3zM13.413 17.683l-1.406-3.885H6.68l-1.407 3.885H4L8.746 5h1.195l4.738 12.683h-1.266zM9.317 6.485l-2.276 6.276h4.605L9.37 6.485h-.053zM18.31 16.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.767h-1.125c.132-1.635 1.477-2.795 3.56-2.795s3.392 1.169 3.392 3.032v6.258H21.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889z"})))};t.a=function(e,t){const{class:n,disabled:l,type:c,onClick:d}=e,{userRole:u}=t,h="color"===c?"color":"text style",p=l?Object(o.a)(u,`add ${h}s`):`Add ${h} to Styleguide`;return i.default.h(s.a,{targetClass:n,content:p},i.default.h(a.a,{class:"addResourceButton resourceButtonButton",disabled:l,onClick:d},r[c]))}},function(e,t,n){"use strict";var i=n(750);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(14),s=n(56),o=n(59),r=n(3);const l={color:i.default.h("svg",{width:"36",height:"24",viewBox:"0 0 36 24"},i.default.h("g",{fill:"#FFF","fill-rule":"evenodd",opacity:".5"},i.default.h("path",{d:"M27.247 13.337l4.731-3.724a.538.538 0 0 1 .725.06.462.462 0 0 1-.063.68l-5.126 4.034a.538.538 0 0 1-.725-.06l-2.316-2.588a.462.462 0 0 1 .064-.68.538.538 0 0 1 .725.059l1.985 2.219z"}),i.default.h("path",{"fill-rule":"nonzero",d:"M16.941 13.96c0-3.208-6.215-9.538-6.48-9.808a.602.602 0 0 0-.8 0c-.27.27-6.485 6.6-6.485 9.807 0 3.323 3.087 6.026 6.883 6.026s6.882-2.703 6.882-6.026zm-6.882 5.026c-3.214 0-5.824-2.254-5.824-5.027 0-1.998 3.351-6.165 5.824-8.743 2.472 2.573 5.823 6.75 5.823 8.743 0 2.773-2.615 5.027-5.823 5.027zm6.39-14.834c.27.27 6.48 6.6 6.496 9.822 0 3.323-3.087 6.026-6.883 6.026a7.622 7.622 0 0 1-1.588-.17c.42-.246.816-.529 1.18-.844h.398c3.213 0 5.823-2.254 5.823-5.027 0-1.993-3.35-6.17-5.823-8.743a29.453 29.453 0 0 0-1.626 1.789 66.546 66.546 0 0 0-.661-.805c1-1.149 1.794-1.958 1.884-2.048a.602.602 0 0 1 .8 0z"}))),textStyle:i.default.h("svg",{width:"36",height:"24",viewBox:"0 0 36 24"},i.default.h("g",{fill:"#FFF","fill-opacity":".5","fill-rule":"evenodd"},i.default.h("path",{d:"M13.413 17.683l-1.406-3.885H6.68l-1.407 3.885H4L8.746 5h1.195l4.738 12.683h-1.266zM9.317 6.485l-2.276 6.276h4.605L9.37 6.485h-.053zM18.31 16.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.344 0-2.206.66-2.408 1.767h-1.125c.132-1.635 1.477-2.795 3.56-2.795s3.392 1.169 3.392 3.032v6.258H21.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889zM26.733 13.337l4.468-3.724a.488.488 0 0 1 .685.06.48.48 0 0 1-.06.68l-4.84 4.034a.488.488 0 0 1-.685-.06l-2.187-2.588a.48.48 0 0 1 .06-.68.488.488 0 0 1 .684.059l1.875 2.219z"})))},c={color:[i.default.h("svg",{width:"36",height:"24",viewBox:"0 0 36 24",key:"default"},i.default.h("g",{fill:"#FFF","fill-rule":"evenodd"},i.default.h("path",{d:"M27.247 13.337l4.731-3.724a.538.538 0 0 1 .725.06.462.462 0 0 1-.063.68l-5.126 4.034a.538.538 0 0 1-.725-.06l-2.316-2.588a.462.462 0 0 1 .064-.68.538.538 0 0 1 .725.059l1.985 2.219z"}),i.default.h("path",{"fill-rule":"nonzero",d:"M16.941 13.96c0-3.208-6.215-9.538-6.48-9.808a.602.602 0 0 0-.8 0c-.27.27-6.485 6.6-6.485 9.807 0 3.323 3.087 6.026 6.883 6.026s6.882-2.703 6.882-6.026zm-6.882 5.026c-3.214 0-5.824-2.254-5.824-5.027 0-1.998 3.351-6.165 5.824-8.743 2.472 2.573 5.823 6.75 5.823 8.743 0 2.773-2.615 5.027-5.823 5.027zm6.39-14.834c.27.27 6.48 6.6 6.496 9.822 0 3.323-3.087 6.026-6.883 6.026a7.622 7.622 0 0 1-1.588-.17c.42-.246.816-.529 1.18-.844h.398c3.213 0 5.823-2.254 5.823-5.027 0-1.993-3.35-6.17-5.823-8.743a29.453 29.453 0 0 0-1.626 1.789 66.546 66.546 0 0 0-.661-.805c1-1.149 1.794-1.958 1.884-2.048a.602.602 0 0 1 .8 0z"}))),i.default.h("svg",{width:"36",height:"24",viewBox:"0 0 36 24",class:"remove",key:"remove"},i.default.h("g",{fill:"#FFF","fill-rule":"evenodd",transform:"translate(4 4)"},i.default.h("rect",{width:"8",height:"1",x:"20",y:"7.5",rx:".5"}),i.default.h("path",{"fill-rule":"nonzero",d:"M13 9.96C13 6.751 7.13.421 6.88.151a.545.545 0 0 0-.755 0C5.87.422 0 6.752 0 9.959c0 3.323 2.915 6.026 6.5 6.026S13 13.282 13 9.959zm-6.5 5.026c-3.035 0-5.5-2.254-5.5-5.027 0-1.998 3.165-6.165 5.5-8.743C8.835 3.789 12 7.966 12 9.959c0 2.773-2.47 5.027-5.5 5.027zM12.535.152c.255.27 6.12 6.6 6.135 9.822 0 3.323-2.915 6.026-6.5 6.026a6.815 6.815 0 0 1-1.5-.17 7.5 7.5 0 0 0 1.115-.844h.375c3.035 0 5.5-2.254 5.5-5.027 0-1.993-3.165-6.17-5.5-8.743a28.926 28.926 0 0 0-1.535 1.789c-.21-.275-.42-.545-.625-.805A46.216 46.216 0 0 1 11.78.152a.545.545 0 0 1 .755 0z"})))],textStyle:[i.default.h("svg",{width:"36",height:"24",viewBox:"0 0 36 24",key:"default"},i.default.h("g",{fill:"#FFF","fill-rule":"evenodd"},i.default.h("path",{d:"M13.413 17.683l-1.406-3.885H6.68l-1.407 3.885H4L8.746 5h1.195l4.738 12.683h-1.266zM9.317 6.485l-2.276 6.276h4.605L9.37 6.485h-.053zM18.31 16.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.767h-1.125c.132-1.635 1.477-2.795 3.56-2.795s3.392 1.169 3.392 3.032v6.258H21.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889zM26.733 13.837l4.468-3.724a.488.488 0 0 1 .685.06.48.48 0 0 1-.06.68l-4.84 4.034a.488.488 0 0 1-.685-.06l-2.187-2.588a.48.48 0 0 1 .06-.68.488.488 0 0 1 .684.059l1.875 2.219z"}))),i.default.h("svg",{width:"36",height:"24",viewBox:"0 0 36 24",class:"remove",key:"remove"},i.default.h("g",{fill:"#FFF",transform:"translate(4 5)"},i.default.h("path",{d:"M9.413 12.683L8.007 8.798H2.68l-1.407 3.885H0L4.746 0h1.195l4.738 12.683H9.413zM5.317 1.485L3.041 7.761h4.605L5.37 1.485h-.053zM14.31 11.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.766h-1.125c.132-1.634 1.477-2.794 3.56-2.794s3.392 1.169 3.392 3.032v6.258H17.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889z"}),i.default.h("rect",{width:"8",height:"1",x:"20",y:"6.5",rx:".5"})))]};t.a=function(e,t){const{class:n,disabled:d,type:u,onClick:h,hideHoverState:p,onMouseLeave:m}=e,{userRole:f}=t,g="color"===u?"color":"text style",b=d?Object(o.a)(f,`delete ${g}s`):`Delete ${g} from Styleguide`,v=i.default.h(a.a,{class:Object(r.a)("removeResourceButton","resourceButtonButton",{hideHoverState:p}),disabled:d,onClick:h,onMouseLeave:m},d?l[u]:c[u]);return p?v:function(e,{targetClass:t,content:n}){return i.default.h(s.a,{targetClass:t,content:n},e)}(v,{targetClass:n,content:b})}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(467),o=n(1),r=n(468),l=n(469),c=n(470),d=n(471),u=n(472),h=n(14),p=n(157),m=n(58),f=n(180),g=n(159),b=n(767),v=n(770);n.n(v);t.a=class extends i.default.Component{constructor(e){super(e),this.createDownloadClickHandler=this.createDownloadClickHandler.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.showSettingsMenu=this.showSettingsMenu.bind(this),this.hideSettingsMenu=this.hideSettingsMenu.bind(this)}getAssetName(){const{asset:e,namingConvention:t}=this.props;return Object(s.a)(e,t)}hideSettingsMenu(){this.setState({settingsOpen:!1})}showSettingsMenu(){this.setState({settingsOpen:!0})}handleNameChange(e){const{asset:{id:t,localName:n},onNameChange:i}=this.props,{value:a}=e.target,s=n||this.getAssetName();a?s!==a&&i(t,a):e.target.value=s}createDownloadClickHandler(e){const{asset:{id:t},onDownloadClick:n}=this.props;return()=>{n(t,e)}}renderBitmapInfo(){const{onHideBitmapInfoClick:e}=this.props;return i.default.h(f.a,{class:"bitmapInfo",onHideClick:e},"This asset contains a ‘bitmap’ image inside. So no vector assets is generated.")}render(e,t){const{asset:{localName:n,size:f,formats:v,densityMismatch:y,light:C,previewImages:w},bitmapInfoHidden:S,densityWarningHidden:k,namingConvention:E,showOptimizedSVG:j,projectType:x,assetExportTarget:D,onChangeExportTargetClick:_,onOpenExportTargetClick:O,onHideDensityWarningClick:L,onNamingConventionChange:T,onShowOptimizedSVGChange:R}=e,{settingsOpen:I}=t,A=i.default.h("div",{class:"assetsTitle"},"Assets",i.default.h(u.a,{open:I,onClose:this.hideSettingsMenu,onNamingConventionChange:T,onShowOptimizedSVGChange:R,projectType:x,settings:{namingConvention:E,showOptimizedSVG:j},target:i.default.h(h.a,{class:Object(a.a)("assetSettingsButton",{active:I}),onClick:this.showSettingsMenu},i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("path",{fill:"#554d56","fill-rule":"evenodd",d:"M11.437 7.5a2 2 0 0 1-3.874 0H4.5a.5.5 0 0 1 0-1H7.563a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-8.063zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4.5a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1H9.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"})))})),N=Object.keys(v).some(e=>"jpg"===e)&&Object.keys(v).every(e=>"svg"!==e&&"pdf"!==e),P=this.getAssetName();return i.default.h(m.a,{class:Object(a.a)("assetSection",e.class),title:A},y&&!k&&i.default.h(r.a,{class:"warningBox",onHideClick:L}),!Object(o.f)()&&i.default.h(l.a,{class:"warningBox"}),i.default.h(d.a,{class:"preview",light:C,images:w}),i.default.h(g.a,{name:"Name",capitalize:!1},i.default.h(p.a,{class:"assetName",blurOnEnter:!0,value:n||P,onBlur:this.handleNameChange})),n&&i.default.h("div",{class:"renameInfo"},"Renamed locally from “",P,"”"),i.default.h(g.a,{name:"Size"},f&&`${f.width} × ${f.height}`),i.default.h("div",{class:"assetExports"},Object.keys(v).sort(s.b).map(e=>{const{variants:t,diff:n}=v[e];return i.default.h(c.a,{key:e,format:e,variants:t,diff:n,hideOptimization:"svg"===e&&!j,onDownloadClick:this.createDownloadClickHandler(e)})})),D&&i.default.h(b.a,{name:D.name,type:D.type,path:D.path,pathParts:D.pathParts,onChangeClick:_,onOpenClick:O}),N&&!S&&this.renderBitmapInfo())}}},function(e,t,n){"use strict";var i=n(0),a=n(180);function s(){window.open("https://support.zeplin.io/faq/all-the-measurements-are-wrong-halftwice-the-size","_blank,noopener")}t.a=function(e){const{class:t,onHideClick:n}=e;return i.default.h(a.a,{class:t,type:"warning",onHideClick:n,actionContent:"Learn more",onActionClick:s},"Project density changed after this screen was exported. Asset sizes might be incorrect, please re-export to make sure.")}},function(e,t,n){"use strict";var i=n(0),a=n(14),s=n(3),o=n(5),r=n(757);n.n(r);t.a=function(e){const{class:t,children:n,type:r="default",actionContent:l,onHideClick:c,onActionClick:d}=e;let u=[];return l&&u.push(i.default.h(a.a,{class:"hintAction",onClick:d},l)),c&&u.push(i.default.h(a.a,{class:"hideHintButton",onClick:c},i.default.h("svg",{width:"14",height:"14",viewBox:"0 0 14 14"},i.default.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M7 14A7 7 0 1 1 7 0a7 7 0 0 1 0 14zm0-8.292L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"})),"OK, hide it!")),i.default.h("div",{class:Object(s.a)("hintBox",t,r)},"warning"===r?i.default.h("img",{src:Object(o.b)("img/icHintWarning.png"),srcSet:`${Object(o.b)("img/icHintWarning@2x.png")} 2x, ${Object(o.b)("img/icHintWarning@3x.png")} 3x`}):i.default.h("img",{src:Object(o.b)("img/icTeyzeHint.png"),srcSet:`${Object(o.b)("img/icTeyzeHint@2x.png")} 2x, ${Object(o.b)("img/icTeyzeHint@3x.png")} 3x`}),i.default.h("div",{class:"hintContent"},i.default.h("p",null,n),u.length>0&&i.default.h("div",{class:"hintFooter"},u)))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(180);t.a=function(e){const{class:t}=e;return i.default.h(a.a,{class:t,type:"warning"},"Exporting assets is not working on your browser yet 😔, try it on Firefox or Chrome.")}},function(e,t,n){"use strict";var i=n(0),a=n(14),s=n(1),o=n(760);n.n(o);function r(e){return"svg"===e||"pdf"===e}t.a=function(e){const{format:t,variants:n,diff:o,hideOptimization:l,onDownloadClick:c}=e,d=n.length;let u;return r(t)||o?!r(t)&&o?u=`~${o.percent}% smaller than ${o.type.toUpperCase()}`:"svg"!==t||l||(u=o?`~${o.percent}% smaller, optimized with SVGO`:"Optimized with SVGO"):u=Array.from(new Set(n.map(e=>e.density))).sort((e,t)=>Object(s.q)(e)-Object(s.q)(t)).join(", "),i.default.h("div",{class:"assetExport"},i.default.h("div",{class:"exportType"},t),i.default.h("div",{class:"exportInfo"},i.default.h("div",null,d," ",function(e){switch(e){case"jpg":case"png":return"bitmap";case"pdf":case"svg":return"vector"}}(t)," image",d>1?"s":""),i.default.h("div",{class:"extraInfo ellipsis"},u)),i.default.h(a.a,{class:"downloadButton",onClick:c},i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("path",{fill:"#554D56","fill-rule":"evenodd",d:"M5 18h14v-4.5a.5.5 0 1 1 1 0v5a.498.498 0 0 1-.5.5h-15a.5.5 0 0 1-.5-.5v-5a.5.5 0 1 1 1 0V18zm6.5-3.625V5.5a.5.5 0 1 1 1 0v8.875l2.654-2.543a.511.511 0 0 1 .7 0 .46.46 0 0 1 0 .671l-3.504 3.358a.511.511 0 0 1-.7 0l-3.505-3.358a.46.46 0 0 1 0-.671.511.511 0 0 1 .701 0l2.654 2.543z"}))))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(1),o=n(11),r=n(762);n.n(r);t.a=class extends i.default.Component{constructor(e){super(e),this.setImageSource=this.setImageSource.bind(this),this.state={source:null}}setImageSource(){const{images:e}=this.props,[t]=getComputedStyle(this.nodeRefs.image).maxHeight.match(/\d+/),n=t*window.devicePixelRatio,i=Object.keys(e).map(Number).sort((e,t)=>e-t),a=e[i[0]];Object(s.u)(a).then(t=>{const a=t.size.height,s=i.find(e=>a*e>=n)||i[i.length-1];this.setState({source:e[s]})})}componentDidMount(){this.setImageSource()}componentDidUpdate(e){e.images[1]!==this.props.images[1]&&this.setImageSource()}render(){const{source:e}=this.state,{class:t,light:n}=this.props;return i.default.h("div",{class:Object(a.a)("assetPreview","noSelect",t,{light:n})},i.default.h("img",{ref:Object(o.a)(this,"image"),src:e,crossorigin:"anonymous"}))}}},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(49),s=n(440),o=n(11),r=n(764);n.n(r);const l=[{name:"Default",value:"default"},{name:"camelCase",value:"camelCase"},{name:"snake_case",value:"snakeCase"},{name:"kebab-case",value:"kebabCase"},{name:"Original",value:"original"}];class c extends i.default.Component{constructor(e){super(e),this.handlePortalDidRender=this.handlePortalDidRender.bind(this),this.handleSettingsChange=this.handleSettingsChange.bind(this)}static namingOptionVisible(e){return"android"!==e}static svgOptionVisible(e){return"android"===e||"web"===e}handlePortalDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top,a=t.left-n.width;let s,o;o=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,s=a+n.width+12>window.innerWidth?window.innerWidth-n.width-12:a,e.style.transform=`translate3d(${s}px, ${o}px, 0)`}handleSettingsChange(e,t){"naming"===e?this.props.onNamingConventionChange(t):"optimizedSVG"===e&&this.props.onShowOptimizedSVGChange(t)}render(e){const{settings:{namingConvention:t,showOptimizedSVG:n},projectType:r,open:d,target:u,onClose:h}=e,p=[];return c.namingOptionVisible(r)&&p.push(i.default.h(s.a.Picker,{name:"naming",content:"Naming",submenu:!0,value:t,options:l})),c.svgOptionVisible(r)&&p.push(i.default.h(s.a.Switch,{name:"optimizedSVG",content:"Display optimized SVG",value:n})),i.default.h("div",{class:"assetSettings"},i.default.h("div",{class:"target",ref:Object(o.a)(this,"target")},u),d&&i.default.h(a.a,{didRender:this.handlePortalDidRender},i.default.h(s.a,{class:"assetSettingsMenu",onChange:this.handleSettingsChange,onClose:h},p)))}}t.a=c},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(766);n.n(s);function o({capitalize:e=!0,name:t,children:n,class:s}={}){return i.default.h("div",{class:Object(a.a)("layerProperty",s,{capitalize:e})},i.default.h("span",{class:"propertyName noSelect"},t,": "),i.default.h("span",{class:"propertyValue ellipsis"},n))}o.Group=function({children:e,class:t}){return i.default.h("div",{class:Object(a.a)("layerPropertyGroup",t)},e)},t.a=o},function(e,t){},function(e,t,n){"use strict";var i=n(768);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(14),s=n(3),o=n(5),r=n(769);n.n(r);const l=i.default.h("svg",{key:"folderIcon",width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("g",{fill:"none","fill-rule":"evenodd",stroke:"#554D56"},i.default.h("rect",{width:"15",height:"9",x:"4.5",y:"9.5",rx:"1"}),i.default.h("path",{d:"M5 5.5a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V7.444a.5.5 0 0 0-.5-.5h-6.615a1.5 1.5 0 0 1-1.006-.386l-.743-.671A1.5 1.5 0 0 0 9.63 5.5H5z"})));t.a=function(e){const{name:t,type:n,path:r,pathParts:c,onChangeClick:d,onOpenClick:u}=e;return i.default.h("div",{class:"exportPathSelection"},i.default.h("div",{class:"pathLocation"},i.default.h("div",{class:"name ellipsis",title:t,onClick:d},"Exporting to “",t,"“"),i.default.h("div",{class:"path",title:r,onClick:u},c.join(" ▸ "))),i.default.h(a.a,{class:Object(s.a)(n,"openExportPath"),onClick:u},"android"===n?[i.default.h("img",{key:"regular",src:Object(o.b)("img/icAndroidStudio.png"),srcset:Object(o.c)(Object(o.b)("img/icAndroidStudio.png"))}),i.default.h("img",{key:"pressed",src:Object(o.b)("img/icAndroidStudioPressed.png"),srcset:Object(o.c)(Object(o.b)("img/icAndroidStudioPressed.png"))})]:l))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";t.a=function(e){const{children:t,onCloseClick:n}=e;return i.default.h("div",{class:"sidebarHeader"},i.default.h("h2",{class:"ellipsis"},t),i.default.h(a.a,{class:"closeButton",onClick:n},i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("path",{fill:"#979197","fill-rule":"evenodd",d:"M12 10.13L8.261 6.39a1.324 1.324 0 0 0-1.873-.002c-.52.52-.515 1.355.002 1.873L10.13 12l-3.74 3.739a1.324 1.324 0 0 0-.002 1.873c.52.52 1.355.515 1.873-.002L12 13.87l3.739 3.74a1.324 1.324 0 0 0 1.873.002c.52-.52.515-1.355-.002-1.873L13.87 12l3.74-3.739a1.324 1.324 0 0 0 .002-1.873 1.321 1.321 0 0 0-1.873.002L12 10.13z"}))))};var i=n(0),a=n(14),s=n(772);n.n(s)},function(e,t){},function(e,t,n){"use strict";var i=n(774);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(14),s=n(58),o=n(3),r=n(1),l=n(775);n.n(l);t.a=class extends i.default.Component{constructor(e){super(e),this.handleCopyClick=this.handleCopyClick.bind(this),this.handleContentFocus=this.handleContentFocus.bind(this)}handleContentFocus(e){const{onCopyClick:t,content:n}=this.props;t(n),setTimeout(r.T,40,e.target)}handleCopyClick(){this.props.onCopyClick(this.props.content)}renderContent(){const{content:e,textStyles:t,hovered:n}=this.props;if(!t.length)return e;const a=[];let s=0;return t.forEach(({range:t,group:l})=>{const c=Object(r.m)(e.substring(t.start,t.end));if(t.start>s)a.push(Object(r.m)(e.substring(s,t.start)));else if(t.start<s)return;a.push(i.default.h("span",{class:Object(o.a)({hovered:n===l}),"data-color-group":l},c)),s=t.end}),a.push(Object(r.m)(e.substring(s,e.length))),a}renderTitle(){return i.default.h("div",{class:"contentTitle"},"Content",Object(r.e)()&&i.default.h(a.a,{class:"contentCopyButton",onClick:this.handleCopyClick},i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("path",{fill:"#554D56","fill-rule":"evenodd",d:"M7 6h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm2-1H8a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-7a1 1 0 0 0-1 1z"}))))}render(e){return i.default.h(s.a,{class:Object(o.a)("contentSection",e.class),title:this.renderTitle()},i.default.h("p",{class:"layerContent",onFocus:this.handleContentFocus,tabIndex:"1"},this.renderContent()))}}},function(e,t){},function(e,t,n){"use strict";var i=n(777);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(58),s=n(180),o=n(159),r=n(3),l=n(778);n.n(l);function c({name:e,url:t,onFlowLinkClick:n}){return i.default.h("div",{class:"linkProperty"},i.default.h("a",{class:"ellipsis screenLink",href:t,"data-link-type":t&&"inApp",onClick:t&&n},e),t&&i.default.h("a",{class:"screenLinkIcon",href:t,"data-link-type":"inApp",onClick:t&&n},i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.default.h("path",{d:"M12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-1a7 7 0 1 0 0-14 7 7 0 0 0 0 14z"}),i.default.h("path",{d:"M16.682 12.5H9.937a2 2 0 1 1 0-1h6.745l-2.543-2.654a.511.511 0 0 1 0-.7.46.46 0 0 1 .672 0l3.357 3.504a.511.511 0 0 1 0 .7l-3.357 3.505a.46.46 0 0 1-.672 0 .511.511 0 0 1 0-.701l2.543-2.654zM8 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})))))}t.a=function(e){const{class:t,flowLink:n,layer:{rect:l,opacity:d,borderRadius:u,rotation:h,blendMode:p},flowInfoHidden:m,onFlowLinkClick:f,onHideFlowInfoClick:g}=e;return i.default.h(a.a,{class:Object(r.a)("infoSection",t)},i.default.h(o.a.Group,null,i.default.h(o.a,{name:"X"},l.x),i.default.h(o.a,{name:"Y"},l.y)),i.default.h(o.a.Group,null,i.default.h(o.a,{name:"Width"},l.width),i.default.h(o.a,{name:"Height"},l.height)),u&&i.default.h(o.a,{name:"Radius"},u),d&&i.default.h(o.a,{name:"Opacity"},d),h&&i.default.h(o.a,{name:"Rotation"},`${h}°`),p&&i.default.h(o.a,{name:"Blend Mode"},p),n&&i.default.h(o.a,{name:"Linked to"},i.default.h(c,{name:n.name,url:n.url,onFlowLinkClick:f})),n&&!m&&i.default.h(s.a,{class:"flowInfo",onHideClick:g},"This area is linked to another screen. To quickly view links and navigate to linked screens, hold down ",i.default.h("strong",null,"Shift"),"."))}},function(e,t){},function(e,t,n){"use strict";var i=n(780);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(781),s=n(58),o=n(473);n.n(o);t.a=class extends i.default.Component{constructor(e){super(e),this.handleHoverChange=this.handleHoverChange.bind(this)}handleHoverChange(e,t){t?this.props.onHoverChange(e):this.props.onHoverChange(null)}render(e){const{typefaces:t,onAddTextStyleClick:n,onRemoveTextStyleClick:o,onTextStyleNameChange:r,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d}=e;return i.default.h("div",null,function(e){const t={};return e.sort(({range:{start:e}},{range:{start:t}})=>e-t).filter(({group:e})=>!t[e]&&(t[e]=!0,!0))}(t).map(({textStyle:e,group:t,content:u})=>{const h="default"===t;return i.default.h(s.a,{class:"typefaceSection",key:t},i.default.h(a.a,{textStyle:e,colorGroup:!h&&t,snippet:u,onHoverChange:!h&&this.handleHoverChange.bind(this,t),onAddClick:n,onRemoveClick:o,onNameChange:r,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d}))}))}}},function(e,t,n){"use strict";var i=n(0),a=n(159),s=n(466),o=n(157),r=n(149),l=n(189),c=n(3),d=n(473);n.n(d);const u=Object(l.a)(class extends i.default.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.state={hover:!1}}handleAddClick(){const{textStyle:{value:e},onAddClick:t}=this.props;t(e)}handleNameChange(e){const{textStyle:{id:t,name:n},onNameChange:i}=this.props,{value:a}=e.target;a?n!==a&&i(t,a):e.target.value=n}handleRemoveClick(){this.props.onRemoveClick(this.props.textStyle.id)}render(e,t,n){const{class:l,colorGroup:d,snippet:u,textStyle:{added:h,name:p,color:m,fontFace:f,fontSize:g,letterSpacing:b,lineHeight:v,textAlign:y},hover:C,onColorAddClick:w,onColorRemoveClick:S,onColorNameChange:k}=e,{permissions:{canManageTextStyles:E}}=n,j=d?i.default.h("div",{class:"typefaceHeader","data-color-group":d},i.default.h("div",{class:"typefaceTitle"},i.default.h("span",null,"Typeface "),i.default.h("span",null,u),i.default.h("span",null,"”")),d&&i.default.h("div",{class:"colorGroup"})):i.default.h("div",{class:"typefaceHeader"},i.default.h("div",{class:"typefaceTitle"},i.default.h("span",null,"Typeface"))),x=i.default.h(s.a,{onAddClick:this.handleAddClick,onRemoveClick:this.handleRemoveClick,resourceAdded:h,type:s.a.TYPE.TEXT_STYLE,disabled:!E});return i.default.h("div",{class:Object(c.a)("typeface",l,{hover:C})},j,h?[i.default.h("div",{class:"textStyleName"},i.default.h(o.a,{class:"textStyleNameInput",value:p,blurOnEnter:!0,disabled:!E,onBlur:this.handleNameChange}),i.default.h("div",{class:"buttonSpacer"},x)),i.default.h("div",{class:"layerFontFace"},i.default.h("span",{class:"ellipsis"},f))]:i.default.h("div",{class:"layerFontFace"},i.default.h("span",{class:"ellipsis"},f),i.default.h("div",{class:"buttonSpacer"},x)),i.default.h(a.a.Group,null,i.default.h(a.a,{name:"Size"},g),void 0!==y&&i.default.h(a.a,{name:"Align"},y)),void 0!==v&&i.default.h(a.a,{name:"Line Height"},v),void 0!==b&&i.default.h(a.a,{name:"Letter Spacing"},b),m&&i.default.h(r.a,{color:m,initialHover:C,onNameChange:k,onAddClick:w,onRemoveClick:S}))}});t.a=u},function(e,t,n){"use strict";var i=n(783);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(784);n.n(s);t.a=class extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){if(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)return;e.preventDefault();const{componentId:t,onClick:n}=this.props,{projectId:i,screenId:s,screenName:o}=this.context;n(t,Object(a._3)("project-screen",{url:{pid:i,sid:s}}),o)}render(e,t,n){const{componentId:s,componentName:o}=e,{projectId:r}=n,l=Object(a._3)("project-styleguide-components",{url:{pid:r},query:{coid:s}});return i.default.h("div",{class:"layerComponent"},i.default.h("span",{class:"name ellipsis",title:o},o),i.default.h("a",{href:l,onClick:this.handleClick,"data-link-type":"inApp"},i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.default.h("path",{d:"M16.359 12.563H6.375a.562.562 0 1 1 0-1.126h9.984l-2.86-2.985a.575.575 0 0 1 0-.789.519.519 0 0 1 .755 0l3.777 3.943a.575.575 0 0 1 0 .788l-3.777 3.943a.519.519 0 0 1-.756 0 .575.575 0 0 1 0-.789l2.86-2.985z"}),i.default.h("path",{d:"M12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18zm0-1.125a7.875 7.875 0 1 0 0-15.75 7.875 7.875 0 0 0 0 15.75z"})))))}}},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(49),s=n(465),o=n(189),r=n(786);n.n(r);const l=Object(o.a)(function(e){const{color:{name:t,colorString:n,opacity:a,added:o},canManageColors:r,onNameChange:l,onAddClick:c,onRemoveClick:d,hover:u}=e;return i.default.h("div",{class:"gradientColor"},i.default.h(s.a,{class:"gradientColorInfo",added:o,name:t,canManageColors:r,hover:u,colorString:n,opacity:a,editable:o&&r,onAddClick:c,onRemoveClick:d,onNameChange:l}))});t.a=class extends i.default.Component{constructor(e){super(e),this.handleColorStopMouseEnter=this.handleColorStopMouseEnter.bind(this),this.handleColorStopMouseLeave=this.handleColorStopMouseLeave.bind(this),this.state={colorStop:null}}handleColorStopMouseEnter(e){const t=e.target.closest(".colorStop"),{top:n,left:i}=t.getBoundingClientRect();this.setState({activeColorStop:{value:t.dataset.pos,x:`calc(${Math.trunc(i-4)}px - 100%)`,y:`${Math.trunc(n-5)}px`}})}handleColorStopMouseLeave(){this.setState({activeColorStop:null})}render(e,t,n){const{gradient:{colorStops:s,gradientStyle:o},onColorAddClick:r,onColorRemoveClick:c,onColorNameChange:d}=e,{activeColorStop:u}=t,{permissions:{canManageColors:h}}=n;return i.default.h("div",{class:"layerGradient"},i.default.h("div",{class:"gradientPreview",style:{backgroundImage:o}},s.map(({color:{colorStyle:e},position:t},n)=>{const a=t>0&&t<1,s={top:`${Math.trunc(100*t)}%`,color:e};return i.default.h("div",{class:"colorStop",key:n,style:s,"data-pos":t,onMouseEnter:a&&this.handleColorStopMouseEnter,onMouseLeave:a&&this.handleColorStopMouseLeave})})),i.default.h("div",{class:"gradientColors"},s.map(({color:e},t)=>{const{id:n,value:a}=e;return i.default.h(l,{key:t,color:e,canManageColors:h,onNameChange:function(e){d(n,e)},onAddClick:function(){r(a)},onRemoveClick:function(){c(n)}})})),u&&i.default.h(a.a,null,i.default.h("div",{class:"colorStopPosition",style:{transform:`translate3d(${u.x}, ${u.y}, 0`}},u.value)))}}},function(e,t){},function(e,t,n){"use strict";var i=n(788);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(149),s=n(474),o=n(789);n.n(o);t.a=function(e){const{border:{color:t,gradient:n,position:o,thickness:r},disabled:l,onColorAddClick:c,onColorRemoveClick:d,onColorNameChange:u}=e;return i.default.h("div",{class:"layerBorder"},i.default.h("div",{class:"borderInfo"},o,", ",r),t?i.default.h(a.a,{color:t,disabled:l,onAddClick:c,onRemoveClick:d,onNameChange:u}):i.default.h(s.a,{gradient:n,disabled:l,onColorAddClick:c,onColorRemoveClick:d,onColorNameChange:u}))}},function(e,t){},function(e,t,n){"use strict";var i=n(791);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(149),s=n(159),o=n(792);n.n(o);t.a=function(e){const{shadow:{blurRadius:t,color:n,offsetX:o,offsetY:r,spread:l,type:c},disabled:d,onColorRemoveClick:u,onColorAddClick:h,onColorNameChange:p}=e;return i.default.h("div",{class:"layerShadow"},i.default.h("div",{class:"shadowType"},c),i.default.h(s.a.Group,null,i.default.h(s.a,{name:"X"},o),i.default.h(s.a,{name:"Y"},r)),i.default.h(s.a.Group,null,i.default.h(s.a,{name:"Blur"},t),i.default.h(s.a,{name:"Spread"},l)),i.default.h(a.a,{color:n,disabled:d,onAddClick:h,onRemoveClick:u,onNameChange:p}))}},function(e,t){},function(e,t,n){"use strict";var i=n(794);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(795);n.n(a);t.a=function(e){const{blur:{radius:t,type:n}}=e;return i.default.h("div",{class:"layerBlur"},i.default.h("div",{class:"blurInfo"},n,", ",t))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(389);t.a=class extends i.default.Component{constructor(e){super(e),this.generateLayerCode=this.generateLayerCode.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateLayerCode(e){const{layer:t,version:n}=this.props;return e.layer(t,n).then(e=>{if(!e)return;const t={name:"layer"};return"string"==typeof e?t.code=e:Object.assign(t,e),t})}renderExtensionCode(e){const{onCopyClick:t,onSettingsClick:n,class:s}=this.props;return i.default.h(a.a,{snippets:e,onCopyClick:t,onSettingsClick:n,class:s})}render(){const{layer:e}=this.props;return i.default.h(a.c,{id:e.id,generateCode:this.generateLayerCode,render:this.renderExtensionCode})}}},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(153),r=n(55),l=n(175),c=n(799);n.n(c);class d extends i.default.Component{constructor(e){super(e),this.state={snippets:{}}}generateCodeSnippets(){const{generateCode:e,extensions:t,enabledExtensions:n}=this.props,i=t.filter(e=>n.includes(e.id)&&e.loaded);Promise.all(i.map(t=>e(t).then(e=>{const n=e?[e]:[];return{[t.id]:{snippets:n,title:t.name}}}).catch(()=>{}))).then(e=>{const t=e.filter(Boolean);if(this.props.onGenerateCode){const e=t.some(e=>Object.keys(e).some(t=>e[t].snippets.length));this.props.onGenerateCode(e)}this.setState({snippets:Object.assign({},...t)})})}componentDidMount(){this.generateCodeSnippets()}componentWillReceiveProps(e){this.props.id&&e.id&&this.props.id!==e.id&&this.generateCodeSnippets()}componentDidUpdate(e){Object(o.a)(e,this.props)&&this.generateCodeSnippets()}render(){return this.props.render(this.state.snippets)}}class u extends i.default.Component{static calculateState(){const e=l.b.getState();return{extensions:e.extensions,enabledExtensions:e.enabledExtensions}}static getStores(){return[l.b]}render(){const{enabledExtensions:e,extensions:t}=this.state,n=Object.assign({extensions:t,enabledExtensions:e},this.props);return i.default.h(d,n)}}u.propTypes={generateCode:s.a.func.isRequired,onGenerateCode:s.a.func,id:s.a.string,render:s.a.func.isRequired},t.a=Object(r.a)(u,{withProps:!0,pure:!1})},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(1),o=n(181);t.a=class extends i.default.Component{shouldComponentUpdate(e,t){const n=Object.keys(this.props.snippets),i=Object.keys(e.snippets);return!(n.length===i.length&&!i.some(e=>!n.includes(e)))||i.some(t=>{const{snippets:n}=this.props.snippets[t],{snippets:i}=e.snippets[t];return n.length!==i.length||i.some((e,t)=>n[t].language!==e.language||n[t].code!==e.code)})}render(){const{snippets:e,onCopyClick:t,onSettingsClick:n,class:r}=this.props,l=Object.keys(e).map(a=>{const{snippets:r,title:l}=e[a];return r.length?i.default.h(o.b,{class:"extensionCode",key:a,extensionId:a,copyEnabled:Object(s.e)(),onCopyClick:t,onSettingsClick:n,snippets:r,title:l,asyncHighlight:!1}):null}).filter(Boolean);if(l.length)return i.default.h("div",{class:Object(a.a)("extensionCodePanel",r)},l)}}},function(e,t,n){"use strict";var i=n(0),a=n(34),s=n(5),o=n(3),r=n(802),l=n(14),c=n(446),d=n(805);n.n(d);n.d(t,"a",function(){return r.a});t.b=class extends a.a{constructor(e){super(e),this.handleCopyClick=this.handleCopyClick.bind(this),this.handleSettingsClick=this.handleSettingsClick.bind(this),this.exportHandlers=new WeakMap}handleCopyClick(){const{extensionId:e,snippets:t,onCopyClick:n}=this.props;n(t.map(e=>e.code).join("\n\n"),e)}handleSettingsClick(e){e.stopPropagation(),this.props.onSettingsClick(this.props.extensionId)}bindExportHandler(e){let t=this.exportHandlers.get(e);return t||(t=(()=>this.props.onExportClick(e.name)),this.exportHandlers.set(e,t),t)}render(e){const{asyncHighlight:t,class:n,copyEnabled:a,exportEnabled:d,snippets:u,title:h}=e,p=u.map(e=>i.default.h("div",{key:e.name,class:"snippet"},d&&i.default.h(l.a,{class:"exportButton",onClick:this.bindExportHandler(e)},i.default.h("img",{src:Object(s.b)("img/icDownloadLight.svg")})),i.default.h(c.a,{lineIndicator:!0,lang:e.language,content:e.code,asyncHighlight:t})));return i.default.h("div",{class:Object(o.a)("codePanel",n)},i.default.h(r.a,null),i.default.h("div",{class:"title"},i.default.h("h3",null,h),a&&i.default.h(l.a,{class:"copyButton",onClick:this.handleCopyClick},i.default.h("img",{src:Object(s.b)("img/icCopyLight.svg")})),i.default.h(l.a,{class:"settingsButton",onClick:this.handleSettingsClick},i.default.h("img",{src:Object(s.b)("img/icSettingsLight.svg")}))),p)}}},function(e,t,n){"use strict";var i=n(803);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(804);n.n(a);t.a=function(){return i.default.h("div",{class:"codePanelGutter"})}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(807);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(475),s=n(808),o=n(181),r=n(3),l=n(11),c=n(811);n.n(c);t.a=class extends i.default.Component{constructor(e){super(e),this.handleResize=this.handleResize.bind(this)}handleResize(e){const{bottom:t}=this.nodeRefs.base.getBoundingClientRect(),n=Math.min(this.props.maxResizeHeight,Math.max(this.props.minResizeHeight,t-e));this.props.onResize(n)}render(){const{class:e,height:t,minHeight:n,maxHeight:c,onCopyClick:d,onSettingsClick:u,codeGap:h,snippets:p}=this.props;return Object.keys(p).some(e=>p[e].snippets.length)?i.default.h("div",{class:Object(r.a)("resizableExtensionCodePanel",e),ref:Object(l.a)(this,"base"),style:{height:t,minHeight:n,maxHeight:c}},i.default.h(s.a,{onResize:this.handleResize}),i.default.h(a.a,{onCopyClick:d,onSettingsClick:u,snippets:p}),i.default.h("div",{class:"availableSpace",style:{height:h}},i.default.h(o.a,null))):null}}},function(e,t,n){"use strict";var i=n(809);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(181),s=n(810);n.n(s);t.a=class extends i.default.Component{constructor(e){super(e),this.handleResizerMouseDown=this.handleResizerMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this)}handleResizerMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.preventDefault(),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseMove(e){e.preventDefault(),this.props.onResize(e.clientY)}handleMouseUp(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}render(){return i.default.h("div",{class:"extensionCodeResizer",onMouseDown:this.handleResizerMouseDown},i.default.h(a.a,null),i.default.h("div",{class:"resizerIcon"}))}}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(814);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(33),s=n(190),o=n(5),r=n(4),l=n(1),c=n(11),d=n(390),u=n(391),h=n(58),p=n(149),m=n(392),f=n(387),g=n(159),b=n(388),v=n(826),y=n(829),C=n(832);n.n(C);const w=89,S=146,k=36,E=60,j=52;class x extends i.default.Component{constructor(e){super(e),this.state={hasSnippet:!1,codeHeight:null,codeGap:null,codeMaxHeight:null,componentDetailHeight:null,componentDetailBottomPadding:null},this.handleDescriptionChange=this.handleDescriptionChange.bind(this),this.handleComponentCodeResize=this.handleComponentCodeResize.bind(this),this.handleGenerateSnippet=this.handleGenerateSnippet.bind(this),this.handleWindowResize=Object(l.j)(this.handleWindowResize).bind(this)}setCodePanelHeight(){if(!this.state.hasSnippet)return void this.setState({codeHeight:null,codeGap:null,codeMaxHeight:null,componentDetailHeight:null,componentDetailBottomPadding:null});const{base:e,componentDetail:t}=this.nodeRefs,n=t.scrollHeight,i=e.clientHeight;n+w>=i?this.setState({codeHeight:w,codeGap:0,codeMaxHeight:w,componentDetailHeight:i-w,componentDetailBottomPadding:k}):this.setState({codeHeight:null,codeGap:j,codeMaxHeight:i-n-k,componentDetailHeight:null,componentDetailBottomPadding:k})}handleWindowResize(){this.state.hasSnippet&&this.setCodePanelHeight()}handleGenerateSnippet(e){this.setState({hasSnippet:e},()=>{this.setCodePanelHeight()})}handleDescriptionChange(e){const{component:{idPath:t},onDescriptionChange:n}=this.props;n(t,e)}handleComponentCodeResize(e){requestAnimationFrame(()=>{this.setState({codeHeight:e,codeMaxHeight:null,codeGap:null,componentDetailHeight:this.nodeRefs.base.clientHeight-e})})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{component:e,component:{_id:t,name:n,latestVersion:o,latestVersion:{snapshot:{width:l,height:C,backgroundColor:k,assets:j=[]}},description:x,usedScreens:D,webUrl:_},descriptionFormatter:O,formatter:L,projectColors:T,onCopy:R,onColorNameChange:I,onAddColorClick:A,onRemoveColorClick:N,onUsedInScreenClick:P,assetExportTarget:M,onChangeExportTargetClick:U,onOpenExportTargetClick:B,onDownloadAssetClick:z,onAssetNameChange:F,onHideDensityWarningClick:q,onHideBitmapInfoClick:H,onNamingConventionChange:W,onShowOptimizedSVGChange:Z,onExtensionSettingsClick:V,onCopyCode:$,onCloseClick:G}=this.props,{permissions:{canManageScreens:Y},projectId:K,projectType:X,baseDensity:J,assetNamingConvention:Q,bitmapInfoHidden:ee,densityWarningHidden:te,showOptimizedSVG:ne}=this.context,{codeGap:ie,codeMaxHeight:ae,componentDetailHeight:se,componentDetailBottomPadding:oe,codeHeight:re}=this.state,le=Object(s.b)([o])[0],ce=`${r.B}//components?pid=${K}&coid=${t}`,de=j.find(e=>"snapshot"===e.layerId);let ue;return de&&(ue=Object(s.a)(de,L)),i.default.h("div",{class:"componentDetailWrapper",ref:Object(c.a)(this,"base")},i.default.h("div",{class:"componentDetailContentWrapper",style:{height:se,paddingBottom:oe}},i.default.h("div",{class:"componentDetail",ref:Object(c.a)(this,"componentDetail")},i.default.h(b.a,{onCloseClick:G},n),i.default.h(h.a,null,i.default.h(d.a,{key:le.username,avatar:le.avatar,username:le.username,versionCount:le.versions,authorCount:1,lastUpdated:le.lastUpdated})),i.default.h(h.a,{title:"Description"},i.default.h(u.a,{class:"descriptionInput",formatter:O,value:x,placeholder:Y?"Got any notes?":"No description yet",readOnly:!Y,submitOnBlur:!0,onChange:this.handleDescriptionChange,showEmojiAutoComplete:!0,autoEdit:!0,maxLength:1024})),i.default.h(h.a,{title:"Share"},i.default.h("div",{class:"shareViewWrapper"},i.default.h(m.a,{webUrl:_,appUri:ce,onCopy:R}))),ue&&i.default.h(f.a,{asset:ue,baseDensity:J,projectType:X,densityWarningHidden:te,bitmapInfoHidden:ee,namingConvention:Q,showOptimizedSVG:ne,assetExportTarget:M,onChangeExportTargetClick:U,onOpenExportTargetClick:B,onDownloadClick:z,onNameChange:F,onHideDensityWarningClick:q,onHideBitmapInfoClick:H,onNamingConventionChange:W,onShowOptimizedSVGChange:Z}),!ue&&i.default.h(h.a,{title:"Size"},i.default.h(g.a.Group,null,i.default.h(g.a,{name:"Width"},L.length(l)),i.default.h(g.a,{name:"Height"},L.length(C)))),k&&i.default.h(h.a,{title:"Background color"},i.default.h(p.a,{color:Object(s.c)(new a.a(k),L,T),onNameChange:I,onAddClick:A,onRemoveClick:N})),!!D.length&&i.default.h(h.a,{title:"Used in"},i.default.h(v.a,{screens:D,componentId:t,componentName:n,onScreenClick:P})))),i.default.h(y.a,{component:e,version:o,onSettingsClick:V,onCopyClick:$,onResize:this.handleComponentCodeResize,onGenerateCode:this.handleGenerateSnippet,height:re,codeGap:ie,maxHeight:ae,minHeight:w,maxResizeHeight:window.innerHeight-E-S,minResizeHeight:w}))}}x.NoSelectionState=function(e){const{componentCount:t}=e;return t?i.default.h("div",{class:"componentsSidebarNoSelectionState"},i.default.h("h2",null,t," Components ",i.default.h("img",{width:"24",height:"24",src:o.b("img/emjDango.png"),srcset:`${o.b("img/emjDango@2x.png")} 2x, ${o.b("img/emjDango@3x.png")} 3x`,alt:"🍡",title:"🍡"})),i.default.h("p",null,"Some say the more components you have, the cooler you are."),i.default.h("p",null,"You can learn more about components from ",i.default.h("a",{href:"https://blog.zeplin.io/introducing-zeplin-2-0-components-and-a-ton-more-goodies-7c09dacc1f48",target:"_blank"},"here"),".")):null},t.a=x},function(e,t,n){"use strict";var i=n(0),a=n(35),s=n(164),o=n(816);n.n(o);t.a=function(e){const{avatar:t,username:n,versionCount:o,authorCount:r,lastUpdated:l}=e;return i.default.h("div",{class:"versionAuthor"},i.default.h(a.a,{src:t.src,srcset:t.srcset,class:"userImageFrame",width:"28",height:"28"}),i.default.h("div",{class:"authorAndCount"},i.default.h("span",{class:"author ellipsis",title:n},n),(r>1||o>1)&&i.default.h("span",null,", ",o," version",o>1?"s":"")),i.default.h(s.a,{type:"time-ago",format:"micro",class:"date",datetime:l}))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(2),s=n.n(a),o=n(34),r=n(3),l=n(11),c=n(1),d=n(818),u=n(375),h=n(823);n.n(h);const p=/:(\S+?):/g;class m extends o.a{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleClick=this.handleClick.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleInput=this.handleInput.bind(this),this.handleButtonClick=this.handleButtonClick.bind(this),this.handleKeyDownWhenListOpen=this.handleKeyDownWhenListOpen.bind(this),this.handleKeyDownListActions=Object(c.j)(this.handleKeyDownListActions).bind(this),this.handleSelectEmoji=this.handleSelectEmoji.bind(this),this.handleListItemMouseOver=this.handleListItemMouseOver.bind(this),this.handleListItemClick=this.handleListItemClick.bind(this),this.handleTextAreaClick=this.handleTextAreaClick.bind(this),this.changeSuggestedEmojis=this.changeSuggestedEmojis.bind(this);const{value:t=""}=e;this.state={selectedEmojiIndex:0,suggestedEmojis:[],emojiListTop:0,autoCompletedEmoji:!1,value:t,editing:e.editing,originalValue:t}}cancelEdit(){const{originalValue:e}=this.state;this.setState({editing:!1,value:e}),this.nodeRefs.textArea.blur()}changeSuggestedEmojis(){const{value:e,suggestedEmojis:t,selectedEmojiIndex:n}=this.state,{textArea:i}=this.nodeRefs,a=function(e,t){const n=e.substring(0,t),i=n.lastIndexOf(":"),a=e.substring(i,t).match(/^:(.+)/);if(a){const e=a[0].substring(1),t=n.substring(0,i).lastIndexOf(":"),s=n.substring(t,i+1).match(p);return s&&u.a.searchEmoji(s[0].substring(1,s[0].length-1))?[]:u.a.getSuggestedEmojis(e)}return[]}(e,i.selectionStart);if(a!==t){const e=Math.max(0,Math.min(n,a.length-1)),t=i.getBoundingClientRect().top+i.offsetHeight-60;this.setState({suggestedEmojis:a,selectedEmojiIndex:e,emojiListTop:t})}}get maxLength(){const{maxLength:e}=this.props,{value:t}=this.state;return void 0===e?-1:-1!==e&&document.body.classList.contains("safari")?e+(t.match(/\n/g)||[]).length:e}submit(){const{onChange:e}=this.props,{value:t,originalValue:n}=this.state;t!==n&&e?(e&&e(t),this.setState({editing:!1,originalValue:t})):this.setState({editing:!1}),this.nodeRefs.textArea.blur()}handleBlur(e){const{submitOnBlur:t}=this.props,{originalValue:n,value:i}=this.state;e.relatedTarget&&this.base.contains(e.relatedTarget)||(n!==i?t?this.submit():this.cancelEdit():this.setState({editing:!1}))}handleButtonClick(){const{readOnly:e}=this.props;e||this.submit()}handleClick(e){const{readOnly:t}=this.props,{editing:n}=this.state;t||n||e.target.closest("a")||this.setState(e=>({editing:!0,originalValue:e.value}))}handleInput(e){const{readOnly:t}=this.props;t||this.setState({value:e.target.value,autoCompletedEmoji:!1})}handleKeyDown(e){const{readOnly:t}=this.props;t||(this.props.showEmojiAutoComplete&&this.state.editing&&0!==this.state.suggestedEmojis.length?this.handleKeyDownWhenListOpen(e):(e.keyCode===Zeplin.KEY_CODE.ESC&&this.cancelEdit(),e.keyCode===Zeplin.KEY_CODE.ENTER&&(document.body.classList.contains("mac")&&e.metaKey||e.ctrlKey)&&this.submit()))}handleKeyDownListActions(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedEmojis:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectEmoji();break;case Zeplin.KEY_CODE.ArrowDown:this.setState(e=>e.selectedEmojiIndex>=this.state.suggestedEmojis.length-1?{selectedEmojiIndex:this.state.suggestedEmojis.length-1}:{selectedEmojiIndex:e.selectedEmojiIndex+1});break;case Zeplin.KEY_CODE.ArrowUp:this.setState(e=>e.selectedEmojiIndex<=0?{selectedEmojiIndex:0}:{selectedEmojiIndex:e.selectedEmojiIndex-1})}}handleKeyDownWhenListOpen(e){(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&e.preventDefault(),this.handleKeyDownListActions(e)}handleKeyUp(e){this.props.showEmojiAutoComplete&&(e.keyCode!==Zeplin.KEY_CODE.ArrowLeft&&e.keyCode!==Zeplin.KEY_CODE.ArrowRight&&e.keyCode!==Zeplin.KEY_CODE.ArrowUp&&e.keyCode!==Zeplin.KEY_CODE.ArrowDown||this.setState({autoCompletedEmoji:!1},this.changeSuggestedEmojis))}handleListItemClick(e,t){this.setState({selectedEmojiIndex:e},this.handleSelectEmoji)}handleListItemMouseOver(e,t){this.setState({selectedEmojiIndex:e})}handleSelectEmoji(){const{suggestedEmojis:e,selectedEmojiIndex:t,value:n}=this.state,i=e[t],a=this.nodeRefs.textArea.selectionStart,s=n.substring(0,a).lastIndexOf(":"),o=i.formattedAlias,r=n.substring(0,s)+":"+o+": "+n.substring(a),l=s+o.length+3;this.setState({value:r,autoCompletedEmoji:!0,suggestedEmojis:[]},()=>{this.nodeRefs.textArea.focus(),this.nodeRefs.textArea.setSelectionRange(l,l)})}handleTextAreaClick(){this.state.editing&&this.changeSuggestedEmojis()}componentWillReceiveProps(e){const{value:t="",editing:n}=e,i={};void 0!==n&&Object.assign(i,{editing:n}),this.state.originalValue!==t&&Object.assign(i,{value:t,originalValue:t}),0!==Object.keys(i).length&&this.setState(i)}componentDidUpdate(e,t){const{editing:n,value:i,autoCompletedEmoji:a}=this.state,{showEmojiAutoComplete:s}=this.props;n&&t.editing!==n&&this.nodeRefs.textArea.focus(),s&&!a&&i!==t.value&&this.changeSuggestedEmojis()}render(e,t){const{autoEdit:n,class:a,color:s,formatter:o,placeholder:c="",showEmojiAutoComplete:u}=e,{editing:h,value:p,emojiListTop:m,suggestedEmojis:f,selectedEmojiIndex:g}=t,b=o?o(p):p,v=this.maxLength;return i.default.h("div",{class:"textAreaContainer"},i.default.h("div",{class:Object(r.a)("textArea",a,{editing:h},s)},i.default.h("div",{class:Object(r.a)("formattedContent",{placeholder:c&&!p}),onClick:n&&this.handleClick,dangerouslySetInnerHTML:{__html:b||c}}),i.default.h("div",{class:"editor"},i.default.h("div",{class:"mirror"},p," "),i.default.h("textarea",{ref:Object(l.a)(this,"textArea"),value:p,spellcheck:"false",maxLength:this.maxLength,onClick:this.handleTextAreaClick,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onBlur:this.handleBlur})),i.default.h("div",{class:"controls",tabIndex:"-1"},i.default.h("div",{class:"counter"},v>-1&&v-p.length),i.default.h("button",{type:"button",class:"submit",ref:Object(l.a)(this,"submitButton"),onClick:this.handleButtonClick}))),u&&h&&0!==f.length&&i.default.h("div",{class:"emojiAutoCompleteListContainer",tabIndex:"-1",style:{top:m+"px"}},i.default.h(d.a,{onItemClick:this.handleListItemClick,onItemMouseOver:this.handleListItemMouseOver,suggestedEmojis:f,selectedIndex:g})))}}m.propTypes={autoEdit:s.a.bool,value:s.a.string,class:s.a.string,color:s.a.oneOf(["yellow","orange","peach","green","turquoise"]),editing:s.a.bool,maxLength:s.a.number,placeholder:s.a.string,readOnly:s.a.bool,submitOnBlur:s.a.bool,onChange:s.a.func,formatter:s.a.func,showEmojiAutoComplete:s.a.bool},m.defaultProps={autoEdit:!1,value:"",color:"lightOrange",placeholder:"",readOnly:!1,submitOnBlur:!1,onChange:null,showEmojiAutoComplete:!1},t.a=m},function(e,t,n){"use strict";var i=n(819);t.a=i.a},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(2),o=n.n(s),r=n(820),l=n(822);n.n(l);function c(e){const{emoji:t,formattedAlias:n,selected:s,customEmoji:o,onMouseOver:r,onClick:l,listRef:c}=e,d=o?i.default.h("img",{src:t,class:"emojiImg"}):i.default.h("span",{class:"emojiChar"},t);return i.default.h("div",{class:Object(a.a)({selected:s},"emojiItem"),onMouseOver:r,onClick:l,ref:c},d,i.default.h("span",{class:"emojiAlias"},n))}function d({suggestedEmojis:e,selectedIndex:t,onItemClick:n,onItemMouseOver:a}){return i.default.h(r.a,{class:"emojiAutoCompleteList",options:e,keyProp:"formattedAlias",selectedIndex:t,onItemMouseOver:a,onItemClick:n,RowComponent:c})}d.propTypes={suggestedEmojis:o.a.array,selectedIndex:o.a.number,onItemClick:o.a.func,onItemMouseOver:o.a.func},t.a=d},function(e,t,n){"use strict";var i=n(821);t.a=i.a},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(11);function o(e,t){return n=>t(e,n)}const r=Object(a.j)(e=>{e&&Object(a.S)(e)});t.a=class extends i.default.Component{componentWillReceiveProps(e){const{selectedIndex:t}=e,{selectedIndex:n}=this.props;if(n===t)return;const i=this.nodeRefs[`ref${t}`],a=this.nodeRefs[`ref${n}`];i&&(r(i),i.classList.add("selected")),a&&a.classList.remove("selected")}shouldComponentUpdate(e,t){return this.props.options!==e.options}render({class:e,options:t,keyProp:n,RowComponent:a,selectedIndex:r,onItemMouseOver:l,onItemClick:c}){return i.default.h("div",{class:e},t.map((e,t)=>i.default.h(a,Object.assign({},e,{key:e[n]},{listRef:Object(s.a)(this,`ref${t}`)},{selected:t===r,onMouseOver:o(t,l),onClick:o(t,c)}))))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(14),o=n(56),r=n(825);n.n(r);const l=i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("path",{fill:"#554D56","fill-rule":"evenodd",d:"M7 6h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm2-1H8a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-7a1 1 0 0 0-1 1z"}));function c(e){const{host:t,pathname:n}=new URL(e);return`${t}${n}`}function d(e){const t=window.getSelection().toString().trim();return t&&t!==e}t.a=class extends i.default.Component{constructor(e){super(e),this.handleCopyAppUri=this.handleCopyAppUri.bind(this),this.handleCopyAppUriClick=this.handleCopyAppUriClick.bind(this),this.handleCopyWebUrl=this.handleCopyWebUrl.bind(this),this.handleCopyWebUrlClick=this.handleCopyWebUrlClick.bind(this)}copyLink(e){const{webUrl:t,appUri:n,onCopy:i}=this.props;i("web"===e?t:n)}handleCopyAppUriClick(){this.copyLink("app")}handleCopyWebUrlClick(){this.copyLink("web")}handleCopyAppUri(e){d(this.props.appUri)||(e.preventDefault(),this.copyLink("app"),Object(a.T)(e.target))}handleCopyWebUrl(e){d(c(this.props.webUrl))||(e.preventDefault(),this.copyLink("web"),Object(a.T)(e.target))}render(e){const{webUrl:t,appUri:n}=e;return i.default.h("div",{class:"shareView"},i.default.h("div",{class:"shareLink"},i.default.h("span",{class:"linkType"},"Web:"),t?[i.default.h("span",{class:"link"},i.default.h(o.a,{content:"Click to copy"},i.default.h("div",{class:"ellipsis",onCopy:this.handleCopyWebUrl,onFocus:this.handleCopyWebUrl,tabIndex:"1"},c(t)))),i.default.h("div",{class:"shareButtons"},i.default.h(o.a,{targetClass:"shareButton",content:"Copy web link"},i.default.h(s.a,{onClick:this.handleCopyWebUrlClick},l)))]:i.default.h("span",{class:"fetching"},"Fetching…")),i.default.h("div",{class:"shareLink"},i.default.h("span",{class:"linkType"},"App:"),i.default.h("span",{class:"link"},i.default.h(o.a,{content:"Click to copy"},i.default.h("div",{class:"ellipsis",onCopy:this.handleCopyAppUri,onFocus:this.handleCopyAppUri,tabIndex:"1"},n))),i.default.h("div",{class:"shareButtons"},i.default.h(o.a,{targetClass:"shareButton",content:"Open in App"},i.default.h("a",{href:n},i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("path",{fill:"#554D56","fill-rule":"evenodd",d:"M18 11h-1.5a.5.5 0 1 1 0-1h2a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h2a.5.5 0 1 1 0 1H6v7h12v-7zm-5.5-5.375v8.363a.5.5 0 0 1-1 0V5.625L8.846 8.168a.511.511 0 0 1-.7 0 .46.46 0 0 1 0-.671l3.504-3.358a.511.511 0 0 1 .7 0l3.505 3.358a.46.46 0 0 1 0 .671.511.511 0 0 1-.701 0L12.5 5.625z"})))),i.default.h(o.a,{targetClass:"shareButton",content:"Copy app URI"},i.default.h(s.a,{onClick:this.handleCopyAppUriClick},l)))))}}},function(e,t){},function(e,t,n){"use strict";var i=n(827);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(33),o=n(828);n.n(o);const r=132;class l extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){if(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)return;e.stopPropagation(),e.preventDefault();const{screenId:t,componentId:n,componentName:i,onClick:s}=this.props,{projectId:o}=this.context;s(t,Object(a._3)("project-styleguide-components",{url:{pid:o},query:{coid:n}}),i)}componentDidMount(){const{observer:e}=this.props;e.observe(this.base)}componentWillUnmount(){const{observer:e}=this.props;e.unobserve(this.base)}render(e,t,n){const{screenId:o,name:l,url:c,width:d,height:u,backgroundColor:h=s.a.NAMED_COLORS.white,visible:p}=e,{projectId:m}=n,{src:f,srcset:g}=Object(a.y)(c,{width:r}),b=u*r/d,v=new s.a(h).toCSS(),y=Object(a._3)("project-screen",{url:{pid:m,sid:o}});return i.default.h("a",{href:y,class:"usedInScreen",onClick:this.handleClick,"data-id":o,"data-link-type":"inApp"},i.default.h("div",{class:"imageWrapper",style:{height:b,backgroundColor:v}},p&&i.default.h("img",{width:r,height:b,src:f,srcset:g,crossOrigin:"anonymous"}),i.default.h("div",{class:"imageFrame"})),i.default.h("div",{class:"screenName"},l))}}t.a=class extends i.default.Component{constructor(e){super(e),this.visibleScreens=new Set,this.state={visibleScreens:new Set}}componentWillMount(){this.observer=new IntersectionObserver((e,t)=>{e.forEach(e=>{const t=e.target.dataset.id;e.isIntersecting?this.visibleScreens.add(t):this.visibleScreens.delete(t)}),window.cancelAnimationFrame(this.renderTimeout),this.renderTimeout=window.requestAnimationFrame(()=>{this.setState({visibleScreens:this.visibleScreens})})})}componentWillUnmount(){this.observer.disconnect()}render(e,t){const{screens:n,componentId:a,componentName:s,onScreenClick:o}=e,{visibleScreens:r}=t;return i.default.h("div",{class:"usedInScreens"},n.map(e=>{const{versions:[{snapshot:{url:t,width:n,height:c,backgroundColor:d}}]}=e;return i.default.h(l,{key:e._id,screenId:e._id,name:e.name,url:t,width:n,height:c,backgroundColor:d,componentId:a,componentName:s,visible:r.has(e._id),onClick:o,observer:this.observer})}))}}},function(e,t){},function(e,t,n){"use strict";var i=n(830);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(389),s=n(831);n.n(s);t.a=class extends i.default.Component{constructor(e){super(e),this.generateComponentCode=this.generateComponentCode.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateComponentCode(e){const{component:t,version:n}=this.props;return e.component(n,t).then(e=>{if(!e)return;const t={name:"component"};return"string"==typeof e?t.code=e:Object.assign(t,e),t})}renderExtensionCode(e){const{onCopyClick:t,onSettingsClick:n,height:s,minHeight:o,maxHeight:r,maxResizeHeight:l,minResizeHeight:c,onResize:d,codeGap:u}=this.props;return i.default.h(a.b,{class:"componentCode",snippets:e,onCopyClick:t,onSettingsClick:n,height:s,minHeight:o,maxHeight:r,codeGap:u,maxResizeHeight:l,minResizeHeight:c,onResize:d})}render(){const{component:e,onGenerateCode:t}=this.props;return i.default.h(a.c,{id:e._id,generateCode:this.generateComponentCode,onGenerateCode:t,render:this.renderExtensionCode})}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(834);t.a=i.a},function(e,t,n){"use strict";var i=n(0),a=n(55),s=n(14),o=n(181),r=n(175),l=n(5),c=n(1),d=n(835);n.n(d);function u(e,t,n,i){let a;if("color"===t)a=Promise.all([e.styleguideColors(i),e.comment(n)]);else{if("textStyle"!==t)return;a=Promise.all([e.styleguideTextStyles(i),e.comment(n)])}return a.then(function([e,n]){if(!e)return;const i={name:t};return"string"==typeof e?i.code=e:Object.assign(i,e),i.code=`${n?`${n}\n\n`:""}${e.code}`,i})}function h(e){return i.default.h("div",{class:"emptyStyleguideCodePanel"},e.hasExtensions?[i.default.h("h2",{key:"emptyStyleguideHeader"},"No extension snippets",i.default.h("img",{src:Object(l.b)("img/emjAlembic.png"),srcSet:`${Object(l.b)("img/emjAlembic@2x.png")} 2x, ${Object(l.b)("img/emjAlembic@3x.png")} 3x`})),i.default.h("p",{key:"emptyStyleguideParagraph"},"Looks like you don’t have any extensions that generate Styleguide code snippets. Extensions are built by the community, generating code snippets from designs.",i.default.h("br",null),i.default.h("br",null),"Manage and enable the ones that fit your workflow."),i.default.h(s.a,{key:"emptyStyleguideButton",onClick:e.onManageExtensionsClick,class:"manageExtensions"},"Manage extensions")]:[i.default.h("h2",{key:"emptyStyleguideHeader"},"No extensions",i.default.h("img",{src:Object(l.b)("img/emjAlembic.png"),srcSet:`${Object(l.b)("img/emjAlembic@2x.png")} 2x, ${Object(l.b)("img/emjAlembic@3x.png")} 3x`})),i.default.h("p",{key:"emptyStyleguideParagraph"},"Looks like you don’t have any extensions on this project. Extensions are built by the community, generating code snippets from designs.",i.default.h("br",null),i.default.h("br",null),"Browse and pick the ones that fit your workflow."),i.default.h("a",{key:"emptyStyleguideButton",href:Object(c.r)(),target:"_blank",rel:"noopener"},"Explore extensions")])}class p extends i.default.Component{constructor(e){super(e),this.exportCode=this.exportCode.bind(this),this.openSettings=this.openSettings.bind(this)}exportCode(e){this.props.onExportClick(this.props.extension.id,e)}openSettings(){this.props.onSettingsClick(this.props.extension.id)}render(e){return i.default.h(o.b,{class:"styleguideCode",copyEnabled:!1,exportEnabled:!0,onExportClick:this.exportCode,onSettingsClick:this.openSettings,snippets:e.codeSnippets,title:e.extension.name,asyncHighlight:!0})}}class m extends i.default.Component{constructor(e){super(e),this.exportCode=this.exportCode.bind(this),this.state={codeSnippets:null}}exportCode(e,t){let n;const i=this.props.enabledExtensions.find(t=>t.id===e);if(i){if("color"===t)n=i.exportStyleguideColors(this.props.colors);else{if("textStyle"!==t)return;n=i.exportStyleguideTextStyles(this.props.textStyles)}n.then(n=>this.props.onExportClick(t,n,e))}}generateCode(e,t,n){e.length?Promise.all(e.map(e=>(function(e,{colorTitle:t,colors:n},{textStyleTitle:i,textStyles:a}){return Promise.all([u(e,"color",t,n),u(e,"textStyle",i,a)]).then(function(e){return e.filter(Boolean)}).catch(function(){})})(e,t,n).then(t=>({[e.id]:t})))).then(e=>{this.setState({codeSnippets:Object.assign({},...e)})}):this.setState({codeSnippets:{}})}componentDidMount(){const{colorTitle:e,colors:t,textStyleTitle:n,textStyles:i}=this.props;this.generateCode(this.props.enabledExtensions,{colorTitle:e,colors:t},{textStyleTitle:n,textStyles:i})}componentWillReceiveProps(e){const{colorTitle:t,colors:n,textStyleTitle:i,textStyles:a}=e;this.generateCode(e.enabledExtensions,{colorTitle:t,colors:n},{textStyleTitle:i,textStyles:a})}shouldComponentUpdate(e,t){return this.state.codeSnippets!==t.codeSnippets&&(!this.state.codeSnippets||!t.codeSnippets||(Object.keys(this.state.codeSnippets).length!==Object.keys(t.codeSnippets).length||Object.keys(this.state.codeSnippets).some(e=>{const n=this.state.codeSnippets[e],i=t.codeSnippets[e];return!(!i&&!n)&&(!i||!n||(n.length!==i.length||n.some((e,t)=>i[t].language!==e.language||i[t].code!==e.code)))})))}render(e,t){if(!t.codeSnippets)return;const n=e.enabledExtensions.map(n=>{const a=t.codeSnippets[n.id];return a&&a.length?i.default.h(p,{onExportClick:this.exportCode,onSettingsClick:e.onSettingsClick,key:n.id,extension:n,codeSnippets:a}):null}).filter(Boolean);return e.enabledExtensions.length&&n.length?i.default.h("div",{class:"styleguideCodePanel"},n):i.default.h(h,{hasExtensions:e.hasExtensions,onManageExtensionsClick:e.onManageExtensionsClick})}}t.a=Object(a.a)(class extends i.default.Component{static calculateState(e,t){var n=r.b.getState(),i=n.extensions.filter(function(e){return n.enabledExtensions.includes(e.id)&&e.loaded});return{initialized:n.initialized,hasExtensions:n.extensions.length>0,enabledExtensions:i}}static getStores(){return[r.b]}render(e,t){if(t.initialized)return i.default.h(m,{hasExtensions:t.hasExtensions,enabledExtensions:t.enabledExtensions,onManageExtensionsClick:e.onManageExtensionsClick,onExportClick:e.onExportClick,onSettingsClick:e.onSettingsClick,colorTitle:e.colorTitle,colors:e.colors,textStyleTitle:e.textStyleTitle,textStyles:e.textStyles})}},{withProps:!0})},function(e,t){},function(e,t,n){"use strict";var i=n(837);t.a=i.a},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(838);n.n(s);class o extends i.default.Component{constructor(e){super(e),this.inputName=Object(a.x)(),this.handleInitialRender=this.handleInitialRender.bind(this),this.handleTabChange=this.handleTabChange.bind(this),this.state={indicatorRect:null}}handleInitialRender(e){this.setState({indicatorRect:e})}handleTabChange(e,t){this.setState({indicatorRect:t}),this.props.onChange&&this.props.onChange(e)}renderIndicator(){const{showIndicator:e}=this.props,{indicatorRect:t}=this.state;return e&&t?i.default.h("div",{class:"tabIndicator",style:t,key:"tabIndicator"}):null}renderTabContent(){const{children:e,selectedTab:t}=this.props;return i.default.h("div",{class:"tabContent",key:"tabContent"},e.find(e=>e.attributes.value===t).children)}renderTabs(){const{children:e,selectedTab:t}=this.props;return e.map(e=>i.default.cloneElement(e,{name:this.inputName,selected:e.attributes.value===t,onChange:this.handleTabChange,onInitialRender:this.handleInitialRender,key:e.attributes.value}))}render(e,t){return i.default.h("div",{class:"tabView"},i.default.h("div",{class:"tabs"},this.renderTabs(),this.renderIndicator(),i.default.h("hr",null)),this.renderTabContent())}}o.Tab=class extends i.default.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){e.stopPropagation();const{value:t,onChange:n}=this.props,{left:i,width:a}=this.base.getBoundingClientRect();n(t,{left:i,width:a})}componentDidMount(){this.initialRender=!0}componentDidUpdate(){this.initialRender&&(this.initialRender=!1,requestAnimationFrame(()=>{const{selected:e,onInitialRender:t}=this.props;if(e){const{left:e,width:n}=this.base.getBoundingClientRect();t({left:e,width:n})}}))}render(e){const{label:t,name:n,value:a,selected:s}=e;return i.default.h("label",{class:"tab"},t,i.default.h("input",{type:"radio",name:n,value:a,checked:s,onChange:this.handleChange}))}},t.a=o},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(841);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(382),o=n(57),r=n(148),l=n(842),c=n(845),d=n(857),u=n(865),h=n(884);n.n(h);class p extends i.default.Component{renderStyleguideInstances(){const{styleguides:e,selectedStyleguideId:t="local",selectedSection:n="colors",onSectionChange:a}=this.props;return e.map(({name:e,id:s})=>i.default.h(l.a,{key:s,name:e,id:s,active:t===s,section:n,onSectionChange:a}))}renderColorPalette(e){const{sidebarInitialWidth:t,highlightedColors:n,onExportClick:a,onSettingsClick:s,onManageExtensionsClick:o}=this.props,{colors:r}=e;return i.default.h(c.a,{colors:r,highlightedColors:n,sidebarInitialWidth:t,onExportClick:a,onSettingsClick:s,onManageExtensionsClick:o})}renderTextStyleCatalog(e){const{project:t,highlightedTextStyles:n,sidebarInitialWidth:a,formatter:s,onExportClick:o,onSettingsClick:r,onManageExtensionsClick:l}=this.props,{textStyles:c}=e;return i.default.h(d.a,{project:t,textStyles:c,highlightedTextStyles:n,sidebarInitialWidth:a,formatter:s,onExportClick:o,onSettingsClick:r,onManageExtensionsClick:l})}renderComponents(e){const{sidebarInitialWidth:t,formatter:n,descriptionFormatter:a,selectionComponent:s,selection:o,cseid:r,sortType:l,filterValue:c,assetExportTarget:d,onSort:h,onFilter:p,onComponentsVisible:m,onComponentSelect:f}=this.props,{colors:g,textStyles:b,componentSections:v}=e;return i.default.h(u.a,{colors:g,textStyles:b,componentSections:v,sidebarInitialWidth:t,formatter:n,descriptionFormatter:a,selectionComponent:s,selection:o,cseid:r,sortType:l,filterValue:c,assetExportTarget:d,onSort:h,onFilter:p,onComponentsVisible:m,onSelect:f})}renderSection(){const{styleguides:e,selectedStyleguideId:t,selectedSection:n}=this.props,i=e.find(e=>e.id===t);switch(n){case"colors":default:return this.renderColorPalette(i);case"textStyles":return this.renderTextStyleCatalog(i);case"components":return this.renderComponents(i)}}render(){const{leftSidebarInitialWidth:e,onLeftSidebarRelease:t}=this.props;return i.default.h("div",{class:"styleguide"},i.default.h(r.a,{minWidth:100,initialWidth:e,resizingSide:"right",onClick:a.Z,onRelease:t},this.renderStyleguideInstances()),this.renderSection())}}p.defaultProps={highlightedColors:[],highlightedTextStyles:[]};t.a=class extends i.default.Component{getChildContext(){const{project:{id:e,type:t,baseDensity:n,densityDivisor:i,dimensionSuffix:s},assetNamingConvention:o,bitmapInfoHidden:r,densityWarningHidden:l,showOptimizedSVG:c,projectUser:d}=this.props;return{assetNamingConvention:o,baseDensity:n,bitmapInfoHidden:r,densityWarningHidden:l,densityDivisor:i,dimensionSuffix:s,projectId:e,projectType:t,showOptimizedSVG:c,userRole:d.role,permissions:{canManageColors:a.O.canManageColors(d),canManageScreens:a.O.canManageColors(d),canManageTextStyles:a.O.canManageTextStyles(d)}}}render(){const{project:e,project:{colors:t,textStyles:n,componentSections:a},leftSidebarInitialWidth:r,sidebarInitialWidth:l,selectedStyleguideId:c,selectedSection:d,highlightedColors:u,highlightedTextStyles:h,selectionComponent:m,selection:f,cseid:g,sortType:b,filterValue:v,descriptionFormatter:y,onSectionChange:C,onSort:w,onFilter:S,onComponentSelect:k,onComponentsVisible:E,onExportClick:j,onSettingsClick:x,onManageExtensionsClick:D,assetExportTarget:_}=this.props,O=new s.a(e),L={id:"local",name:"Local Styleguide",colors:t,textStyles:n,componentSections:a},T={id:"foreign",name:"Foreign Styleguide",colors:t,textStyles:n,componentSections:a};return i.default.h(p,{styleguides:[T,L],project:e,leftSidebarInitialWidth:r,sidebarInitialWidth:l,selectedStyleguideId:c,selectedSection:d,highlightedColors:u,highlightedTextStyles:h,selectionComponent:m,selection:f,cseid:g,sortType:b,filterValue:v,assetExportTarget:_,formatter:O,descriptionFormatter:y,onLeftSidebarRelease:o.b.setStyleguideLeftSidebarWidth,onSectionChange:C,onExportClick:j,onSettingsClick:x,onManageExtensionsClick:D,onSort:w,onFilter:S,onComponentsVisible:E,onComponentSelect:k})}}},function(e,t,n){"use strict";var i=n(843);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(844);n.n(s);const o={colors:i.default.h("svg",{width:"22",height:"24",viewBox:"0 0 22 24"},i.default.h("path",{class:"filled",d:"M15.056 14.534c0-3.714-6.799-11.046-7.088-11.358a.632.632 0 0 0-.874 0C6.798 3.488 0 10.82 0 14.534c0 3.848 3.376 6.979 7.528 6.979 4.152 0 7.528-3.13 7.528-6.979zm-7.528 5.821c-3.515 0-6.37-2.61-6.37-5.82 0-2.315 3.666-7.141 6.37-10.127 2.704 2.98 6.37 7.818 6.37 10.126 0 3.212-2.861 5.821-6.37 5.821zm6.99-17.18c.294.313 7.087 7.645 7.104 11.377 0 3.848-3.376 6.978-7.528 6.978a7.892 7.892 0 0 1-1.737-.197c.46-.285.892-.612 1.292-.978h.434c3.515 0 6.37-2.61 6.37-5.82 0-2.31-3.666-7.147-6.37-10.127a33.5 33.5 0 0 0-1.778 2.072c-.243-.318-.486-.63-.724-.932a53.524 53.524 0 0 1 2.062-2.372.632.632 0 0 1 .874 0z"})),textStyles:i.default.h("svg",{width:"22",height:"24",viewBox:"0 0 22 24"},i.default.h("path",{class:"filled",d:"M11.3 18.825l-1.688-4.54H3.218l-1.688 4.54H0L5.698 4h1.434l5.687 14.825H11.3zM6.383 5.736l-2.732 7.336h5.528L6.447 5.736h-.064zM17.178 17.83c1.92 0 3.43-1.326 3.43-3.02v-1.182l-3.25.215c-1.73.113-2.69.843-2.69 2.024 0 1.161 1.023 1.963 2.51 1.963zM16.893 19c-2.163 0-3.64-1.264-3.64-3.134 0-1.828 1.404-2.938 3.936-3.102l3.418-.206v-.924c0-1.542-1.002-2.466-2.711-2.466-1.615 0-2.649.77-2.891 2.065h-1.35c.157-1.911 1.772-3.267 4.272-3.267S22 9.332 22 11.51v7.315h-1.33v-2.034h-.031C20.027 18.116 18.529 19 16.893 19z"})),components:i.default.h("svg",{width:"16",height:"16",viewBox:"0 0 16 16"},i.default.h("path",{class:"outline",fill:"none",d:"M2 7.5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-.5-.5H2zm7-5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H9zm0 8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5H9zm-7-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2z"}))},r=[{name:"Colour palette",value:"colors",icon:o.colors},{name:"Text style catalogue",value:"textStyles",icon:o.textStyles},{name:"Components",value:"components",icon:o.components}];function l({onClick:e}){return i.default.h("button",{class:"menuButton",type:"button",onClick:e},i.default.h("div",null))}function c({name:e,onMenuClick:t}){return i.default.h("h4",null,i.default.h("span",{class:"name ellipsis",title:e},e),i.default.h(l,{onClick:t}))}function d(e){const{id:t,icon:n,name:s,value:o,selected:r,onChange:c,onMenuClick:d}=e;return i.default.h("label",{class:Object(a.a)("styleguideSection",{selected:r})},i.default.h("span",{title:s},i.default.h("input",{type:"radio",name:"styleguideInstanceSection",value:o,checked:r,onChange:c}),n,i.default.h("span",{class:"name noSelect ellipsis"},s)),"local"===t&&i.default.h(l,{onClick:d}))}t.a=class extends i.default.Component{constructor(e){super(e),this.handleSectionChange=this.handleSectionChange.bind(this)}handleSectionChange(e){const{id:t,onSectionChange:n}=this.props;n(t,e.target.value)}render(){const{name:e,id:t,active:n,section:a}=this.props;return i.default.h("div",{class:"styleguideInstance"},i.default.h(c,{name:e}),r.map(e=>i.default.h(d,{key:t+e.value,id:t,icon:e.icon,name:e.name,value:e.value,onChange:this.handleSectionChange,selected:n&&a===e.value})))}}},function(e,t){},function(e,t,n){"use strict";var i=n(846);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(9),s=n(1),o=n(57),r=n(847),l=n(850),c=n(393),d=n(148),u=n(856);n.n(u);class h extends i.default.Component{renderContent(){const{colors:e,highlightedColors:t,readOnly:n,userRole:a,onNameChange:s,onDataChange:o,onDelete:l}=this.props;return e&&e.length?i.default.h("div",{class:"colors"},e.map(e=>{const c=t[0]===e.id,d=c||t.includes(e.id);return i.default.h(r.a,{color:e,key:e.id,readOnly:n,userRole:a,scrollIntoView:c,highlight:d,onNameChange:s,onDataChange:o,onDelete:l})})):i.default.h(c.a,{type:"color",onLink:null})}renderSidebar(){const{colors:e,sidebarInitialWidth:t,onSidebarRelease:n,onExportClick:a,onSettingsClick:o,onManageExtensionsClick:r}=this.props;return i.default.h(d.a,{minWidth:280,initialWidth:t,onClick:s.Z,onRelease:n},i.default.h(l.a,{colors:e,onExportClick:a,onSettingsClick:o,onManageExtensionsClick:r}))}render(){return i.default.h("div",{class:"colorPalette beta"},this.renderContent(),this.renderSidebar())}}const p=10;t.a=class extends i.default.Component{constructor(e){super(e),this.handleNameChange=this.handleNameChange.bind(this)}handleNameChange(e,t){const{colors:n}=this.props;n.map(e=>e.name).includes(t)?(setTimeout(()=>{a.a({title:`${t} already exists`,message:"Please enter another name for this color.",done:{name:"GOT IT"}})},p),this.forceUpdate()):o.b.updateColor(e,{name:t})}render(){const{colors:e,highlightedColors:t,sidebarInitialWidth:n,onExportClick:a,onSettingsClick:s,onManageExtensionsClick:r}=this.props,{userRole:l,permissions:{canManageColors:c}}=this.context;return i.default.h(h,{colors:e,highlightedColors:t,userRole:l,readOnly:!c,onNameChange:this.handleNameChange,onDataChange:o.b.updateColor,onDelete:o.b.removeColor,sidebarInitialWidth:n,onSidebarRelease:o.b.setStyleguideSidebarWidth,onExportClick:a,onSettingsClick:s,onManageExtensionsClick:r})}}},function(e,t,n){"use strict";var i=n(848);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(33),s=n(9),o=n(383),r=n(56),l=n(59),c=n(1),d=n(849),u=(n.n(d),n(11));const h=i.default.h("svg",{width:"14",height:"14",key:"deleteIcon"},i.default.h("g",{fill:"none","fill-rule":"evenodd"},i.default.h("circle",{cx:"7",cy:"7",r:"7",fill:"#979197"}),i.default.h("path",{fill:"#FFF",d:"M7 5.708L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"})));function p(e){return!!/[0-9]{1,3}/.test(e)&&parseInt(e,10)<=100}function m(e){return/[A-Fa-f0-9]{6}/.test(e)}t.a=class extends i.default.Component{constructor(e){super(e),this.handleNameChange=this.handleNameChange.bind(this),this.handleHexChange=this.handleHexChange.bind(this),this.handleOpacityChange=this.handleOpacityChange.bind(this),this.handleDelete=this.handleDelete.bind(this)}highlight(){const{scrollIntoView:e,highlight:t}=this.props;e&&this.nodeRefs.base.scrollIntoView(),t&&this.nodeRefs.base.animate([{backgroundColor:"var(--cornflower-blue-20pc)"},{backgroundColor:"transparent"}],{duration:2500,easing:"cubic-bezier(1, 0, 0.4, 0)"})}handleDelete(){const{color:{name:e,id:t},onDelete:n}=this.props;s.a({message:`Remove “${e}”?`,done:{name:"REMOVE",cb:()=>{n(t)}},cancel:{name:"KEEP"}})}handleHexChange(e){const{color:{id:t},onDataChange:n}=this.props,{r:i,g:s,b:o}=a.a.fromHex(`#${e}`);n(t,{r:i,g:s,b:o})}handleNameChange(e){const{color:{id:t},onNameChange:n}=this.props;n(t,e)}handleOpacityChange(e){const{color:{id:t},onDataChange:n}=this.props;n(t,{a:parseInt(e,10)/100})}componentDidMount(){this.highlight()}componentDidUpdate(){this.highlight()}render(){const{color:e,userRole:t,readOnly:n}=this.props,{projectType:a}=this.context,s=e.name,d=e.hexBase(),f=Math.round(100*e.a),g=e.toRGBString(),b=e.toRGBAString();let v=i.default.h("div",{class:"colorCell",ref:Object(u.a)(this,"base")},i.default.h("div",{class:"colorPreview",style:{backgroundColor:b}},!n&&i.default.h("button",{type:"button",onClick:this.handleDelete},h)),i.default.h("div",{class:"colorInformation"},i.default.h("div",{className:"colorNameContainer"},i.default.h(o.a,{class:"colorName",spellCheck:"false",filterRegex:c.h[a],prefix:"#",maxLength:36,ellipsized:!0,initialValue:s,disabled:n,blurOnEnter:!0,onBlur:this.handleNameChange})),i.default.h("div",{className:"colorValueContainer"},i.default.h(o.a,{class:"colorHex",maxLength:6,spellCheck:"false",filterRegex:/([^a-fA-F0-9])/g,prefix:"#",validator:m,initialValue:d,disabled:n,blurOnEnter:!0,onBlur:this.handleHexChange}),i.default.h(o.a,{class:"colorAlpha",maxLength:3,filterRegex:/([^0-9])/g,suffix:"%",validator:p,initialValue:f,disabled:n,blurOnEnter:!0,onBlur:this.handleOpacityChange})),i.default.h("div",{class:"colorRGB"},g)));return n&&(v=i.default.h(r.a,{content:Object(l.a)(t,"edit colors")},v)),v}}},function(e,t){},function(e,t,n){"use strict";var i=n(851);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(33),s=n(476);const o={android:"light_orange",ios:"lightOrange",osx:"lightOrange",web:"light-orange"},r=[new a.a({r:254,g:207,b:51,a:1,name:"yellow"}),new a.a({r:253,g:189,b:57,a:1,name:"lightOrange"}),new a.a({r:238,g:103,b:35,a:1,name:"peach"})],l=1;t.a=class extends i.default.Component{prepareColors(){let{colors:e}=this.props;const{projectType:t}=this.context;let n;return e&&e.length?n="Color palette":(r[l].name=o[t],e=r,n="Sample color palette"),{colors:e,colorTitle:n}}render(){const{onExportClick:e,onSettingsClick:t,onManageExtensionsClick:n}=this.props,{colors:a,colorTitle:o}=this.prepareColors();return i.default.h(s.a,{type:"color",data:a,title:o,onExportClick:e,onSettingsClick:t,onManageExtensionsClick:n})}}},function(e,t,n){"use strict";var i=n(0),a=n(55),s=n(175),o=n(14),r=n(181),l=n(30),c=n(1),d=n(853);n.n(d);function u(e){return i.default.h("div",{class:"beta emptyStyleguideCodePanel"},e.hasExtensions?[i.default.h("h2",{key:"emptyStyleguideHeader"},"No extension snippets",i.default.h(l.a,{asset:"img/emjAlembic.png"})),i.default.h("p",{key:"emptyStyleguideParagraph"},"Looks like you don’t have any extensions that generate Styleguide code snippets. Extensions are built by the community, generating code snippets from designs.",i.default.h("br",null),i.default.h("br",null),"Manage and enable the ones that fit your workflow."),i.default.h(o.a,{key:"emptyStyleguideButton",onClick:e.onManageExtensionsClick,class:"manageExtensions"},"Manage extensions")]:[i.default.h("h2",{key:"emptyStyleguideHeader"},"No extensions",i.default.h(l.a,{asset:"img/emjAlembic.png"})),i.default.h("p",{key:"emptyStyleguideParagraph"},"Looks like you don’t have any extensions on this project. Extensions are built by the community, generating code snippets from designs.",i.default.h("br",null),i.default.h("br",null),"Browse and pick the ones that fit your workflow."),i.default.h("a",{key:"emptyStyleguideButton",href:Object(c.r)(),target:"_blank",rel:"noopener"},"Explore extensions")])}class h extends i.default.Component{constructor(e){super(e),this.exportCode=this.exportCode.bind(this),this.openSettings=this.openSettings.bind(this)}exportCode(){const{extensionId:e,onExportClick:t}=this.props;t(e)}openSettings(){const{extensionId:e,onSettingsClick:t}=this.props;t(e)}render(){const{snippets:e,title:t}=this.props;return i.default.h(r.b,{class:"beta styleguideCode",copyEnabled:!1,exportEnabled:!0,onExportClick:this.exportCode,onSettingsClick:this.openSettings,snippets:e,title:t,asyncHighlight:!0})}}class p extends i.default.Component{constructor(e){super(e),this.exportCode=this.exportCode.bind(this),this.state={codeSnippets:null}}exportCode(e){const{type:t,data:n,extensions:i,onExportClick:a}=this.props,s=i.find(t=>t.id===e);s&&s[`exportStyleguide${Object(c._2)(t)}s`](n).then(n=>a(t,n,e))}generateCodeSnippets(e,t,n){if(!e.length)return void this.setState({codeSnippets:{}});const{type:i}=this.props;Promise.all(e.map(e=>(function(e,t,n,i){return Promise.all([e[`styleguide${Object(c._2)(t)}s`](i),e.comment(n)]).then(([e,n])=>{if(!e)return;const i={name:t};return"string"==typeof e?i.code=e:Object.assign(i,e),i.code=`${n?`${n}\n\n`:""}${i.code}`,[i]}).catch(()=>{}).then((t=[])=>({[e.id]:{snippets:t,title:e.name}}))})(e,i,t,n))).then(e=>{this.setState({codeSnippets:Object.assign({},...e)})})}componentDidMount(){const{extensions:e,title:t,data:n}=this.props;this.generateCodeSnippets(e,t,n)}componentWillReceiveProps(e){const{extensions:t,title:n,data:i}=e;this.generateCodeSnippets(t,n,i)}shouldComponentUpdate(e,t){const{codeSnippets:n}=this.state;return n!==t.codeSnippets&&(!n||!t.codeSnippets||(Object.keys(n).length!==Object.keys(t.codeSnippets).length||Object.keys(n).some(e=>{const{snippets:i}=n[e],{snippets:a}=t.codeSnippets[e];return!(!a&&!i)&&(!a||!i||(i.length!==a.length||i.some((e,t)=>a[t].language!==e.language||a[t].code!==e.code)))})))}render(){const{extensions:e,hasExtensions:t,onSettingsClick:n,onManageExtensionsClick:a}=this.props,{codeSnippets:s}=this.state;if(!s)return;const o=e.map(e=>{const{snippets:t,title:a}=s[e.id];return t.length?i.default.h(h,{key:e.id,snippets:t,title:a,extensionId:e.id,onExportClick:this.exportCode,onSettingsClick:n}):null}).filter(Boolean);return e.length&&o.length?i.default.h("div",{class:"beta styleguideCodePanel"},o):i.default.h(u,{hasExtensions:t,onManageExtensionsClick:a})}}t.a=Object(a.a)(class extends i.default.Component{static calculateState(){const e=s.b.getState(),t=e.extensions.filter(t=>e.enabledExtensions.includes(t.id)&&t.loaded);return{initialized:e.initialized,hasExtensions:e.extensions.length>0,enabledExtensions:t}}static getStores(){return[s.b]}render(){const{type:e,data:t,title:n,onExportClick:a,onSettingsClick:s,onManageExtensionsClick:o}=this.props,{initialized:r,hasExtensions:l,enabledExtensions:c}=this.state;if(r)return i.default.h(p,{type:e,data:t,title:n,hasExtensions:l,extensions:c,onExportClick:a,onSettingsClick:s,onManageExtensionsClick:o})}},{withProps:!0})},function(e,t){},function(e,t,n){"use strict";t.a=function(e){const{type:t,onLink:n}=e,{headerImg:o,emoji:d,addIcon:u,exampleAddImg:h}=r[t],p=c(t);return i.default.h("div",{class:"emptyStateContainer"},i.default.h("div",{class:"emptyState"},i.default.h("h2",null,"No ",p,"s yet.",i.default.h(s.a,{asset:`img/${o}.png`,alt:d,title:d})),i.default.h("p",null,function(e){if("component"===e)return"Components are re-usable elements used throughout designs, crucial piece of your design system. Store, organize and showcase project components here.";return`You can organize and showcase your project ${c(e)}s here.`}(t)),i.default.h("ul",null,i.default.h("li",null,i.default.h("h3",null,"From a Shared Styleguide (Recommended)"),i.default.h("p",null,"Use ",p,"s from a Shared Styleguide by linking your project."),i.default.h("button",{type:"button",onClick:n},"Link to Shared Styleguide")),"component"!==t&&i.default.h("li",null,i.default.h("h3",null,"From Layers"),i.default.h("p",null,"Select a layer and click ",u," next to the ",p,"."),i.default.h(s.a,{asset:`img/${h}.png`})),i.default.h("li",null,i.default.h("h3",null,"From Design Tools"),i.default.h("p",null,i.default.h("a",{href:l},"Download desktop app")," to export ",p,"s from design tools."))),"component"===t&&i.default.h("div",{class:"componentExportInfo"},i.default.h("img",{width:"15",src:Object(a.b)("img/emjPointUp@17w.png"),srcset:`${Object(a.b)("img/emjPointUp@34w.png")} 2x, ${Object(a.b)("img/emjPointUp@51w.png")} 3x`,alt:"☝️",title:"☝️"}),i.default.h("p",null,"Components can only be exported from Sketch at the moment. Figma and Adobe XD CC support available soon."))))};var i=n(0),a=n(5),s=n(30),o=n(855);n.n(o);const r=Object.freeze({color:{emoji:"🎨",headerImg:"emjPalette",addIcon:i.default.h("svg",{width:"28",height:"16",viewBox:"0 0 28 16"},i.default.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.default.h("path",{d:"M23.5 7.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3z"}),i.default.h("path",{"fill-rule":"nonzero",d:"M13 9.96C13 6.751 7.13.421 6.88.151a.545.545 0 0 0-.755 0C5.87.422 0 6.752 0 9.959c0 3.323 2.915 6.026 6.5 6.026S13 13.282 13 9.959zm-6.5 5.026c-3.035 0-5.5-2.254-5.5-5.027 0-1.998 3.165-6.165 5.5-8.743C8.835 3.789 12 7.966 12 9.959c0 2.773-2.47 5.027-5.5 5.027zM12.535.152c.255.27 6.12 6.6 6.135 9.822 0 3.323-2.915 6.026-6.5 6.026a6.815 6.815 0 0 1-1.5-.17 7.5 7.5 0 0 0 1.115-.844h.375c3.035 0 5.5-2.254 5.5-5.027 0-1.993-3.165-6.17-5.5-8.743a28.926 28.926 0 0 0-1.535 1.789c-.21-.275-.42-.545-.625-.805A46.216 46.216 0 0 1 11.78.152a.545.545 0 0 1 .755 0z"}))),exampleAddImg:"imgColorFromLayer"},textStyle:{emoji:"✏️",headerImg:"emjPencil",addIcon:i.default.h("svg",{width:"28",height:"16",viewBox:"0 0 28 16"},i.default.h("path",{fill:"#554D56","fill-rule":"evenodd",d:"M23.5 7.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3zM9.413 13.683L8.007 9.798H2.68l-1.407 3.885H0L4.746 1h1.195l4.738 12.683H9.413zM5.317 2.485L3.041 8.761h4.605L5.37 2.485h-.053zM14.31 12.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.766h-1.125c.132-1.634 1.477-2.794 3.56-2.794s3.392 1.169 3.392 3.032v6.258H17.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889z"})),exampleAddImg:"imgTextStyleFromLayer"},component:{emoji:"🍡",headerImg:"emjDango"}}),l="https://support.zeplin.io/quick-start/downloading-mac-and-windows-apps";function c(e){return e.replace(/[A-Z]/g,e=>` ${e.toLowerCase()}`)}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(858);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(9),s=n(1),o=n(57),r=n(393),l=n(148),c=n(859),d=n(861),u=n(864);n.n(u);const h=10;class p extends i.default.Component{renderContent(){const{formatter:e,textStyles:t,highlightedTextStyles:n,readOnly:a,userRole:s,onNameChange:o,onColorDelete:l,onDelete:c}=this.props;return t&&t.length?i.default.h("div",{class:"textStyles"},t.map((t,r)=>{const u=n[0]===t.id,h=u||n.includes(t.id);return i.default.h(d.a,{key:t.id,readOnly:a,userRole:s,formatter:e,textStyle:t,tabIndex:r+1,scrollIntoView:u,highlight:h,onNameChange:o,onColorDelete:l,onDelete:c})})):i.default.h(r.a,{type:"textStyle",onLink:null})}renderSidebar(){const{project:e,textStyles:t,sidebarInitialWidth:n,onExportClick:a,onSettingsClick:r,onManageExtensionsClick:d}=this.props;return i.default.h(l.a,{minWidth:280,initialWidth:n,onClick:s.Z,onRelease:o.b.setStyleguideSidebarWidth},i.default.h(c.a,{project:e,textStyles:t,onExportClick:a,onSettingsClick:r,onManageExtensionsClick:d}))}render(){return i.default.h("div",{class:"textStyleCatalog beta"},this.renderContent(),this.renderSidebar())}}t.a=class extends i.default.Component{constructor(e){super(e),this.handleDelete=this.handleDelete.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.handleColorDelete=this.handleColorDelete.bind(this)}handleColorDelete(e){const{textStyles:t}=this.props,{name:n}=t.find(t=>t.id===e);a.a({message:`Delete color of "${n}"?`,done:{name:"DELETE",cb(){o.b.updateTextStyle(e,{color:null})}},cancel:{name:"CANCEL"}})}handleDelete(e){const{textStyles:t}=this.props,{name:n}=t.find(t=>t.id===e);a.a({title:`Delete "${n}"?`,message:"Deleted text styles cannot be restored.",done:{name:"DELETE",cb(){o.b.removeTextStyle(e)}},cancel:{name:"CANCEL"}})}handleNameChange(e,t){const{textStyles:n}=this.props;n.some(e=>e.name===t)?(setTimeout(()=>{a.a({title:`${t} already exists`,message:"Please enter another name for this text style.",done:{name:"GOT IT"}})},h),this.forceUpdate()):o.b.updateTextStyle(e,{name:t})}render(){const{formatter:e,project:t,textStyles:n,highlightedTextStyles:a,sidebarInitialWidth:s,onExportClick:r,onSettingsClick:l,onManageExtensionsClick:c}=this.props,{userRole:d,permissions:{canManageTextStyles:u}}=this.context;return i.default.h(p,{formatter:e,project:t,textStyles:n,highlightedTextStyles:a,userRole:d,readOnly:!u,onNameChange:this.handleNameChange,onDelete:this.handleDelete,onColorDelete:this.handleColorDelete,sidebarInitialWidth:s,onSidebarRelease:o.b.setStyleguideSidebarWidth,onExportClick:r,onSettingsClick:l,onManageExtensionsClick:c})}}},function(e,t,n){"use strict";var i=n(860);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(33),s=n(71),o=n(476);const r={name:"header",fontSize:24,color:{r:85,g:77,b:86}},l={android:"Roboto-Regular",ios:"SFUIDisplay-Regular",osx:"SFUIDisplay-Regular",web:"system-ui"};t.a=class extends i.default.Component{prepareTextStyles(){const{project:e}=this.props,{projectType:t}=this.context;let n,{textStyles:i}=this.props;return i&&i.length?(i=i.map(t=>{if(!t.color)return t;const n=e.findColorEqual(t.color);if(!n)return t;const i=new a.a(t.color);return i.name=n.name,t.color=i,t}),n="Text styles"):(r.fontFace=l[t],i=[new s.a(r)],n="Sample text styles"),{textStyles:i,textStyleTitle:n}}render(){const{onExportClick:e,onSettingsClick:t,onManageExtensionsClick:n}=this.props,{textStyles:a,textStyleTitle:s}=this.prepareTextStyles();return i.default.h(o.a,{type:"textStyle",data:a,title:s,onExportClick:e,onSettingsClick:t,onManageExtensionsClick:n})}}},function(e,t,n){"use strict";var i=n(862);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(14),s=n(176),o=n(56),r=n(3),l=n(59),c=n(1),d=n(863),u=(n.n(d),n(11));const h=i.default.h("svg",{width:"14",height:"14"},i.default.h("g",{fill:"none","fill-rule":"evenodd"},i.default.h("circle",{cx:"7",cy:"7",r:"7",fill:"#979197"}),i.default.h("path",{fill:"#FFF",d:"M7 5.708L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"})));t.a=class extends i.default.Component{constructor(e){super(e),this.handleDelete=this.handleDelete.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleColorDelete=this.handleColorDelete.bind(this)}generateFontStyle(){const{textStyle:{scaledFontSize:e,fontWeight:t,fontStyle:n}}=this.props;return{fontSize:`${e}px`,fontWeight:t,fontStyle:n}}getExtraInfo(){const{formatter:e,textStyle:{textAlign:t,lineHeight:n,letterSpacing:i}}=this.props,a=[];return t&&"left"!==t&&a.push(Object(c._2)(t)),n&&a.push(`Line height: ${e.textLength(n)}`),"number"==typeof i&&a.push(`Letter spacing: ${e.letterSpacing(i)}`),a.join(", ")}getMainInfo(){const{formatter:e,textStyle:{fontStretch:t,fontFamily:n,fontStyle:a,fontSize:s,weightText:o}}=this.props,r=t.split("-"),l=`${n+("normal"!==t?" "+Object(c._2)(r[0])+(r[1]||""):"")}, ${Object(c._2)(o)+("normal"!==a?` ${Object(c._2)(a)}`:"")}`;return[i.default.h("span",{key:l,title:l,class:"ellipsis"},l),`, ${e.textLength(s)}`]}highlight(){const{scrollIntoView:e,highlight:t}=this.props;e&&this.nodeRefs.base.scrollIntoView(),t&&this.nodeRefs.base.animate([{backgroundColor:"var(--cornflower-blue-20pc)"},{backgroundColor:"transparent"}],{duration:2500,easing:"cubic-bezier(1, 0, 0.4, 0)"})}handleColorDelete(){const{textStyle:{id:e},onColorDelete:t}=this.props;t(e)}handleDelete(){const{textStyle:{id:e},onDelete:t}=this.props;t(e)}handleNameBlur({discard:e,value:t}){const{textStyle:{id:n,name:i},onNameChange:a}=this.props;e||i===t||a(n,t)}componentDidMount(){this.highlight()}componentDidUpdate(){this.highlight()}render(){const{readOnly:e,userRole:t,formatter:n,textStyle:{name:c,color:d},tabIndex:p}=this.props;let m=i.default.h(s.a,{class:"name",fontStyle:this.generateFontStyle(),onBlur:this.handleNameBlur,value:c,minLength:"1",maxLength:"100",required:!0,readOnly:e,tabIndex:p,ellipsized:!0});return e&&(m=i.default.h(o.a,{content:Object(l.a)(t,"edit text styles")},m)),i.default.h("div",{class:Object(r.a)("textStyleRow",{readOnly:e}),ref:Object(u.a)(this,"base")},i.default.h("div",{class:"nameContainer"},m),i.default.h("div",{class:"info"},i.default.h("div",{class:"mainInfo"},i.default.h("div",{class:"style"},this.getMainInfo()),d&&i.default.h("div",{class:"colorContainer"},i.default.h("span",{class:"colorPreview",style:{backgroundColor:d.toRGBAString()}}),i.default.h("span",{class:"color ellipsis"},d.name?`#${d.name}`:n.colorString(d)),i.default.h(a.a,{class:"deleteColor",onClick:this.handleColorDelete},h))),i.default.h("div",{class:"extraInfo ellipsis"},this.getExtraInfo())),i.default.h(a.a,{class:"deleteTextStyle",onClick:this.handleDelete},h))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(866);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(867),o=n(875),r=n(393),l=n(462),c=n(461),d=n(883);n.n(d);const u=a.W.date.bind(null,["latestVersion","created"]);function h(e){const t={};return function e(t,n){t.forEach(t=>{t.components.forEach(e=>{const t=a.B(new Date(e.latestVersion.created));t in n||(n[t]=[]),n[t].push(e)}),e(t.componentSections,n)})}(e,t),Object.keys(t).map(e=>({_id:e,name:a._2(e),components:t[e].sort(u),componentSections:[]}))}function p(e,t){switch(t){case"default":default:return e;case"lastUpdated":return h(e);case"name":return function(e){return[{_id:"sortedByName",name:"sortedByName",components:a.g(e).sort(a.W.name),componentSections:[]}]}(e)}}const m=[{label:"Sections",value:"default"},{label:"Last updated",value:"lastUpdated"},{label:"Name",value:"name"}];class f extends i.default.Component{renderContent(){const{componentCount:e,componentSections:t,selectionComponent:n,selection:a,visibleComponents:o,observer:d,sortType:u,filterValue:h,cseid:p,onSort:f,onFilter:g,onSelect:b}=this.props;return e?i.default.h("div",{class:"components"},i.default.h(c.a,{inputPlaceholder:"Search for a component",sortOptions:m,selectedSortType:u,filterValue:h,onSort:f,onFilter:g}),!!t.length&&i.default.h("div",{class:"componentSections"},t.map((e,t)=>i.default.h(s.a,{key:e._id,index:t,data:e,highlighted:p===e._id,actionsDisabled:"lastUpdated"===u,selectionComponentId:n&&n._id,selection:a,observer:d,visibleComponents:o,defaultSection:!(t||"lastUpdated"===u&&!h),readOnly:"default"!==u,filterValue:h,onSelect:b}))),!t.length&&i.default.h(l.a,{text:"No components with this name"})):i.default.h(r.a,{type:"component",onLink:null})}renderSidebar(){const{componentCount:e,selectionComponent:t,selection:n,formatter:a,descriptionFormatter:s,sidebarInitialWidth:r,colors:l,textStyles:c,onCloseClick:d,onExportClick:u,onSettingsClick:h,assetExportTarget:p,onManageExtensionsClick:m}=this.props;return i.default.h(o.a,{componentCount:e,selectionComponent:t,selection:n,formatter:a,descriptionFormatter:s,initialWidth:r,colors:l,textStyles:c,onCloseClick:d,onExportClick:u,onSettingsClick:h,assetExportTarget:p,onManageExtensionsClick:m})}render(){return i.default.h("div",{class:"componentsContainer"},this.renderContent(),this.renderSidebar())}}t.a=class extends i.default.Component{constructor(e){super(e),this.visibleComponents=new Set,this.deselectComponent=this.deselectComponent.bind(this)}deselectComponent(){const{selection:e}=this.props;e&&this.props.onSelect(null,null)}get componentCount(){const{componentSections:e}=this.props;return a.g(e).length}processComponents(){const{componentSections:e,sortType:t,filterValue:n}=this.props;return n?function(e,t){const n=a.g(e),i=new WeakMap(n.map(e=>[e,a.c(t,e.name)])),s=n.filter(e=>i.get(e));return s.length?[{_id:"filtered",name:"filtered",components:s.sort((e,t)=>{const n=i.get(t)-i.get(e);return n||a.W.name(e,t)}),componentSections:[]}]:[]}(e,n):p(e,t)}componentWillMount(){this.observer=new IntersectionObserver((e,t)=>{e.forEach(e=>{const t=e.target.dataset.id,n=function e(t,n){let i;for(const a of t){if(i=a.components.find(e=>e._id===n))return i;if(i=e(a.componentSections,n))return i}return null}(this.props.componentSections,t);n&&(e.isIntersecting?this.visibleComponents.add(n):this.visibleComponents.delete(n))}),window.cancelAnimationFrame(this.renderTimeout),this.renderTimeout=window.requestAnimationFrame(()=>{this.props.onComponentsVisible([...this.visibleComponents])})},{root:this.base})}componentDidMount(){document.addEventListener("click",this.deselectComponent)}componentWillUnmount(){this.observer.disconnect(),document.removeEventListener("click",this.deselectComponent)}render(){const{selection:e,selectionComponent:t,sortType:n,filterValue:a,formatter:s,descriptionFormatter:o,cseid:r,colors:l,textStyles:c,sidebarInitialWidth:d,onSort:u,onFilter:h,onSelect:p}=this.props,m=this.processComponents();return i.default.h(f,{componentCount:this.componentCount,componentSections:m,selectionComponent:t,selection:e,visibleComponents:this.visibleComponents,formatter:s,descriptionFormatter:o,observer:this.observer,colors:l,textStyles:c,sortType:n,filterValue:a,cseid:r,sidebarInitialWidth:d,onSort:u,onFilter:h,onSelect:p,onCloseClick:this.deselectComponent})}}},function(e,t,n){"use strict";var i=n(868);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(11),s=n(152),o=n(454),r=n(455),l=n(869),c=n(477),d=n(458),u=n(177),h=n(874);n.n(h);const p=136;t.a=class extends i.default.Component{constructor(e){super(e),this.state={addingDescription:!1},this.highlightDescription=this.highlightDescription.bind(this),this.highlightName=this.highlightName.bind(this),this.handleAddDescriptionClick=this.handleAddDescriptionClick.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleGroupNameChange=this.handleGroupNameChange.bind(this),this.handleDescriptionBlur=this.handleDescriptionBlur.bind(this),this.handleCopyWebLink=this.handleCopyWebLink.bind(this),this.handleCopyAppURI=this.handleCopyAppURI.bind(this),this.handleDelete=this.handleDelete.bind(this)}highlightDescription(){this.componentRefs.section.highlightDescription()}highlightName(){this.componentRefs.section.highlightName()}handleAddDescriptionClick(){this.setState({addingDescription:!0})}handleGroupNameChange(e,t){u.b.updateComponentSection(e,{name:t})}handleNameBlur({discard:e,value:t}){const{data:{_id:n,name:i}}=this.props;e||i===t||u.b.updateComponentSection([n],{name:t})}handleDescriptionBlur({discard:e,value:t}){this.state.addingDescription&&this.setState({addingDescription:!1});const{data:{_id:n,description:i}}=this.props;e||i===t||u.b.updateComponentSection([n],{description:t})}handleCopyWebLink(){const{data:{_id:e}}=this.props;u.b.copySectionWebLink(e)}handleCopyAppURI(){const{data:{_id:e}}=this.props;u.b.copySectionAppURI(e)}handleDelete(){const{data:{_id:e},index:t}=this.props;u.b.deleteSection(e,t)}componentDidMount(){this.props.highlighted&&this.componentRefs.section.highlightSection()}componentDidUpdate(e,t){!t.addingDescription&&this.state.addingDescription&&this.highlightDescription()}renderComponentGroups(){const{data:{componentSections:e},selectionComponentId:t,selection:n,observer:a,visibleComponents:s,filterValue:o,onSelect:r}=this.props,{collapsed:c}=this.state;return!c&&e&&e.length?i.default.h("div",{class:"componentGroups"},e.map(e=>i.default.h(l.a,{key:e._id,data:e,observer:a,visibleComponents:s,filterValue:o,selectionComponentId:t,selection:n,onNameChange:this.handleGroupNameChange,onSelect:r}))):null}renderComponents(){const{data:{components:e},selectionComponentId:t,selection:n,observer:a,visibleComponents:s,filterValue:o,onSelect:r}=this.props,{collapsed:l}=this.state;if(l||!e||!e.length)return null;const d=e.map(e=>i.default.h(c.a,{key:e._id,data:e,observer:a,visible:s.has(e),filterValue:o,selection:n,containsSelection:n&&t===e._id,onSelect:r}));return i.default.h("div",{class:"components"},d)}renderContent(){return i.default.h("div",{class:"componentSectionContent"},this.renderComponents(),this.renderComponentGroups())}renderOptionsMenu(){const{readOnly:e,data:{description:t}}=this.props,n=t?i.default.h(r.a.Item,{onClick:this.highlightDescription},"Edit description"):i.default.h(r.a.Item,{onClick:this.handleAddDescriptionClick},"Add description");return i.default.h(r.a,null,!e&&[n,i.default.h(r.a.Item,{onClick:this.highlightName},"Rename section"),i.default.h(r.a.ItemDivider,null)],i.default.h(r.a.Item,{onClick:this.handleCopyWebLink},"Copy web link"),i.default.h(r.a.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.default.h(r.a.ItemDivider,null),!e&&[i.default.h(r.a.Item,{warning:!0,onClick:this.handleDelete},"Delete section")])}render(){const{data:{componentSections:e,components:t,name:n,description:r,_id:l},defaultSection:c,readOnly:u,actionsDisabled:h}=this.props,{addingDescription:m}=this.state,f=e.reduce((e,t)=>e+t.components.length,t.length),g=`${Object(s.a)(f)} collapsed`,b=this.renderContent(),v=this.renderOptionsMenu(),y=m?d.a:r;return i.default.h(o.a,{id:l,ref:Object(a.a)(this,"section","componentRefs"),name:n,description:y,countInfoText:g,optionsMenu:v,defaultSection:c,actionsDisabled:h,readOnly:u,topPadding:p,onNameBlur:this.handleNameBlur,onDescriptionBlur:this.handleDescriptionBlur},b)}}},function(e,t,n){"use strict";var i=n(870);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(176),o=n(477),r=n(873);n.n(r);t.a=class extends i.default.Component{constructor(e){super(e),this.handleNameBlur=this.handleNameBlur.bind(this),this.showOptionsMenu=this.showOptionsMenu.bind(this),this.hideOptionsMenu=this.hideOptionsMenu.bind(this),this.state={menuShown:!1}}hideOptionsMenu(){this.state.menuShown&&(document.removeEventListener("click",this.hideOptionsMenu,!0),this.setState({menuShown:!1}))}showOptionsMenu(e){e.stopPropagation(),this.state.menuShown||(document.addEventListener("click",this.hideOptionsMenu,!0),this.setState({menuShown:!0}))}handleNameBlur({discard:e,value:t}){const{data:{idPath:n,name:i},onNameChange:a}=this.props;e||i===t||a(n,t)}renderComponents(){const{data:{components:e},observer:t,visibleComponents:n,filterValue:a,selectionComponentId:s,selection:r,onSelect:l}=this.props,c=e.map(e=>i.default.h(o.a,{key:e._id,data:e,observer:t,visible:n.has(e),filterValue:a,selection:r,containsSelection:r&&s===e._id,onSelect:l}));return i.default.h("div",{class:"components"},c)}renderHeader(){const{data:{name:e}}=this.props;return i.default.h("div",{class:"header"},i.default.h("div",{class:"groupInfo"},i.default.h(s.a,{value:e,required:!0,onBlur:this.handleNameBlur})))}render(){const{menuShown:e}=this.state,t=Object(a.a)("componentGroup",{menuShown:e});return i.default.h("div",{class:t},this.renderHeader(),this.renderComponents())}}},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(11),o=n(1),r=n(457),l=n(872);n.n(l);const c=12,d=4*c,u=60;function h(e){return`${Math.ceil(e/c)*c+d}px`}t.a=class extends i.default.Component{constructor(e){super(e),this.handleComponentClick=this.handleComponentClick.bind(this),this.handleComponentEnter=this.handleComponentEnter.bind(this),this.handleComponentLeave=this.handleComponentLeave.bind(this),this.handleComponentContentClick=this.handleComponentContentClick.bind(this),this.handleLayerSelect=this.handleLayerSelect.bind(this),this.handleLayerEnter=this.handleLayerEnter.bind(this),this.handleLayerLeave=this.handleLayerLeave.bind(this),this.handleImageError=this.handleImageError.bind(this),this.scrollIntoView=e.containsSelection,this.state={imageRequested:!1,lightness:null,hoveredId:null,distances:null,rulers:!1}}getImageProperties(){const{latestVersion:{snapshot:{url:e}}}=this.props.data;Object(o.u)(e).then(({lightness:e})=>{this.setState({lightness:e})}).catch(()=>{this.setState({lightness:"dark"})})}getDistancesOrigin(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}},selection:i}=this.props;return e===i._id?{x:0,y:0,width:t,height:n}:i.absoluteRect}resetDistances(){null!==this.state.hoveredId&&this.setState({hoveredId:null,distances:null})}handleImageError(){this.setState({imageRequested:!1})}handleComponentClick(e){e.stopPropagation(),this.resetDistances();const{data:t,onSelect:n}=this.props;n(t,t)}handleComponentContentClick(e){e.stopPropagation(),this.resetDistances();const{onSelect:t}=this.props;t(null)}handleComponentEnter(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}}}=this.props,i=this.getDistancesOrigin();this.setState({hoveredId:e,distances:{from:i,to:{x:0,y:0,width:t,height:n}}})}handleComponentLeave(){this.resetDistances()}handleLayerEnter(e){const t=this.getDistancesOrigin();this.setState({hoveredId:e._id,distances:{from:t,to:e.absoluteRect}})}handleLayerLeave(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}}}=this.props,i=this.getDistancesOrigin();this.setState({hoveredId:e,distances:{from:i,to:{x:0,y:0,width:t,height:n}}})}handleLayerSelect(e){this.resetDistances();const{data:t,onSelect:n}=this.props;n(t,e)}componentDidMount(){const{observer:e,visible:t}=this.props;e.observe(this.nodeRefs.base),t&&this.setState({imageRequested:!0})}componentWillReceiveProps(e){const{data:{_id:t},containsSelection:n}=this.props,{containsSelection:i}=e;!n&&i&&(this.scrollIntoView=!0);const a=e.data._id===t&&this.state.imageRequested;this.setState({imageRequested:a,rulers:e.containsSelection&&e.selection._id!==e.data._id})}componentDidUpdate(){const{visible:e}=this.props,{lightness:t,imageRequested:n}=this.state;if(e&&!t&&this.getImageProperties(),e&&!n&&this.setState({imageRequested:!0}),this.scrollIntoView){this.scrollIntoView=!1;const e=this.nodeRefs.base.getBoundingClientRect(),t=Object(o.t)(this.nodeRefs.base);if(!t)return;const n=t.getBoundingClientRect();(e.bottom<n.top||e.top>n.bottom)&&(t.scrollTop+=e.top-n.top-u)}}componentWillUnmount(){const{observer:e}=this.props;e.unobserve(this.nodeRefs.base)}renderName(){const{data:{name:e},filterValue:t}=this.props;let n=e;if(t){const a=e.toLowerCase();let s=0;n=[];for(const o of t){const t=a.indexOf(o,s);n.push(e.substring(s,t)),n.push(i.default.h("span",{class:"highlight"},e.substr(t,o.length))),s=t+o.length}n.push(e.substring(s))}return i.default.h("span",{class:"name ellipsis noSelect",title:e,key:"name"},n)}render(){const{data:{_id:e,latestVersion:{snapshot:t}},selection:n,visible:o,containsSelection:l}=this.props,{lightness:c,imageRequested:d,distances:u,rulers:p,hoveredId:m}=this.state,f=n&&n._id,g=Object(a.a)("component",{selected:e===f}),b=Object(a.a)("componentContent",c),v={width:h(t.width),height:h(t.height)};let y=null;return(o||d)&&(y=i.default.h(r.a,{class:b,snapshot:t},i.default.h(r.a.Image,{onError:this.handleImageError}),p?i.default.h(r.a.Rulers,{x:n.absoluteRect.x,y:n.absoluteRect.y,width:n.absoluteRect.width,height:n.absoluteRect.height}):null,u&&u.from&&u.to?i.default.h(r.a.Distances,{sourceRect:u.from,destRect:u.to}):null,t.layers&&t.layers.length>0?i.default.h(r.a.Layers,{layers:t.layers,selectedLayerId:n&&n._id,hoveredId:m,onLayerSelect:this.handleLayerSelect,onLayerEnter:l?this.handleLayerEnter:null,onLayerLeave:l?this.handleLayerLeave:null}):null)),i.default.h("div",{class:g,style:v,"data-id":e,ref:Object(s.a)(this,"base"),onClick:this.handleComponentClick,onMouseEnter:l?this.handleComponentEnter:null,onMouseLeave:l?this.handleComponentLeave:null},y,this.renderName())}}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(876);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(184),o=n(177),r=n(57),l=n(178),c=n(148),d=n(384),u=n(877);function h(e,t){r.b.updateColor(e,{name:t})}function p(e,t){o.b.updateComponent(e,{description:t})}t.a=class extends i.default.Component{constructor(){super(),this.handleAssetNameChange=this.handleAssetNameChange.bind(this),this.handleDownloadAssetClick=this.handleDownloadAssetClick.bind(this),this.handleCopy=this.handleCopy.bind(this)}handleAssetNameChange(e,t){const{selectionComponent:{_id:n,latestVersion:i}}=this.props;r.b.renameAsset(n,i,e,t)}handleCopy(e){Object(a.i)({content:e,toastContainer:this.base})}handleDownloadAssetClick(e,t){const{selectionComponent:{name:n,latestVersion:i}}=this.props;r.b.downloadAsset(n,i,e,t)}renderComponentPanel(){const{componentCount:e,selectionComponent:t,selection:n,formatter:a,descriptionFormatter:o,colors:c,textStyles:m,assetExportTarget:f,onCloseClick:g}=this.props;if(!n)return i.default.h(u.a.NoSelectionState,{componentCount:e});if(t._id===n._id)return i.default.h(u.a,{component:n,descriptionFormatter:o,formatter:a,projectColors:c,assetExportTarget:f,onCopy:this.handleCopy,onDescriptionChange:p,onColorNameChange:h,onAddColorClick:r.b.addColor,onRemoveColorClick:r.b.removeColor,onUsedInScreenClick:r.b.openScreenFromComponent,onChangeExportTargetClick:r.b.changeExportTarget,onOpenExportTargetClick:r.b.openExportTarget,onDownloadAssetClick:this.handleDownloadAssetClick,onAssetNameChange:this.handleAssetNameChange,onHideDensityWarningClick:l.b.hideDensityMismatchWarning,onHideBitmapInfoClick:l.b.hideNoVectorAssetInfo,onNamingConventionChange:r.b.changeNamingConvention,onShowOptimizedSVGChange:r.b.useSVGO,onCloseClick:g});const{assetNamingConvention:b,baseDensity:v,bitmapInfoHidden:y,densityWarningHidden:C,showOptimizedSVG:w,projectType:S}=this.context;let k;n.exportable&&(k=t.latestVersion.snapshot.assets.find(e=>e.layerId?e.layerId===n.sourceId:e.layerName===n.name));const E=new s.a(Object.assign({},n,{asset:k}));return i.default.h(d.a,{layer:E,layerContainer:t,version:t.latestVersion,bitmapInfoHidden:y,densityWarningHidden:C,namingConvention:b,showOptimizedSVG:w,baseDensity:v,projectColors:c,projectTextStyles:m,projectType:S,formatter:a,onCloseClick:g})}render(){const{initialWidth:e}=this.props;return i.default.h(c.a,{minWidth:280,initialWidth:e,onClick:a.Z,onRelease:r.b.setStyleguideSidebarWidth},this.renderComponentPanel())}}},function(e,t,n){"use strict";var i=n(878);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(33),s=n(190),o=n(4),r=n(390),l=n(391),c=n(58),d=n(149),u=n(392),h=n(387),p=n(159),m=n(388),f=n(30),g=n(879),b=n(882);n.n(b);class v extends i.default.Component{constructor(e){super(e),this.handleDescriptionChange=this.handleDescriptionChange.bind(this)}handleDescriptionChange(e){const{component:{idPath:t},onDescriptionChange:n}=this.props;n(t,e)}render(){const{component:{_id:e,name:t,latestVersion:n,latestVersion:{snapshot:{width:f,height:b,backgroundColor:v,assets:y=[]}},description:C,usedScreens:w,webUrl:S},descriptionFormatter:k,formatter:E,projectColors:j,onCopy:x,onColorNameChange:D,onAddColorClick:_,onRemoveColorClick:O,onUsedInScreenClick:L,assetExportTarget:T,onChangeExportTargetClick:R,onOpenExportTargetClick:I,onDownloadAssetClick:A,onAssetNameChange:N,onHideDensityWarningClick:P,onHideBitmapInfoClick:M,onNamingConventionChange:U,onShowOptimizedSVGChange:B,onCloseClick:z}=this.props,{permissions:{canManageScreens:F},projectId:q,projectType:H,baseDensity:W,assetNamingConvention:Z,bitmapInfoHidden:V,densityWarningHidden:$,showOptimizedSVG:G}=this.context,Y=Object(s.b)([n])[0],K=`${o.B}//components?pid=${q}&coid=${e}`,X=y.find(e=>"snapshot"===e.layerId);let J;return X&&(J=Object(s.a)(X,E)),i.default.h("div",{class:"componentDetail"},i.default.h(m.a,{onCloseClick:z},t),i.default.h(c.a,null,i.default.h(r.a,{key:Y.username,avatar:Y.avatar,username:Y.username,versionCount:Y.versions,authorCount:1,lastUpdated:Y.lastUpdated})),i.default.h(c.a,{title:"Description"},i.default.h(l.a,{class:"descriptionInput",formatter:k,value:C,placeholder:F?"Got any notes?":"No description yet",readOnly:!F,submitOnBlur:!0,onChange:this.handleDescriptionChange,showEmojiAutoComplete:!0,autoEdit:!0,maxLength:1024})),i.default.h(c.a,{title:"Share"},i.default.h("div",{class:"shareViewWrapper"},i.default.h(u.a,{webUrl:S,appUri:K,onCopy:x}))),J&&i.default.h(h.a,{asset:J,baseDensity:W,projectType:H,densityWarningHidden:$,bitmapInfoHidden:V,namingConvention:Z,showOptimizedSVG:G,assetExportTarget:T,onChangeExportTargetClick:R,onOpenExportTargetClick:I,onDownloadClick:A,onNameChange:N,onHideDensityWarningClick:P,onHideBitmapInfoClick:M,onNamingConventionChange:U,onShowOptimizedSVGChange:B}),!J&&i.default.h(c.a,{title:"Size"},i.default.h(p.a.Group,null,i.default.h(p.a,{name:"Width"},E.length(f)),i.default.h(p.a,{name:"Height"},E.length(b)))),v&&i.default.h(c.a,{title:"Background color"},i.default.h(d.a,{color:Object(s.c)(new a.a(v),E,j),onNameChange:D,onAddClick:_,onRemoveClick:O})),!!w.length&&i.default.h(c.a,{title:"Used in"},i.default.h(g.a,{screens:w,componentId:e,componentName:t,onScreenClick:L})))}}v.NoSelectionState=function(e){const{componentCount:t}=e;return t?i.default.h("div",{class:"componentsSidebarNoSelectionState"},i.default.h("h2",null,t," Components ",i.default.h(f.a,{width:24,height:24,asset:"img/emjDango.png",alt:"🍡",title:"🍡"})),i.default.h("p",null,"Some say the more components you have, the cooler you are."),i.default.h("p",null,"You can learn more about components from ",i.default.h("a",{href:"https://blog.zeplin.io/introducing-zeplin-2-0-components-and-a-ton-more-goodies-7c09dacc1f48",target:"_blank"},"here"),".")):null},t.a=v},function(e,t,n){"use strict";var i=n(880);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(1),s=n(33),o=n(881);n.n(o);const r=132;class l extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){if(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)return;e.stopPropagation(),e.preventDefault();const{screenId:t,componentId:n,componentName:i,onClick:s}=this.props,{projectId:o}=this.context;s(t,Object(a._3)("project-styleguide-components",{url:{pid:o},query:{coid:n}}),i)}componentDidMount(){const{observer:e}=this.props;e.observe(this.base)}componentWillUnmount(){const{observer:e}=this.props;e.unobserve(this.base)}render(){const{screenId:e,name:t,url:n,width:o,height:l,backgroundColor:c=s.a.NAMED_COLORS.white,visible:d}=this.props,{projectId:u}=this.context,{src:h,srcset:p}=Object(a.y)(n,{width:r}),m=l*r/o,f=new s.a(c).toCSS(),g=Object(a._3)("project-screen",{url:{pid:u,sid:e}});return i.default.h("a",{href:g,class:"usedInScreen",onClick:this.handleClick,"data-id":e,"data-link-type":"inApp"},i.default.h("div",{class:"imageWrapper",style:{height:m,backgroundColor:f}},d&&i.default.h("img",{width:r,height:m,src:h,srcset:p,crossOrigin:"anonymous"}),i.default.h("div",{class:"imageFrame"})),i.default.h("div",{class:"screenName"},t))}}t.a=class extends i.default.Component{constructor(e){super(e),this.visibleScreens=new Set,this.state={visibleScreens:new Set}}componentWillMount(){this.observer=new IntersectionObserver((e,t)=>{e.forEach(e=>{const t=e.target.dataset.id;e.isIntersecting?this.visibleScreens.add(t):this.visibleScreens.delete(t)}),window.cancelAnimationFrame(this.renderTimeout),this.renderTimeout=window.requestAnimationFrame(()=>{this.setState({visibleScreens:this.visibleScreens})})})}componentWillUnmount(){this.observer.disconnect()}render(){const{screens:e,componentId:t,componentName:n,onScreenClick:a}=this.props,{visibleScreens:s}=this.state;return i.default.h("div",{class:"usedInScreens"},e.map(e=>{const{versions:[{snapshot:{url:o,width:r,height:c,backgroundColor:d}}]}=e;return i.default.h(l,{key:e._id,screenId:e._id,name:e.name,url:o,width:r,height:c,backgroundColor:d,componentId:t,componentName:n,visible:s.has(e._id),onClick:a,observer:this.observer})}))}}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(478);n.d(t,"a",function(){return i.b})},function(e,t,n){"use strict";var i=n(887);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(169),s=n(57),o=n(179),r=n(178),l=n(34),c=n(888),d=n(894),u=n(899),h=n(904),p=n(3),m=n(5),f=n(1),g=n(478),b=n(910),v=n(911);n.n(v);function y(e,t){o.b.updateScreen(e,{description:t})}function C(e,t){s.b.updateColor(e,{name:t})}class w extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){const{id:t,selected:n,onChange:i}=this.props;e.target.checked&&e.target.checked!==n&&i(t)}render(e){const{id:t,selected:n,title:a}=e,s=`ic${Object(f._2)(t)}Tab${n?"Selected":""}`;return i.default.h("label",{class:"noSelect",title:a},i.default.h("input",{type:"radio",name:"resourceTab",value:t,checked:n,onClick:this.handleClick}),i.default.h("img",{alt:a,src:Object(m.b)(`img/${s}.png`),srcset:Object(m.c)(Object(m.b)(`img/${s}.png`))}))}}t.a=class extends l.a{constructor(e){super(e),this.handleDescriptionChange=this.handleDescriptionChange.bind(this),this.handleManageTagsClick=this.handleManageTagsClick.bind(this),this.handleDownloadAssetClick=this.handleDownloadAssetClick.bind(this),this.handleDownloadSelectedAssetClick=this.handleDownloadSelectedAssetClick.bind(this)}handleDescriptionChange(e){const{screen:{_id:t}}=this.props;o.b.updateScreen(t,{description:e})}handleManageTagsClick(){const{screen:{_id:e}}=this.props;o.b.openManageTags(e)}handleDownloadAssetClick(e,t){const{screen:n,currentVersion:i}=this.props;s.b.downloadAsset(n.name,i,e,t)}handleDownloadSelectedAssetClick(e){const{screen:t,currentVersion:n}=this.props;s.b.downloadMultipleAsset(t.name,n,e)}renderTabs(){const{selectedTab:e,onTabChange:t}=this.props;return i.default.h("div",{class:"resourceTabs"},g.a.map(n=>i.default.h(w,{id:n.id,key:n.id,selected:e===n.id,onChange:t,title:n.title})))}renderContent(){const{restricted:e,formatter:t,descriptionFormatter:n,commentFormatter:l,layoutGridVisible:p,showNoResourceInfo:m,sourceFileInfoHidden:f,screen:v,currentVersion:w,projectColors:S,projectType:k,isScreenSnapshotLoading:E,densityWarningHidden:j,namingConvention:x,showOptimizedSVG:D,notesFilter:{status:_,color:O},selectedTab:L}=this.props,{projectUser:T}=this.context,{info:R,colors:I,assets:A,notes:N}=Object(b.a)(v,w,t,S,T);let P,M;const U=g.a.reduce((e,t)=>(e[t.id]=t.id,e),{});switch(L){case U.colors:M=Object.assign({loading:E,restricted:e,onRequestOrgInviteClick:a.b.requestInvite,onAddColorClick:s.b.addColor,onRemoveColorClick:s.b.removeColor,onColorNameChange:C},I),P=i.default.h(d.a,M);break;case U.assets:M=Object.assign({restricted:e,formatter:t,densityWarningHidden:j,namingConvention:x,showOptimizedSVG:D,loading:E,projectType:k,onRequestOrgInviteClick:a.b.requestInvite,onHideDensityWarningClick:r.b.hideDensityMismatchWarning,onNamingConventionChange:s.b.changeNamingConvention,onShowOptimizedSVGChange:s.b.useSVGO,onDownloadClick:this.handleDownloadAssetClick,onDownloadSelectedClick:this.handleDownloadSelectedAssetClick},A),P=i.default.h(u.a,M);break;case U.notes:M=Object.assign({selectedColor:O,selectedStatus:_,commentFormatter:l,onFilterChange:o.b.changeDotFilter,onNoteClick:o.b.selectDot,onAddNoteClick:o.b.openNoteMode},N),P=i.default.h(h.a,M);break;case U.info:default:M=Object.assign({formatter:t,descriptionFormatter:n,layoutGridVisible:p,showNoResourceInfo:m,sourceFileInfoHidden:f,onCopyScreenLink:o.b.copyScreenLink,onGridToggleChange:o.b.toggleLayoutGrid,onDescriptionChange:y,onManageTagsClick:o.b.openManageTags,onSourceFileClick:o.b.openSourceFile,onSourceFolderClick:o.b.openSourceFolder,onRequestOrgInviteClick:a.b.requestInvite,onHideNoResourceInfoClick:s.b.hideNoResourceInfo,onHideSourceFileInfoClick:r.b.hideSourceFileInfo},R),P=i.default.h(c.a,M)}return i.default.h("div",{class:"resourceContent"},P)}render(e,t){const{class:n}=e;return i.default.h("div",{class:Object(p.a)("resourceView",n)},this.renderTabs(),this.renderContent())}}},function(e,t,n){"use strict";var i=n(889);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(890),s=n(14),o=n(392),r=n(391),l=n(183),c=n(56),d=n(180),u=n(58),h=n(191),p=n(390),m=n(3),f=n(59),g=n(5),b=n(57),v=n(179),y=n(893);n.n(y);const C=i.default.h("svg",{width:"14",height:"14",viewBox:"0 0 14 14"},i.default.h("path",{fill:"#554D56","fill-rule":"evenodd",d:"M8.167 13.903a7.047 7.047 0 0 1-2.334 0V12.12a5.22 5.22 0 0 1-1.652-.69l-1.26 1.26a7.04 7.04 0 0 1-1.61-1.61l1.26-1.26a5.22 5.22 0 0 1-.69-1.653H.096a7.047 7.047 0 0 1 0-2.334H1.88a5.22 5.22 0 0 1 .69-1.652L1.31 2.92a7.04 7.04 0 0 1 1.61-1.61l1.26 1.26a5.22 5.22 0 0 1 1.653-.69V.096a7.047 7.047 0 0 1 2.334 0V1.88a5.22 5.22 0 0 1 1.652.69l1.26-1.26a7.04 7.04 0 0 1 1.61 1.61l-1.264 1.254c.321.502.56 1.061.695 1.66h1.783a7.047 7.047 0 0 1 0 2.333H12.12a5.22 5.22 0 0 1-.695 1.659l1.263 1.255a7.04 7.04 0 0 1-1.609 1.608l-1.26-1.26a5.22 5.22 0 0 1-1.652.69v1.784zM7 10.15a3.15 3.15 0 1 0 0-6.3 3.15 3.15 0 0 0 0 6.3z"}));class w extends i.default.Component{getGridData(){const{grid:{horizontal:e,vertical:t}}=this.props,n={};if(t){const{columnWidth:e,gutterWidth:i,guttersOnOutside:a,numberOfCols:s}=t,o=Math.min(230*e/(e+i),206);Object.assign(n,{vertical:!0,columnWidth:e,gutterWidth:i,vizColumnWidth:Math.floor(o),vizGutterWidth:Math.ceil(230-o),totalWidth:s*e+(s-!a)*i,numberOfCols:s})}if(e){const{rowHeight:t,gutterHeight:i}=e,a=Math.min(48*t/(t+i),32);Object.assign(n,{horizontal:!0,rowHeight:t,gutterHeight:i,vizRowHeight:Math.floor(a),vizGutterHeight:Math.ceil(48-a)})}return n}render(e){const{formatter:t}=e,{vertical:n,columnWidth:a,gutterWidth:s,vizColumnWidth:o,vizGutterWidth:r,totalWidth:l,numberOfCols:c,horizontal:d,rowHeight:u,gutterHeight:h,vizRowHeight:p,vizGutterHeight:f}=this.getGridData();return i.default.h("div",{class:Object(m.a)("layoutGrid",{vertical:n,horizontal:d})},i.default.h("table",null,i.default.h("tr",null,i.default.h("td",{class:"gridColumnWidth"},t.length(a)),i.default.h("td",{class:"gridGutterWidth"},t.length(s)),i.default.h("td",null)),i.default.h("tr",null,i.default.h("td",{class:"gridColumn",style:{width:`${o}px`}}),i.default.h("td",{class:"verticalGutter",style:{width:`${r}px`}}),i.default.h("td",{class:"gridRowHeight",style:{height:`${p}px`}},t.length(u))),i.default.h("tr",null,i.default.h("td",{class:"horizontalGutter"}),i.default.h("td",null),i.default.h("td",{class:"gridGutterHeight",style:{height:`${f}px`}},t.length(h)))),i.default.h("div",{class:"gridProperty"},i.default.h("span",{class:"name"},"Total width:"),i.default.h("span",{class:"value"},t.length(l))),i.default.h("div",{class:"gridProperty"},i.default.h("span",{class:"name"},"# of columns:"),i.default.h("span",{class:"value"},c)))}}t.a=class extends i.default.Component{constructor(e){super(e),this.handleDescriptionChange=this.handleDescriptionChange.bind(this),this.handleManageTagsClick=this.handleManageTagsClick.bind(this),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this),this.handleSourceFileClick=this.handleSourceFileClick.bind(this),this.handleSourceFolderClick=this.handleSourceFolderClick.bind(this)}handleDescriptionChange(e){const{id:t,onDescriptionChange:n}=this.props;n(t,e)}handleManageTagsClick(){const{id:e,onManageTagsClick:t}=this.props;t(e)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}handleSourceFileClick(){const{sourceFile:e,onSourceFileClick:t}=this.props;e&&t(e.file)}handleSourceFolderClick(){const{sourceFile:e,onSourceFolderClick:t}=this.props;e&&t(e.file)}renderSourceFileIcons(){const{source:e}=this.props;return"psd"===e?[i.default.h("img",{key:"ps",src:Object(g.b)("img/icFilePhotoshop.png"),srcset:Object(g.c)(Object(g.b)("img/icFilePhotoshop.png"))}),i.default.h("img",{key:"psPressed",src:Object(g.b)("img/icFilePhotoshopPressed.png"),srcset:Object(g.c)(Object(g.b)("img/icFilePhotoshopPressed.png"))})]:"xd"===e?[i.default.h("img",{key:"xd",src:Object(g.b)("img/icFileXD.png"),srcset:Object(g.c)(Object(g.b)("img/icFileXD.png"))}),i.default.h("img",{key:"xdPressed",src:Object(g.b)("img/icFileXDPressed.png"),srcset:Object(g.c)(Object(g.b)("img/icFileXDPressed.png"))})]:void 0}render(e,t,n){const{appUri:m,authors:g=[],description:y,formatter:S,descriptionFormatter:k,layoutGridVisible:E,grid:j,sourceFile:x,tags:D,webUrl:_,version:O,screen:L,showNoResourceInfo:T,sourceFileInfoHidden:R,onCopyScreenLink:I,onGridToggleChange:A,onHideNoResourceInfoClick:N,onHideSourceFileInfoClick:P}=e,{permissions:{canManageScreens:M},projectUser:{role:U}}=n;return i.default.h(h.a,{class:"infoTab"},T&&i.default.h(d.a,{class:"noResourceInfo",onHideClick:N},"This project belongs to an organization but looks like you're not a member. If you're a developer or a designer and want to access these resources, please ",i.default.h("a",{href:"#",onClick:this.handleRequestInviteClick},"request an invite")," from admins!"),i.default.h(u.a,null,g.map(({username:e,avatar:t={},versions:n,lastUpdated:a})=>i.default.h(p.a,{key:e,avatar:t,username:e,versionCount:n,authorCount:g.length,lastUpdated:a}))),i.default.h(u.a,{title:"Share"},i.default.h("div",{class:"shareViewWrapper"},i.default.h(o.a,{webUrl:_,appUri:m,onCopy:I}))),i.default.h(u.a,{title:"Description"},i.default.h(r.a,{class:"descriptionInput",value:y,placeholder:M?"Got any notes?":"No description yet",readOnly:!M,submitOnBlur:!0,onChange:this.handleDescriptionChange,autoEdit:!0,formatter:k,showEmojiAutoComplete:!0,maxLength:1024})),i.default.h(u.a,{title:"Tags"},i.default.h("div",{class:"tags"},D.map(({name:e,link:t})=>i.default.h("a",{key:e,href:t,class:"tagLink","data-link-type":"inApp"},e)),i.default.h(c.a,{content:M?"Manage tags":Object(f.a)(U,"organize screens using tags")},i.default.h(s.a,{class:"manageTagsButton",onClick:this.handleManageTagsClick,disabled:!M},C,i.default.h("span",{class:"buttonText"}))))),j&&i.default.h(u.a,{title:i.default.h("div",{class:"gridsTitle"},"Grids",i.default.h(l.a,{checked:E,onChange:A}))},i.default.h(w,{grid:j,formatter:S})),x&&i.default.h(u.a,{title:"File"},i.default.h("div",{class:"sourceFileInfo"},i.default.h("div",{class:"sourceFileLocation"},i.default.h("div",{class:"sourceFileName ellipsis",title:x.name,onClick:this.handleSourceFileClick},x.name),i.default.h("div",{class:"sourceFilePath",title:x.dir,onClick:this.handleSourceFolderClick},x.pathParts.join(" ▸ "))),i.default.h(s.a,{class:"openFile",onClick:this.handleSourceFileClick},this.renderSourceFileIcons())),!R&&i.default.h(d.a,{class:"sourceFileHint",onHideClick:P},"This is only visible to you, to quickly jump to your design file.")),i.default.h(a.a,{class:"codeSection",screen:L,version:O,onCopyClick:v.b.copyScreenCode,onSettingsClick:b.b.openExtensionSettings}))}}},function(e,t,n){"use strict";var i=n(0),a=n(389);t.a=class extends i.default.Component{constructor(e){super(e),this.generateScreenCode=this.generateScreenCode.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateScreenCode(e){const{screen:t,version:n}=this.props;return e.screen(n,t).then(e=>{if(!e)return;const t={name:"screen"};return"string"==typeof e?t.code=e:Object.assign(t,e),t})}renderExtensionCode(e){const{onCopyClick:t,onSettingsClick:n,class:s}=this.props;return i.default.h(a.a,{snippets:e,onCopyClick:t,onSettingsClick:n,class:s})}render(){const{screen:e}=this.props;return i.default.h(a.c,{id:e._id,generateCode:this.generateScreenCode,render:this.renderExtensionCode})}}},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(892);n.n(s);t.a=function(e){const{class:t,children:n,afterContent:s,title:o,onClick:r}=e;return i.default.h("div",{class:Object(a.a)("resourceTab",t),onClick:r},o&&i.default.h("div",{class:"title"},i.default.h("h1",null,o)),i.default.h("div",{class:"tabContent"},n),s)}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(895);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(58),s=n(191),o=n(149),r=n(479),l=n(5),c=n(898);n.n(c);t.a=class extends i.default.Component{constructor(e){super(e),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}render(e){const{backgroundColor:t,screenColors:n,loading:c,restricted:d,onAddColorClick:u,onRemoveColorClick:h,onColorNameChange:p}=e;let m;return c?m=i.default.h(a.a,null,i.default.h(r.a,null)):d?m=i.default.h(a.a,null,i.default.h("div",{class:"restricted"},i.default.h("h2",null,"Limited access"),i.default.h("p",null,"This project belongs to an organization but looks like you're not a member. If you're a developer or a designer and want to access these resources, please ",i.default.h("a",{href:"#",onClick:this.handleRequestInviteClick},"request an invite")," from admins!"))):t||n.length?(m=[],t&&m.push(i.default.h(a.a,{title:"Background color"},i.default.h(o.a,{onAddClick:u,onRemoveClick:h,onNameChange:p,color:t}))),n.length>0&&m.push(i.default.h(a.a,{title:"Colors"},n.map(e=>i.default.h(o.a,{key:e.colorStyle,onAddClick:u,onRemoveClick:h,onNameChange:p,color:e}))))):m=i.default.h(a.a,null,i.default.h("div",{class:"noColors"},i.default.h("h2",null,"No colors. ",i.default.h("img",{width:"24",height:"24",src:Object(l.b)("img/emjPalette.png"),srcset:Object(l.c)(Object(l.b)("img/emjPalette.png")),alt:"🎨",title:"🎨"})),i.default.h("p",null,"All the colors used in the screen will be listed here."),i.default.h("p",null,"Could this be a bitmap? ",i.default.h("a",{href:"https://support.zeplin.io/quick-start/exporting-designs-from-sketch"},"Learn more")," about exporting designs."))),i.default.h(s.a,{class:"colorsTab",title:"Colors"},m)}}},function(e,t,n){"use strict";var i=n(0),a=n(3),s=n(897);n.n(s);const o=180,r=7,l=5;t.a=class extends i.default.Component{constructor(e){super(e),this.handleOnePeriod=this.handleOnePeriod.bind(this)}handleOnePeriod(){this.iteration=(this.iteration+1)%this.flipPeriod,this.base.classList.toggle("flip",0===this.iteration)}componentDidMount(){this.props.randomFlipLastShape&&(this.iteration=1,this.flipPeriod=Math.floor(Math.random()*l)+1,this.intervalId=setInterval(this.handleOnePeriod,o*r))}componentWillUnmount(){this.intervalId&&clearInterval(this.intervalId)}render(e){const{shapes:t=[]}=e;return i.default.h("div",{class:"tabLoading loadingShapes"},i.default.h("div",{class:Object(a.a)("loadingShape","yellow",t[0]||"circle")}),i.default.h("div",{class:Object(a.a)("loadingShape","lightOrange",t[1]||"circle")}),i.default.h("div",{class:Object(a.a)("loadingShape","orange",t[2]||"circle")}),i.default.h("div",{class:Object(a.a)("loadingShape","peach",t[3]||"circle")}),i.default.h("div",{class:Object(a.a)("loadingShape","green",t[4]||"circle")}),i.default.h("div",{class:Object(a.a)("loadingShape","turquoise",t[5]||"circle")}),i.default.h("div",{class:Object(a.a)("loadingShape","cornflowerBlue",t[6]||"circle")}))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(900);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(14),s=n(468),o=n(469),r=n(470),l=n(471),c=n(472),d=n(58),u=n(901),h=n(191),p=n(479),m=n(11),f=n(3),g=n(467),b=n(1),v=n(23),y=n(903);n.n(y);const C=i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24",key:"settingsSvg"},i.default.h("path",{fill:"#554d56","fill-rule":"evenodd",d:"M11.437 7.5a2 2 0 0 1-3.874 0H4.5a.5.5 0 0 1 0-1H7.563a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-8.063zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4.5a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1H9.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"}));class w extends i.default.Component{constructor(e){super(e),this.createFormatSelectHandler=this.createFormatSelectHandler.bind(this),this.handleEntryClick=this.handleEntryClick.bind(this),this.handleDoubleClick=this.handleDoubleClick.bind(this)}handleDoubleClick(){this.props.onDblClick()}handleEntryClick(e){const{onClick:t}=this.props;e.stopPropagation(),t(e)}createFormatSelectHandler(e){const{onFormatChange:t}=this.props;return n=>{n.stopPropagation(),t(e)}}render(e){const{name:t,size:n,formats:s,selectedFormat:o,light:r,previewImages:c}=e;return i.default.h("div",{class:Object(f.a)("assetEntry","noSelect",{selected:!!o}),onClick:this.handleEntryClick,onDblClick:this.handleDoubleClick},i.default.h(l.a,{class:"preview",light:r,images:c}),i.default.h("div",{class:"entryInfo"},i.default.h("div",{class:"name ellipsis"},t),i.default.h("div",{class:"size ellipsis"},n&&`${n.width} × ${n.height}`)),o&&i.default.h("div",null,Object.keys(s).sort(g.b).map(e=>i.default.h(a.a,{key:e,class:Object(f.a)("exportType",{selected:o===e}),onClick:this.createFormatSelectHandler(e)},e))))}}const S=e=>document.body.classList.contains("mac")?e.metaKey:e.ctrlKey,k="png";function E(e){return Object.keys(e).sort().join("&")}t.a=class extends i.default.Component{constructor(e){super(e),this.createDownloadClickHandler=this.createDownloadClickHandler.bind(this),this.clearAssetSelection=this.clearAssetSelection.bind(this),this.showSettingsMenu=this.showSettingsMenu.bind(this),this.hideSettingsMenu=this.hideSettingsMenu.bind(this),this.handleDownloadSelectedClick=this.handleDownloadSelectedClick.bind(this),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this),this.handleAssetClick=this.handleAssetClick.bind(this),this.handleAssetFormatChange=this.handleAssetFormatChange.bind(this),this.getPreferredFormatObjectForAsset=this.getPreferredFormatObjectForAsset.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.state={shiftPressed:!1,cmdPressed:!1,lastSelectedAssetIndex:0,assetFormatPreference:{},assetSelections:{}}}clearAssetSelection(){this.setState({assetSelections:{},lastSelectedAssetIndex:0})}getPreferredFormatObjectForAsset(e){const{assetFormatPreference:t}=this.state,n=t[E(e.formats)]||k;return{[e.id]:n}}hideSettingsMenu(){this.setState({settingsOpen:!1})}showSettingsMenu(){this.setState({settingsOpen:!0})}handleAssetClick(e,t){const{lastSelectedAssetIndex:n,assetSelections:i}=this.state,a=t.shiftKey,s=S(t),{assets:o}=this.props;if(a){const t=Math.min(n,e),a=Math.max(n,e),s=o.slice(t,a+1),r=function(e,t,n){const i=Object.assign({},e);for(let a=n-1;a>=0;a--){const e=t[a].id;if(!i[e])break;delete i[e]}for(let a=n;a<t.length;a++){const e=t[a].id;if(!i[e])break;delete i[e]}return i}(i,o,n),l=s.reduce((e,t)=>Object.assign(e,this.getPreferredFormatObjectForAsset(t)),r);return void this.setState(e=>({assetSelections:l}))}const r=this.getPreferredFormatObjectForAsset(o[e]);if(s){const t=o[e].id;if(t in i){const e=Object.assign({},i);delete e[t],this.setState({assetSelections:Object.assign({},e)})}else this.setState({assetSelections:Object.assign({},i,r),lastSelectedAssetIndex:e})}else this.setState(t=>({assetSelections:r,lastSelectedAssetIndex:e}))}handleAssetFormatChange(e,t){const{assetSelections:n,assetFormatPreference:i}=this.state,{assets:a}=this.props,s=a[e],o=Object.assign({},n,{[s.id]:t});this.setState({assetSelections:o,assetFormatPreference:Object.assign({},i,{[E(s.formats)]:t})})}handleDocumentClick(e){this.nodeRefs&&this.nodeRefs.individualAssets&&!this.nodeRefs.individualAssets.contains(e.target)&&this.clearAssetSelection()}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.clearAssetSelection()}handleDownloadSelectedClick(e){e.stopPropagation();const{onDownloadSelectedClick:t}=this.props,{assetSelections:n}=this.state,i=Object.keys(n).map(e=>({assetId:e,format:n[e]}));i.length&&t(i)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}createDownloadClickHandler(e,t){const{onDownloadClick:n}=this.props;return()=>{n(e,t)}}componentDidMount(){v.c.get("assetFormatPreference").then(e=>{e&&this.setState({assetFormatPreference:e})}),document.addEventListener("keydown",this.handleDocumentKeydown),document.addEventListener("click",this.handleDocumentClick)}componentWillReceiveProps(){this.clearAssetSelection()}componentDidUpdate(e,{assetSelections:t,assetFormatPreference:n}){const{assetSelections:i,assetFormatPreference:a}=this.state,s=Object.keys(t).length,o=Object.keys(i).length;n!==a&&function(e){v.c.set("assetFormatPreference",e)}(a),0===s&&o>0?document.body.classList.add("supportButtonHidden"):s>0&&0===o&&document.body.classList.remove("supportButtonHidden")}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeydown),document.removeEventListener("click",this.handleDocumentClick)}renderExportGroups(){const{assets:e,showOptimizedSVG:t}=this.props,n={};for(let i of e)Object.keys(i.formats).forEach(e=>{n[e]=(n[e]||[]).concat(i.formats[e].variants)});return Object.keys(n).sort(g.b).map(e=>i.default.h(r.a,{key:e,format:e,variants:n[e],hideOptimization:"svg"===e&&!t,onDownloadClick:this.createDownloadClickHandler("all",e)}))}renderIndividuals(){const{assets:e,namingConvention:t}=this.props,{assetSelections:n}=this.state;return e.map((e,a)=>{const s=this.getPreferredFormatObjectForAsset(e);return i.default.h(w,{key:e.id,name:e.localName||Object(g.a)(e,t),formats:e.formats,light:e.light,size:e.size,selectedFormat:n[e.id],previewImages:e.previewImages,onDblClick:this.createDownloadClickHandler(e.id,s[e.id]),onClick:function(e,t){return n=>t(e,n)}(a,this.handleAssetClick),onFormatChange:function(e,t){return n=>t(e,n)}(a,this.handleAssetFormatChange)})})}render(e,t){const{assets:n,source:r="sketch",loading:l,restricted:g,densityWarningHidden:v,namingConvention:y,showOptimizedSVG:w,projectType:S,onHideDensityWarningClick:k,onNamingConventionChange:E,onShowOptimizedSVGChange:j}=e,{assetSelections:x,settingsOpen:D}=t,_=i.default.h("div",{class:"assetsTitle"},"Assets",i.default.h(c.a,{open:D,onClose:this.hideSettingsMenu,onNamingConventionChange:E,onShowOptimizedSVGChange:j,projectType:S,settings:{namingConvention:y,showOptimizedSVG:w},target:i.default.h(a.a,{class:Object(f.a)("assetSettingsButton",{active:D}),onClick:this.showSettingsMenu},C)}));let O;if(l)O=i.default.h(p.a,{shapes:["square","circle","triangleUp","circle","square","pentagon","triangleDown"],randomFlipLastShape:!0});else if(g)O=i.default.h(d.a,{class:"restricted"},i.default.h("h1",null,"Limited access"),i.default.h("p",null,"This project belongs to an organization but looks like you're not a member. If you're a developer or a designer and want to access these resources, please ",i.default.h("a",{href:"#",onClick:this.handleRequestInviteClick},"request an invite")," from admins!"));else if(n.length){const e=n.some(e=>e.densityMismatch);O=[i.default.h(d.a,{class:"allAssets",key:"allAssets"},!Object(b.f)()&&i.default.h(o.a,{class:"warningBox"}),e&&!v&&i.default.h(s.a,{class:"warningBox",onHideClick:k}),i.default.h("h2",{class:"title"},"Download all assets"),this.renderExportGroups()),i.default.h(d.a,{title:"Download individual assets",key:"individualAssets"},i.default.h("div",{class:"individualAssets",ref:Object(m.a)(this,"individualAssets")},this.renderIndividuals()),i.default.h("div",{class:"spacer"}))]}else O=i.default.h(d.a,null,i.default.h(u.a,{source:r}));return i.default.h(h.a,{onClick:this.handleDocumentClick,title:_,class:"assetsTab",afterContent:Object.keys(x).length>0&&i.default.h(a.a,{class:"downloadSelected noSelect",onClick:this.handleDownloadSelectedClick},"Download selected assets")},O)}}},function(e,t,n){"use strict";var i=n(0),a=n(5),s=n(902);n.n(s);t.a=function(e){return i.default.h("div",{class:"noScreenAssets"},i.default.h("h1",null,"Rock paper scissors",i.default.h("img",{src:a.b("img/emjAssetVictory.png"),srcset:a.c(a.b("img/emjAssetVictory.png")),alt:"✌",class:"victory"}),i.default.h("img",{src:a.b("img/emjScissors.png"),srcset:a.c(a.b("img/emjScissors.png")),alt:"✂",class:"scissors"})),function(e){switch(e){case"sketch":return i.default.h("div",{class:"info sketchFile"},i.default.h("p",null,i.default.h("strong",null,"Set layers as exportable or draw slices")," in Sketch and Zeplin will generate assets and list them here."),i.default.h("img",{src:a.b("img/icSketchSampleAsset.svg"),class:"sampleAsset"}),i.default.h("img",{src:a.b("img/icSketchMakeExportable.png"),srcset:a.c(a.b("img/icSketchMakeExportable.png")),class:"exportableAsset"}),i.default.h("p",null,"or"),i.default.h("img",{src:a.b("img/icSketchDrawSlices.svg"),class:"sliceAsset"}),i.default.h("p",null,"If you want to be a pro, check out how it works from ",i.default.h("a",{href:"https://blog.zeplin.io/exporting-assets-in-zeplin-50b8b4a56b05",target:"_blank"},"here.")));case"psd":return i.default.h("div",{class:"info psdFile"},i.default.h("p",null,i.default.h("strong",null,"Mark layers as assets")," in Photoshop, from Zeplin’s panel and Zeplin will generate assets and list them here."),i.default.h("img",{src:a.b("img/icPhotoshopSampleAsset.svg"),class:"sampleAsset"}),i.default.h("img",{src:a.b("img/icPhotoshopMakeExportable.png"),srcset:a.c(a.b("img/icPhotoshopMakeExportable.png")),class:"exportableAsset"}),i.default.h("p",null,"If you want to be a pro, check out how it works from ",i.default.h("a",{href:"https://blog.zeplin.io/photoshop-open-beta-now-3f8f502fc4de",target:"_blank"},"here.")));case"figma":return i.default.h("div",{class:"info"},i.default.h("p",null,i.default.h("strong",null,"Set layers as exportable")," in Figma and Zeplin will generate assets and list them here."),i.default.h("img",{src:a.b("img/icFigmaSampleAsset.svg"),class:"sampleAsset"}),i.default.h("img",{src:a.b("img/icFigmaMakeExportable.png"),srcset:a.c(a.b("img/icFigmaMakeExportable.png")),class:"exportableAsset"}));case"xd":return i.default.h("div",{class:"info"},i.default.h("p",null,i.default.h("strong",null,"Mark layers for export")," in Adobe XD CC from the layer list, Zeplin will generate assets and list them here."),i.default.h("img",{src:a.b("img/icXDSampleAsset.svg"),class:"sampleAsset"}),i.default.h("img",{src:a.b("img/icXDMakeExportable.png"),srcset:a.c(a.b("img/icXDMakeExportable.png")),class:"exportableAsset"}))}}(e.source))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(905);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(14),s=n(380),o=n(58),r=n(191),l=n(906),c=n(3),d=n(1),u=n(399),h=n(5),p=n(909);n.n(p);const m=["open","mentioned","resolved"];function f({color:e,count:t,status:n}){return i.default.h("div",{class:"statusFilterLabel"},e&&i.default.h("div",{class:Object(c.a)("color",e)}),i.default.h("span",null,t>0?t:"No"," ",Object(d._2)(n)))}class g extends i.default.Component{constructor(e){super(e),this.handleStatusChange=this.handleStatusChange.bind(this),this.colorClickHandlers=u.a.map(e=>()=>{this.handleColorClick(e)})}handleColorClick(e){const{selectedColor:t,selectedStatus:n,onFilterChange:i}=this.props;i(n,t===e?null:e)}handleStatusChange(e){const{selectedColor:t,selectedStatus:n,onFilterChange:i}=this.props;n!==e&&i(e,t)}render(){const{selectedColor:e,selectedStatus:t,dotCount:n}=this.props;return i.default.h(s.a,{top:22,onChange:this.handleStatusChange},m.map(a=>i.default.h(s.a.Item,{label:i.default.h(f,{color:e,count:n,status:a}),value:a,selected:t===a,key:a},i.default.h("span",{class:"noteStatusFilterItem"},Object(d._2)(a)," notes"))),i.default.h("div",{class:"noteFilterSeperator"}),i.default.h("div",{class:"noteColorFilter"},u.a.map((t,n)=>i.default.h("div",{key:t,class:Object(c.a)("noteColorFilterItem",t,{selected:t===e}),onClick:this.colorClickHandlers[n]}))))}}t.a=class extends i.default.Component{renderEmptyState(){const{dots:e,selectedStatus:t,onAddNoteClick:n}=this.props;return e.length?"open"===t?i.default.h("div",{class:"empty open"},i.default.h("h1",null,"No open notes"),i.default.h("p",null,"Add notes by clicking on a design while holding down the ",i.default.h("span",{class:"dotMacShortcut"},"Command"),i.default.h("span",{class:"dotWinShortcut"},"Ctrl")," key."),i.default.h("div",{class:"shortcuts"},i.default.h("img",{class:"dotMacShortcut",src:Object(h.b)("img/icDotMacShortcut.svg")}),i.default.h("img",{class:"dotWinShortcut",src:Object(h.b)("img/icDotWinShortcut.png"),srcset:Object(h.c)(Object(h.b)("img/icDotWinShortcut.png"))})),i.default.h("p",null,"The first one is on us:"),i.default.h(a.a,{class:"addFirstNoteButton",onClick:n},"Add Note")):"resolved"===t?i.default.h("div",{class:"empty resolved"},i.default.h("h1",null,"No resolved notes"),i.default.h("p",null,"Looks like things are going pretty hectic these days ",i.default.h("img",{src:Object(h.b)("img/emjSweatTears.png"),srcset:Object(h.c)(Object(h.b)("img/emjSweatTears.png"))})),i.default.h("p",null,"You can resolve notes from the first comment or by right clicking on a note.")):"mentioned"===t?i.default.h("div",{class:"empty mentioned"},i.default.h("h1",null,"No mentioned notes"),i.default.h("p",null,"Looks like you’re not mentioned in any notes. Relax and grab a coffee—or tea, if that’s what you’re into.")):void 0:i.default.h("div",{class:"empty noDots"},i.default.h("h1",null,"What a quiet team!",i.default.h("img",{src:Object(h.b)("img/icQuietMaymus.png"),srcset:Object(h.c)(Object(h.b)("img/icQuietMaymus.png"))})),i.default.h("p",null,"Looks like you didn’t add any notes yet. When you do, they’ll be listed here."),i.default.h("p",null,"Add notes by clicking on a design while holding down the ",i.default.h("span",{class:"dotMacShortcut"},"Command"),i.default.h("span",{class:"dotWinShortcut"},"Ctrl")," key."),i.default.h("div",{class:"shortcuts"},i.default.h("img",{class:"dotMacShortcut",src:Object(h.b)("img/icDotMacShortcut.svg")}),i.default.h("img",{class:"dotWinShortcut",src:Object(h.b)("img/icDotWinShortcut.png"),srcset:Object(h.c)(Object(h.b)("img/icDotWinShortcut.png"))})),i.default.h("p",null,"The first one is on us:"),i.default.h(a.a,{class:"addFirstNoteButton",onClick:n},"Add Note"))}renderTab(e,t){return i.default.h(r.a,{class:"notesTab",title:e},i.default.h(o.a,null,t))}render(e){const{loading:t,commentFormatter:n,dots:a,selectedColor:s,selectedStatus:o,onNoteClick:r,onFilterChange:c}=e,d=a.filter(e=>(null===s||e.color===s)&&("mentioned"===o&&!0===e.mentioned||o===e.status));if(t)return this.renderTab("Notes",i.default.h("div",{class:"loadingDots"},i.default.h("img",{src:Object(h.b)("img/icDotsLoading.png"),srcset:Object(h.c)(Object(h.b)("img/icDotsLoading.png"))}),i.default.h("div",null,"Loading notes…")));const u=a.length?i.default.h("div",{class:"notesTitle"},"Notes",i.default.h(g,{dotCount:d.length,selectedColor:s,selectedStatus:o,onFilterChange:c})):"Notes";let p;return d.length?(p=d.map(({id:e,color:t,comments:a,name:s})=>i.default.h(l.a,{key:e,color:t,id:e,commentFormatter:n,comments:a,name:s,onNoteClick:r}))).push(i.default.h("div",{class:"endingMark"},"~")):p=this.renderEmptyState(),this.renderTab(u,p)}}},function(e,t,n){"use strict";var i=n(907);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),a=n(35),s=n(164),o=n(3),r=n(11),l=n(1),c=n(908);n.n(c);function d(e){const t=new Date(e.updated),n=new Date(e.created);return t-n>3e5?t:n}function u(e,t){if(e.length===t)return`${t} more ${t>1?"replies":"reply"}`;const n=e.slice(0,e.length-t);return t>0?`${n.join(", ")} and ${t} more also replied`:1===n.length?`${n[0]} also replied`:`${n.slice(0,-1).join(", ")} and ${n[n.length-1]} also replied`}const h=document.createElement("canvas").getContext("2d");function p(e){return h.measureText(e)}function m({children:[e=""],formatter:t}){const n=t?t(e):e;return i.default.h("div",{class:"content",dangerouslySetInnerHTML:{__html:n}})}h.font="italic 12px Roboto";t.a=class extends i.default.Component{constructor(e){super(e),this.hiddenAuthorCount=0,this.otherAuthorNames=[],this.handleClick=this.handleClick.bind(this)}adjustOtherAuthors(){const{comments:e}=this.props,{repliesSummary:t}=this.nodeRefs||{},n=this.otherAuthorNames.length;if(e.length<3||!t||!n)return;const i=t.offsetWidth;let a=u(this.otherAuthorNames,this.hiddenAuthorCount);for(;p(a).width>i&&this.hiddenAuthorCount<=n;)this.hiddenAuthorCount++,a=u(this.otherAuthorNames,this.hiddenAuthorCount);t.textContent=a}handleClick(e){if(e.button!==Zeplin.MOUSE_BUTTON.LEFT||"a"===e.target.tagName.toLowerCase())return;const{id:t,comments:n,onNoteClick:i}=this.props;i(t,n.length>1?n[n.length-1]._id:null)}componentDidMount(){this.adjustOtherAuthors()}componentDidUpdate(){this.adjustOtherAuthors()}renderOtherReplies(){const{comments:e}=this.props,t=e.map(e=>e.author||{username:"Anonymous"}),n=t[0],s=t[e.length-1],o=new Set([n.username,s.username]),c=[];t.forEach(e=>{o.has(e.username)||(o.add(e.username),c.push(e))});const d=e.length-2,h=c.filter(e=>!!e._id).length;let p;return c.sort(({_id:e},{_id:t})=>e?t?0:-1:1),this.otherAuthorNames=c.map(e=>e.username),this.hiddenAuthorCount=c.length-h,p=h&&this.otherAuthorNames.length?u(this.otherAuthorNames,this.hiddenAuthorCount):d>1?`${d} more replies`:"1 more reply",i.default.h("div",{class:"otherReplies"},i.default.h("div",{class:"avatars"},c.map(e=>{const{src:t}=Object(l.C)(e);return i.default.h(a.a,{class:"authorAvatar",src:t,width:"16",height:"16"})})),i.default.h("div",{class:"summary",ref:Object(r.a)(this,"repliesSummary")},p))}render(e){const{color:t,comments:n,name:r,commentFormatter:c}=e,u=n[0],h=n.length>1?n[n.length-1]:null,{author:p={username:"Anonymous"},note:f}=u,{author:g={username:"Anonymous"},note:b}=h||{};return i.default.h("div",{class:Object(o.a)("dotEntry",t),onClick:this.handleClick},i.default.h("div",{class:"comment"},i.default.h("h4",null,i.default.h("div",{class:"commentHeader"},i.default.h(a.a,{src:Object(l.C)(p).src,width:"24",height:"24"}),i.default.h("div",{class:"author ellipsis"},p.username),i.default.h(s.a,{type:"time-ago",format:"micro",class:"time",datetime:d(u)})),i.default.h("div",{class:"number"},r)),i.default.h(m,{formatter:c},f)),n.length>2&&this.renderOtherReplies(),h&&i.default.h("div",{class:"comment"},i.default.h("h4",null,i.default.h("img",{class:"replyArrow",src:"/img/icDotReply.svg"}),i.default.h(a.a,{src:Object(l.C)(g).src,width:"24",height:"24"}),i.default.h("div",{class:"author ellipsis"},g.username),i.default.h(s.a,{type:"time-ago",format:"micro",class:"time",datetime:d(h)})),i.default.h(m,{formatter:c},b)))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(33),a=n(190),s=n(399);t.a=function(e,t,n,o,r){return{info:function(e,t){const{_id:n,appUri:i,description:s,tags:o=[],versions:r,webUrl:l}=e;return{id:n,appUri:i,authors:Object(a.b)(r),description:s,grid:t.snapshot.grid,sourceFile:t.sourceFile,source:t.snapshot.source,tags:o,webUrl:l,version:t,screen:e}}(e,t),colors:function(e,t,n){const s=new Set,o={screenColors:[]};function r(e){const i=Object(a.c)(e,t,n);s.has(i.colorStyle)||(o.screenColors.push(i),s.add(i.colorStyle))}const{snapshot:l}=e;return l.backgroundColor&&(o.backgroundColor=Object(a.c)(new i.a(l.backgroundColor),t,n)),l.layers?(l.layers.forEach(function e(t){"group"===t.type&&(t.layers.forEach(e),"bottom"!==t.interactionLevel&&"top"!==t.interactionLevel)||("text"===t.type&&t.textStyles&&t.textStyles.forEach(e=>{e.style.color&&r(new i.a(e.style.color))}),t.fills.forEach(e=>{switch(e.fillType){default:case"color":r(new i.a(e.color));break;case"gradient":e.gradient.colorStops.forEach(e=>{r(new i.a(e.color))})}}))}),o):o}(t,n,o),assets:function(e,t,n){const{snapshot:{assets:i,source:s}}=t;return{assets:i?i.map(e=>Object(a.a)(e,n)).filter(Boolean):[],source:s}}(0,t,n),notes:function(e,t){return{loading:!("dots"in e),dots:e.dots?e.dots.map(e=>{const n=Object(s.b)(new i.a(e.color).hexBase()),a=Object(s.c)(e,t);return{id:e._id,color:n,comments:e.comments,name:e.name,status:e.status?e.status:"open",mentioned:a}}):[]}}(e,r.user)}}},function(e,t){},function(e,t){}],[498]);
//# sourceMappingURL=maps/project.map.js